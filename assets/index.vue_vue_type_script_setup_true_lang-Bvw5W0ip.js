
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{ag as A,ah as B,d as R,ai as z,a3 as I,M as N,N as v,o as h,m as g,r as W,B as j,a6 as b,T as D,aj as F,ak as y,al as x,am as H,an as U,g as w,Z as X,ae as q,ac as G,a1 as O,ao as V,ap as Z,k as J,a as c,aq as $,l as K,c as M,R as T,S as Q,O as Y}from"./index-Bnionyve.js";function ee(u){const t=new WeakMap,d=A();function f(a){if(u.mode!=="popLayout")return;const o=a.element,s=o.offsetParent,m=s instanceof HTMLElement&&s.offsetWidth||0,n={height:o.offsetHeight||0,width:o.offsetWidth||0,top:o.offsetTop,left:o.offsetLeft,right:0};n.right=m-n.width-n.left;const i=u.anchorX==="left"?"left: ".concat(n.left):"right: ".concat(n.right);a.element.dataset.motionPopId=a.id;const e=document.createElement("style");d.value.nonce&&(e.nonce=d.value.nonce),t.set(a,e),document.head.appendChild(e),e.sheet&&e.sheet.insertRule('\n    [data-motion-pop-id="'.concat(a.id,'"] {\n      position: absolute !important;\n      width: ').concat(n.width,"px !important;\n      height: ").concat(n.height,"px !important;\n      top: ").concat(n.top,"px !important;\n      ").concat(i,"px !important;\n      }\n      "))}function p(a){const o=t.get(a);o&&(t.delete(a),B.render(()=>{document.head.removeChild(o)}))}return{addPopStyle:f,removePopStyle:p,styles:t}}function L(u){return Promise.resolve().then(()=>{u()})}const te=R({name:"AnimatePresence",inheritAttrs:!0,__name:"AnimatePresence",props:{mode:{default:"sync"},initial:{type:Boolean,default:!0},as:{},custom:{},onExitComplete:{},anchorX:{default:"left"}},setup(u){const t=u;z(t);const{addPopStyle:d,removePopStyle:f,styles:p}=ee(t);function a(i){let e=i;for(;e;){if(y.get(e))return e;e=e.firstElementChild}return null}function o(i){const e=y.get(i);e&&(f(e),e.isVShow=!0,x(i),L(()=>{e.setActive("exit",!1)}))}const s=new Map;I(()=>{s.clear()});function m(i,e){var _;const l=a(i),r=y.get(l);if(!l||!r){e(),s.size===0&&((_=t.onExitComplete)==null||_.call(t));return}s.set(l,!0),x(l),d(r);function C(E){var k,P;if((k=E==null?void 0:E.detail)!=null&&k.isExit){const S=r.visualElement.projection;if((S==null?void 0:S.animationProgress)>0&&!r.isSafeToRemove&&!r.isVShow)return;x(l),s.delete(l),s.size===0&&((P=t.onExitComplete)==null||P.call(t)),p.has(r)?f(r):r.willUpdate("done"),e(),l.isConnected||r.unmount(!0)}}L(()=>{r.setActive("exit",!0),H.set(l,C),l.addEventListener("motioncomplete",C)})}const n=N(()=>t.mode!=="wait"?{tag:t.as}:{mode:t.mode==="wait"?"out-in":void 0});return(i,e)=>(h(),v(b(i.mode==="wait"?D:F),j({css:!1},n.value,{appear:"",onEnter:o,onLeave:m}),{default:g(()=>[W(i.$slots,"default")]),_:3},16))}}),oe=R({name:"FaSmoothSwipe",__name:"index",props:{activeIndex:{}},setup(u){const t=u,d=U(),f=w(),p=w([]);X(()=>{q(()=>{p.value=d.default?d.default():[]})});const a=G("contentRef"),o=w("right");O(()=>t.activeIndex,(m,n)=>{o.value=m>(n!=null?n:-1)?"right":"left",V(()=>{f.value=m})},{immediate:!0});const{height:s}=Z(a);return(m,n)=>(h(),v(c($),{as:"div",class:"w-full",style:{position:"relative",overflow:"hidden"},animate:{height:"".concat(c(s)+1,"px")},transition:{type:"spring",stiffness:200,damping:25,duration:.3}},{default:g(()=>[J(c(te),{initial:!1,mode:"sync"},{default:g(()=>[(h(),v(c($),{key:c(f),as:"div",initial:{x:c(o)==="left"?"-100%":"100%",opacity:0},animate:{x:"0%",opacity:1},exit:{x:c(o)==="left"?"50%":"-50%",opacity:0},transition:{type:"tween",stiffness:300,damping:30,duration:.3},style:{position:"absolute",left:0,right:0,top:0}},{default:g(()=>[K("div",{ref_key:"contentRef",ref:a},[(h(!0),M(T,null,Q(c(p),(i,e)=>(h(),M(T,{key:e},[e===c(f)?(h(),v(b(i),{key:0})):Y("",!0)],64))),128))],512)]),_:1},8,["initial","exit"]))]),_:1})]),_:1},8,["animate"]))}});export{oe as _};
