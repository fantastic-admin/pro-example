
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{_ as A}from"./index.vue_vue_type_script_setup_true_lang-DxRROI7U.js";import{d as F,J as N,L as K,$ as O,a0 as U,M as r,a1 as k,Z as E,a2 as x,a3 as J,g as W,a4 as Z,c as S,o as m,l as s,N as p,O as M,k as a,n as l,a as t,w as b,x as f,P as j,m as w,T as q,a5 as G,a6 as y,R as Q,a7 as X,U as Y,a8 as ee,V as te}from"./index-Bnionyve.js";import{u as ie}from"./index-DrbO6XKF.js";import ae from"./index-CA_O2Qi1.js";import oe from"./index-BhvKjP5O.js";import se from"./index-CPqv5hXk.js";import ne from"./index-B2FjrN-K.js";import re from"./index-Cr2cDFnJ.js";import me from"./index-BihIrX1r.js";import le from"./index-_giMu-4o.js";import pe from"./iframe-o_xo_iZd.js";import ue from"./link-Dq7XKlLa.js";import{u as de}from"./watermark--OpN5N6S.js";import{u as ce}from"./useMainPage-BMuzrlvW.js";import"./index-D_V_eJgL.js";import"./index-Bo-_Kxas.js";import"./index-GW34aOAv.js";import"./index.vue_vue_type_script_setup_true_lang-C1Az0cIr.js";import"./nullish-CHIgUVhi.js";import"./useFormControl-w_mwXmte.js";import"./check-w8HtlROy.js";import"./index.vue_vue_type_script_setup_true_lang-DTbGvA6c.js";import"./index.vue_vue_type_script_setup_true_lang-C9qLfOM9.js";import"./useGraceArea-CADbF9Ky.js";import"./VisuallyHiddenInput-DIcn5ZUO.js";import"./index.vue_vue_type_script_setup_true_lang-BhWEUCSI.js";import"./sortable.esm-BMgLh4Kk.js";import"./index-_qt5mHQN.js";import"./index.vue_vue_type_script_setup_true_lang-Cjr7sE9E.js";import"./index.vue_vue_type_script_setup_true_lang-DV-gSaXc.js";import"./index.vue_vue_type_script_setup_true_lang-qwRnxT-f.js";import"./index-BoypW2lk.js";import"./index.vue_vue_type_script_setup_true_lang-DlubHvhX.js";import"./index.vue_vue_type_script_setup_true_lang-BGlUUJI7.js";import"./logo-A4CMGNjt.js";import"./index.vue_vue_type_script_setup_true_lang-B82EB33L.js";import"./item-B68YLLh5.js";import"./index-BQCFIJC_.js";import"./sub.vue_vue_type_script_setup_true_lang-C2XQaksz.js";import"./index.vue_vue_type_script_setup_true_lang-DWBb29sC.js";import"./item-w-j_qmtO.js";import"./sub.vue_vue_type_script_setup_true_lang-OO-NHHnH.js";import"./index.vue_vue_type_script_setup_true_lang-BlKfdQqy.js";import"./index-CJFXYYFb.js";import"./index-BX4ZDC7y.js";import"./index.vue_vue_type_script_setup_true_lang-M237O3YI.js";import"./moreAction-BB_N8FNI.js";import"./index-Cm0HenuK.js";import"./useTabbar-DQUDAxhI.js";import"./index-gyDSncDv.js";import"./leftSide.vue_vue_type_script_setup_true_lang-DwU-q1eA.js";import"./tools.vue_vue_type_script_setup_true_lang-DymzGu54.js";import"./index-BGFN9x6U.js";import"./index-CAGKFdhm.js";import"./item.vue_vue_type_script_setup_true_lang-Cx1MIO9V.js";import"./index.vue_vue_type_script_setup_true_lang-BN-zlwPl.js";import"./index.vue_vue_type_script_setup_true_lang-Dz_DQuxI.js";import"./panel-CbFfefT7.js";import"./index.vue_vue_type_script_setup_true_lang-CWRCgclB.js";import"./index-CHsVDJ8j.js";import"./index-BkDWz5Sq.js";import"./search-B6cPNmRH.js";import"./index-Bm1ehDde.js";import"./panel.vue_vue_type_script_setup_true_lang-C8qneO3h.js";import"./all.vue_vue_type_script_setup_true_lang-CA2W5Acx.js";import"./index-xnYn5G5K.js";import"./rightSide.vue_vue_type_script_setup_true_lang-gIMGubsD.js";const ge={class:"wrapper"},be={class:"main-container pb-[var(--g-main-container-padding-bottom)]"},fe={id:"app-content",class:"main"},ve={class:"copyright"},he=F({name:"Layout",__name:"index",setup(_e){const d=N(),e=K(),C=O(),P=U();de();const v=ce(),z=r(()=>["single","side","only-side","side-panel"].includes(e.settings.menu.mode)||e.mode==="mobile"||e.mainPageMaximizeStatus),H=r(()=>e.settings.menu.mode==="single"||["head","only-head","head-panel"].includes(e.settings.menu.mode)&&e.mode!=="mobile"||e.mainPageMaximizeStatus),V=r(()=>["only-side","only-head","side-panel","head-panel"].includes(e.settings.menu.mode)&&e.mode!=="mobile"||P.sidebarMenus.every(i=>{var o;return((o=i.meta)==null?void 0:o.menu)===!1})||e.mainPageMaximizeStatus),$=r(()=>!e.settings.tabbar.enable||e.mainPageMaximizeStatus),T=r(()=>!e.settings.toolbar.enable||!e.settings.toolbar.layout.some(i=>i!=="->"?e.settings.app.routeBaseOn==="filesystem"&&i==="breadcrumb"?!1:e.settings.toolbar[i]:!1)||e.mainPageMaximizeStatus),h=r(()=>!!d.meta.iframe),c=r(()=>!!d.meta.link);k(()=>e.settings.menu.subMenuCollapse,i=>{e.mode==="mobile"&&(i?document.body.classList.remove("overflow-hidden"):document.body.classList.add("overflow-hidden"))}),k(()=>d.path,()=>{e.mode==="mobile"&&e.$patch(i=>{i.settings.menu.subMenuCollapse=!0})}),E(()=>{x("alt+up,alt+down",(i,o)=>{switch(i.preventDefault(),o.key){case"alt+up":v.maximize(!0);break;case"alt+down":v.maximize(!1);break}})}),J(()=>{x.unbind("alt+up,alt+down")});const g=W(!1);let n;function B(){n==null||n(),g.value=!0}function D(){n==null||n(),{stop:n}=ee(()=>{g.value=!1},300)}return(i,o)=>{const _=j,L=Z("RouterView"),I=A;return m(),S("div",{class:"layout",style:Y({"--g-header-actual-height":t(z)?"0px":"var(--g-header-height)","--g-main-sidebar-actual-width":t(H)?"0px":"var(--g-main-sidebar-width)","--g-sub-sidebar-actual-width":t(V)?"0px":t(e).settings.menu.subMenuCollapse&&t(e).mode!=="mobile"?"var(--g-sub-sidebar-collapse-width)":"var(--g-sub-sidebar-width)","--g-tabbar-actual-height":t($)?"0px":"var(--g-tabbar-height)","--g-toolbar-actual-height":t(T)?"0px":"var(--g-toolbar-height)"})},[s("div",{id:"app-main",class:l({"main-page-maximize":t(e).mainPageMaximizeStatus})},[a(oe,{class:l({dark:t(e).settings.menu.enableDark})},null,8,["class"]),s("div",ge,[s("div",{class:l(["sidebar-container",{show:t(e).mode==="mobile"&&!t(e).settings.menu.subMenuCollapse}]),onMouseenter:B,onMouseleave:D},[a(ne,{class:l({dark:t(e).settings.menu.enableDark})},null,8,["class"]),a(me,{"is-hover":t(g),class:l({dark:t(e).settings.menu.enableDark})},null,8,["is-hover","class"])],34),s("div",{class:l(["invisible fixed inset-0 z-1009 bg-black/50 op-0 backdrop-blur-sm transition-opacity",{"op-100! visible!":t(e).mode==="mobile"&&!t(e).settings.menu.subMenuCollapse}]),onClick:o[0]||(o[0]=u=>t(e).toggleSidebarCollapse())},null,2),s("div",be,[a(le),s("div",fe,[b(s("div",{class:"exit-main-page-maximize",onClick:o[1]||(o[1]=u=>t(e).setMainPageMaximize())},[a(_,{name:"i-ri:logout-box-line"})],512),[[f,t(e).mainPageMaximizeStatus]]),a(L,null,{default:w(({Component:u,route:R})=>[a(q,{name:t(e).settings.mainPage.enableTransition&&!t(e).isReloading?t(e).settings.mainPage.transitionMode:"",mode:"out-in"},{default:w(()=>[(m(),p(G,{include:t(C).list},[b((m(),p(y(u),{key:R.fullPath})),[[f,!(t(h)||t(c))]])],1032,["include"]))]),_:2},1032,["name"])]),_:1}),b(a(pe,null,null,512),[[f,t(h)&&!t(c)]]),t(c)?(m(),p(ue,{key:0})):M("",!0)]),s("div",ve,[a(I)])])])],2),t(e).settings.userPreferences.enable?(m(),p(re,{key:0})):M("",!0),a(se),(m(),S(Q,{key:1},[s("div",{class:"app-setting",onClick:o[2]||(o[2]=u=>t(X).emit("global-app-setting-toggle"))},[a(_,{name:"i-uiw:setting-o",class:"icon"})]),a(ae)],64)),(m(),p(y(t(ie)("free-position"))))],4)}}}),Bt=te(he,[["__scopeId","data-v-ec9285b1"]]);export{Bt as default};
