
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{d as R,aM as y,aN as U,M as F,ac as N,g as E,Z as S,a4 as s,N as q,o as z,a,m as n,k as o,G as _,b9 as I,V as T}from"./index-Bnionyve.js";import{a as p}from"./dictionary-BQ6V5zoT.js";const h=R({__name:"index",props:y({dictionaryId:{default:""},id:{default:""},tree:{}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:y(["success"],["update:modelValue"]),setup(r,{emit:g}){const u=r,f=g,c=U(r,"modelValue"),x=F(()=>u.id===""?"新增字典项":"编辑字典项"),v=N("formRef"),e=E({dictionaryId:u.dictionaryId,id:u.id,name:"",value:"",enable:!0}),C=E({dictionaryId:[{required:!0,message:"请选择所属字典"}],name:[{required:!0,message:"请输入字典项名称"}],value:[{required:!0,message:"请输入字典项键值"}]});S(()=>{u.id!==""&&p.itemDetail(u.id).then(d=>{e.value.id=d.data.id,e.value.name=d.data.name,e.value.value=d.data.value,e.value.enable=d.data.enable})});function k(){var d;(d=v.value)==null||d.validate(l=>{l&&(e.value.id===""?p.itemCreate(e.value).then(()=>{I.success("模拟新增成功"),f("success"),i()}):p.itemEdit(e.value).then(()=>{I.success("模拟编辑成功"),f("success"),i()}))})}function i(){c.value=!1}return(d,l)=>{const w=s("ElCascader"),m=s("ElFormItem"),V=s("ElInput"),D=s("ElSwitch"),M=s("ElForm"),b=s("ElButton"),B=s("ElDialog");return z(),q(B,{modelValue:c.value,"onUpdate:modelValue":l[4]||(l[4]=t=>c.value=t),title:a(x),width:"400px","close-on-click-modal":!1,"append-to-body":"","destroy-on-close":"",onClosed:i},{footer:n(()=>[o(b,{size:"large",onClick:i},{default:n(()=>[...l[5]||(l[5]=[_(" 取消 ",-1)])]),_:1}),o(b,{type:"primary",size:"large",onClick:k},{default:n(()=>[...l[6]||(l[6]=[_(" 确定 ",-1)])]),_:1})]),default:n(()=>[o(M,{ref_key:"formRef",ref:v,model:a(e),rules:a(C),"label-width":"100px"},{default:n(()=>[o(m,{label:"所属字典",prop:"dictionaryId"},{default:n(()=>[o(w,{modelValue:a(e).dictionaryId,"onUpdate:modelValue":l[0]||(l[0]=t=>a(e).dictionaryId=t),options:r.tree,props:{value:"id",emitPath:!1,checkStrictly:!0},"show-all-levels":!1,placeholder:"请选择所属字典"},null,8,["modelValue","options"])]),_:1}),o(m,{label:"字典项名称",prop:"name"},{default:n(()=>[o(V,{modelValue:a(e).name,"onUpdate:modelValue":l[1]||(l[1]=t=>a(e).name=t),placeholder:"请输入字典项名称",clearable:""},null,8,["modelValue"])]),_:1}),o(m,{label:"字典项键值",prop:"value"},{default:n(()=>[o(V,{modelValue:a(e).value,"onUpdate:modelValue":l[2]||(l[2]=t=>a(e).value=t),placeholder:"请输入字典项键值",clearable:""},null,8,["modelValue"])]),_:1}),o(m,{label:"状态",prop:"enable"},{default:n(()=>[o(D,{modelValue:a(e).enable,"onUpdate:modelValue":l[3]||(l[3]=t=>a(e).enable=t),"inline-prompt":"","active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}}),Z=T(h,[["__scopeId","data-v-60c6efc7"]]);export{Z as default};
