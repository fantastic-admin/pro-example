
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{_ as L}from"./index.vue_vue_type_script_setup_true_lang-BZyteZUS.js";import{d as R,u as N,a as K,b1 as W,aX as X,x as r,N as x,a7 as E,b7 as S,ae as O,n as Q,r as U,c as k,o as m,f as s,l as p,b as M,g as a,A as l,e as t,W as g,X as f,_ as Y,w,R as j,b2 as q,Y as y,F as G,aQ as J,a4 as Z,V as ee,h as te}from"./index-H6QnEWHf.js";import{u as ie}from"./index-DQKdgUNY.js";import ae from"./index-4TVlwUuB.js";import oe from"./index-CTkE_IC0.js";import se from"./index-C5cInWCn.js";import ne from"./index-CLXmqz4X.js";import re from"./index-BIfL-Wk9.js";import me from"./index-2WgK-pUU.js";import le from"./index-DIUSK3bp.js";import pe from"./iframe-DLZRdC8a.js";import ue from"./link-BBoqipfP.js";import{u as de}from"./watermark-B6OY5Jwq.js";import{u as ce}from"./useMainPage-DUpdcC28.js";import"./index-BRDkT_K9.js";import"./index-Bo-_Kxas.js";import"./index-GW34aOAv.js";import"./index.vue_vue_type_script_setup_true_lang-BER60c_g.js";import"./useFormControl-Su_HZn2q.js";import"./check-yGBTZ6zh.js";import"./clamp-BstbYvQo.js";import"./useNonce-BgbsT9jy.js";import"./index.vue_vue_type_script_setup_true_lang-BoQ-Tlfp.js";import"./index.vue_vue_type_script_setup_true_lang-BnHOlB0K.js";import"./useGraceArea-DMfrKGwH.js";import"./VisuallyHiddenInput-CUkjjV_e.js";import"./index.vue_vue_type_script_setup_true_lang-BVpiEY5v.js";import"./sortable.esm-DqU0xpXh.js";import"./index-CVFwfjqr.js";import"./index.vue_vue_type_script_setup_true_lang-CfFfwFlx.js";import"./index.vue_vue_type_script_setup_true_lang-KWURIfPl.js";import"./index.vue_vue_type_script_setup_true_lang-CW0fgqfj.js";import"./index-ClELmDgR.js";import"./index.vue_vue_type_script_setup_true_lang-ChpqWgwo.js";import"./index.vue_vue_type_script_setup_true_lang-6Iu6uENB.js";import"./index.vue_vue_type_script_setup_true_lang-BSS7CchA.js";import"./logo-A4CMGNjt.js";import"./index.vue_vue_type_script_setup_true_lang-BDJq80-l.js";import"./item-BMCHnayz.js";import"./index-qxsEwyoT.js";import"./sub.vue_vue_type_script_setup_true_lang-moNed4gU.js";import"./index.vue_vue_type_script_setup_true_lang-HuBSaWdK.js";import"./item-DR3E2Ae_.js";import"./sub.vue_vue_type_script_setup_true_lang-DGeZmas8.js";import"./index.vue_vue_type_script_setup_true_lang-ByxJxKu_.js";import"./index-BWtx6FQC.js";import"./index-CcGrhDnl.js";import"./index.vue_vue_type_script_setup_true_lang-CWOxsaH-.js";import"./moreAction-CNqP_QFP.js";import"./index-Cm0HenuK.js";import"./useTabbar-CHDZazX8.js";import"./index-BMQjherw.js";import"./leftSide.vue_vue_type_script_setup_true_lang--i3sIhDg.js";import"./tools.vue_vue_type_script_setup_true_lang-BFWWWe7G.js";import"./index-BuZwldE3.js";import"./index-5LqAGxil.js";import"./item.vue_vue_type_script_setup_true_lang-CPGgrVV-.js";import"./index.vue_vue_type_script_setup_true_lang-ZyX-YVeD.js";import"./index.vue_vue_type_script_setup_true_lang-DRqzvLlw.js";import"./panel-B89podQx.js";import"./index.vue_vue_type_script_setup_true_lang-DvouzFMb.js";import"./index-CllVGmTD.js";import"./index-DuklKPZW.js";import"./search-DgdvyzsU.js";import"./index-Bo8xbPXs.js";import"./panel.vue_vue_type_script_setup_true_lang-1cJwtc6s.js";import"./all.vue_vue_type_script_setup_true_lang-DhfkGVIx.js";import"./index-aermS3PO.js";import"./rightSide.vue_vue_type_script_setup_true_lang-CWyfnGSb.js";const be={class:"wrapper"},ge={class:"main-container pb-[var(--g-main-container-padding-bottom)]"},fe={id:"app-content",class:"main"},ve={class:"copyright"},he=R({name:"Layout",__name:"index",setup(_e){const d=N(),e=K(),C=W(),z=X();de();const v=ce(),P=r(()=>["single","side","only-side","side-panel"].includes(e.settings.menu.mode)||e.mode==="mobile"||e.mainPageMaximizeStatus),H=r(()=>e.settings.menu.mode==="single"||["head","only-head","head-panel"].includes(e.settings.menu.mode)&&e.mode!=="mobile"||e.mainPageMaximizeStatus),V=r(()=>["only-side","only-head","side-panel","head-panel"].includes(e.settings.menu.mode)&&e.mode!=="mobile"||z.sidebarMenus.every(i=>{var o;return((o=i.meta)==null?void 0:o.menu)===!1})||e.mainPageMaximizeStatus),$=r(()=>!e.settings.tabbar.enable||e.mainPageMaximizeStatus),B=r(()=>!e.settings.toolbar.enable||!e.settings.toolbar.layout.some(i=>i!=="->"?e.settings.app.routeBaseOn==="filesystem"&&i==="breadcrumb"?!1:e.settings.toolbar[i]:!1)||e.mainPageMaximizeStatus),h=r(()=>!!d.meta.iframe),c=r(()=>!!d.meta.link);x(()=>e.settings.menu.subMenuCollapse,i=>{e.mode==="mobile"&&(i?document.body.classList.remove("overflow-hidden"):document.body.classList.add("overflow-hidden"))}),x(()=>d.path,()=>{e.mode==="mobile"&&e.$patch(i=>{i.settings.menu.subMenuCollapse=!0})}),E(()=>{S("alt+up,alt+down",(i,o)=>{switch(i.preventDefault(),o.key){case"alt+up":v.maximize(!0);break;case"alt+down":v.maximize(!1);break}})}),O(()=>{S.unbind("alt+up,alt+down")});const b=Q(!1);let n;function D(){n==null||n(),b.value=!0}function T(){n==null||n(),{stop:n}=ee(()=>{b.value=!1},300)}return(i,o)=>{const _=Y,A=U("RouterView"),F=L;return m(),k("div",{class:"layout",style:Z({"--g-header-actual-height":t(P)?"0px":"var(--g-header-height)","--g-main-sidebar-actual-width":t(H)?"0px":"var(--g-main-sidebar-width)","--g-sub-sidebar-actual-width":t(V)?"0px":t(e).settings.menu.subMenuCollapse&&t(e).mode!=="mobile"?"var(--g-sub-sidebar-collapse-width)":"var(--g-sub-sidebar-width)","--g-tabbar-actual-height":t($)?"0px":"var(--g-tabbar-height)","--g-toolbar-actual-height":t(B)?"0px":"var(--g-toolbar-height)"})},[s("div",{id:"app-main",class:l({"main-page-maximize":t(e).mainPageMaximizeStatus})},[a(oe,{class:l({dark:t(e).settings.menu.enableDark})},null,8,["class"]),s("div",be,[s("div",{class:l(["sidebar-container",{show:t(e).mode==="mobile"&&!t(e).settings.menu.subMenuCollapse}]),onMouseenter:D,onMouseleave:T},[a(ne,{class:l({dark:t(e).settings.menu.enableDark})},null,8,["class"]),a(me,{"is-hover":t(b),class:l({dark:t(e).settings.menu.enableDark})},null,8,["is-hover","class"])],34),s("div",{class:l(["invisible fixed inset-0 z-1009 bg-black/50 op-0 backdrop-blur-sm transition-opacity",{"op-100! visible!":t(e).mode==="mobile"&&!t(e).settings.menu.subMenuCollapse}]),onClick:o[0]||(o[0]=u=>t(e).toggleSidebarCollapse())},null,2),s("div",ge,[a(le),s("div",fe,[g(s("div",{class:"exit-main-page-maximize",onClick:o[1]||(o[1]=u=>t(e).setMainPageMaximize())},[a(_,{name:"i-ri:logout-box-line"})],512),[[f,t(e).mainPageMaximizeStatus]]),a(A,null,{default:w(({Component:u,route:I})=>[a(j,{name:t(e).settings.mainPage.enableTransition&&!t(e).isReloading?t(e).settings.mainPage.transitionMode:"",mode:"out-in"},{default:w(()=>[(m(),p(q,{include:t(C).list},[g((m(),p(y(u),{key:I.fullPath})),[[f,!(t(h)||t(c))]])],1032,["include"]))]),_:2},1032,["name"])]),_:1}),g(a(pe,null,null,512),[[f,t(h)&&!t(c)]]),t(c)?(m(),p(ue,{key:0})):M("",!0)]),s("div",ve,[a(F)])])])],2),t(e).settings.userPreferences.enable?(m(),p(re,{key:0})):M("",!0),a(se),(m(),k(G,{key:1},[s("div",{class:"app-setting",onClick:o[2]||(o[2]=u=>t(J).emit("global-app-setting-toggle"))},[a(_,{name:"i-uiw:setting-o",class:"icon"})]),a(ae)],64)),(m(),p(y(t(ie)("free-position"))))],4)}}}),At=te(he,[["__scopeId","data-v-ec9285b1"]]);export{At as default};
