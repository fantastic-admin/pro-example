
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{d as ye,J as Ee,n as g,a7 as _e,aQ as j,z as ce,aa as A,ab as H,r as u,aw as we,c as Ve,o as w,g as t,w as l,f as C,i as s,p as J,e as n,am as ke,W as x,aG as D,X as P,_ as ze,t as xe,l as $,b as L,A as Q,j as De,L as $e,h as Be,k as W}from"./index-H6QnEWHf.js";import{_ as Fe}from"./index.vue_vue_type_script_setup_true_lang-DIEW1slA.js";import{a as X,_ as q}from"./index.vue_vue_type_script_setup_true_lang-CeBWJ0zR.js";import{u as Me}from"./index-D6rA-3wF.js";import{u as Se}from"./usePagination-Ci1eRh1x.js";const Pe={class:"space-y-2"},Le={style:{display:"flex","align-items":"center"}},Oe={style:{display:"flex","align-items":"center"}},Y=ye({name:"PagesExampleFormModeList",__name:"list",setup(Re){const O=Ee(),{pagination:y,getParams:Z,onSizeChange:h,onCurrentChange:ee,onSortChange:te}=Se(),E=g(!1),p=g("router"),V=g({id:""}),R={title:"",title2:"",title3:"",title4:""},r=g({...R});function le(){Object.assign(r.value,R)}const v=g({enable:!0,selectionDataList:[]}),B=g(!1),U=g([]);_e(()=>{f(),p.value==="router"&&j.on("get-data-list",()=>{f()})}),ce(()=>{p.value==="router"&&j.off("get-data-list")});function f(){B.value=!0;const a={...Z(),...r.value.title&&{title:r.value.title}};X.list(a).then(e=>{B.value=!1,U.value=e.data.list,y.value.total=e.data.total})}function ne(a){h(a).then(()=>f())}function d(a=1){ee(a).then(()=>f())}function ae({prop:a,order:e}){te(a,e).then(()=>f())}const k=g(),{open:T,update:I}=A().create({destroyOnClose:!0,closeOnClickOverlay:!1,closeOnPressEscape:!1,beforeClose:(a,e)=>{var b;a==="confirm"?(b=k.value)==null||b.submit().then(()=>{f(),e()}):e()},content:()=>H(q,{ref:k,id:V.value.id})}),{open:G,update:K}=Me().create({destroyOnClose:!0,closeOnClickOverlay:!1,closeOnPressEscape:!1,beforeClose:(a,e)=>{var b;a==="confirm"?(b=k.value)==null||b.submit().then(()=>{f(),e()}):e()},content:()=>H(q,{ref:k,id:V.value.id})});function oe(){p.value==="router"?O.push({name:"standardModuleExampleDetail"}):(V.value.id="",p.value==="modal"?(I({title:"新增"}),T()):(K({title:"新增"}),G()))}function se(a){p.value==="router"?O.push({name:"standardModuleExampleDetail",params:{id:a.id}}):(V.value.id=a.id,p.value==="modal"?(I({title:"编辑"}),T()):(K({title:"编辑"}),G()))}function ie(a){A().confirm({title:"确认信息",content:"确认删除「".concat(a.title,"」吗？"),onConfirm:()=>{X.delete(a.id).then(()=>{f(),$e.success("模拟删除成功")})}})}return(a,e)=>{const b=u("ElTag"),_=u("ElRadioButton"),N=u("ElRadioGroup"),ue=ke,z=u("ElInput"),c=u("ElFormItem"),m=u("ElButton"),F=ze,re=u("ElForm"),de=Fe,pe=u("ElDivider"),me=u("ElButtonGroup"),fe=u("ElSpace"),M=u("ElTableColumn"),ge=u("ElTable"),ve=u("ElPagination"),be=De,Ce=we("loading");return w(),Ve("div",{class:Q({"absolute-container":n(E)})},[t(ue,{title:"标准模块",class:"mb-0"},{description:l(()=>[C("div",Pe,[C("p",null,[e[18]||(e[18]=s("标准模块即包含 CRUD (增查改删) 操作的基础模块，开发者可通过 ",-1)),t(b,null,{default:l(()=>[...e[17]||(e[17]=[s("pnpm run new",-1)])]),_:1}),e[19]||(e[19]=s(" 命令快速生成一个标准模块，并在此基础上完善业务模块所需要的功能。",-1))]),e[27]||(e[27]=C("p",null,"同时，标准模块还提供了两个优秀的特性：",-1)),C("p",Le,[e[22]||(e[22]=C("span",{style:{"margin-inline-end":"20px"}},"特性1：列表展示模式",-1)),t(N,{modelValue:n(E),"onUpdate:modelValue":e[0]||(e[0]=i=>J(E)?E.value=i:null),size:"default"},{default:l(()=>[t(_,{value:!1},{default:l(()=>[...e[20]||(e[20]=[s(" 默认 ",-1)])]),_:1}),t(_,{value:!0},{default:l(()=>[...e[21]||(e[21]=[s(" 列表高度自适应 ",-1)])]),_:1})]),_:1},8,["modelValue"])]),C("p",Oe,[e[26]||(e[26]=C("span",{style:{"margin-inline-end":"20px"}},"特性2：表单展示模式",-1)),t(N,{modelValue:n(p),"onUpdate:modelValue":e[1]||(e[1]=i=>J(p)?p.value=i:null),size:"default"},{default:l(()=>[t(_,{value:"router"},{default:l(()=>[...e[23]||(e[23]=[s(" 路由跳转 ",-1)])]),_:1}),t(_,{value:"modal"},{default:l(()=>[...e[24]||(e[24]=[s(" 对话框 ",-1)])]),_:1}),t(_,{value:"drawer"},{default:l(()=>[...e[25]||(e[25]=[s(" 抽屉 ",-1)])]),_:1})]),_:1},8,["modelValue"])])])]),_:1}),t(be,{class:Q({"flex-1 overflow-auto":n(E)}),"main-class":{"flex-1 flex flex-col overflow-auto":n(E)}},{default:l(()=>[t(de,{"show-toggle":!1},{default:l(({fold:i,toggle:S})=>[t(re,{model:n(r),size:"default","label-width":"100px","inline-message":"",inline:"",class:"search-form"},{default:l(()=>[t(c,{label:"标题"},{default:l(()=>[t(z,{modelValue:n(r).title,"onUpdate:modelValue":e[2]||(e[2]=o=>n(r).title=o),placeholder:"请输入标题，支持模糊查询",clearable:"",onKeydown:e[3]||(e[3]=D(o=>d(),["enter"])),onClear:e[4]||(e[4]=o=>d())},null,8,["modelValue"])]),_:1}),x(t(c,{label:"标题2"},{default:l(()=>[t(z,{modelValue:n(r).title2,"onUpdate:modelValue":e[5]||(e[5]=o=>n(r).title2=o),placeholder:"请输入标题，支持模糊查询",clearable:"",onKeydown:e[6]||(e[6]=D(o=>d(),["enter"])),onClear:e[7]||(e[7]=o=>d())},null,8,["modelValue"])]),_:1},512),[[P,!i]]),x(t(c,{label:"标题3"},{default:l(()=>[t(z,{modelValue:n(r).title3,"onUpdate:modelValue":e[8]||(e[8]=o=>n(r).title3=o),placeholder:"请输入标题，支持模糊查询",clearable:"",onKeydown:e[9]||(e[9]=D(o=>d(),["enter"])),onClear:e[10]||(e[10]=o=>d())},null,8,["modelValue"])]),_:1},512),[[P,!i]]),x(t(c,{label:"标题4"},{default:l(()=>[t(z,{modelValue:n(r).title4,"onUpdate:modelValue":e[11]||(e[11]=o=>n(r).title4=o),placeholder:"请输入标题，支持模糊查询",clearable:"",onKeydown:e[12]||(e[12]=D(o=>d(),["enter"])),onClear:e[13]||(e[13]=o=>d())},null,8,["modelValue"])]),_:1},512),[[P,!i]]),t(c,null,{default:l(()=>[t(m,{onClick:e[14]||(e[14]=o=>{le(),d()})},{default:l(()=>[...e[28]||(e[28]=[s(" 重置 ",-1)])]),_:1}),t(m,{type:"primary",onClick:e[15]||(e[15]=o=>d())},{icon:l(()=>[t(F,{name:"i-ep:search"})]),default:l(()=>[e[29]||(e[29]=s(" 筛选 ",-1))]),_:1}),t(m,{link:"",onClick:S},{icon:l(()=>[t(F,{name:i?"i-ep:caret-bottom":"i-ep:caret-top"},null,8,["name"])]),default:l(()=>[s(" "+xe(i?"展开":"收起"),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["model"])]),_:1}),t(pe,{"border-style":"dashed"}),t(fe,{wrap:""},{default:l(()=>[t(m,{type:"primary",size:"default",onClick:oe},{icon:l(()=>[t(F,{name:"i-ep:plus"})]),default:l(()=>[e[30]||(e[30]=s(" 新增 ",-1))]),_:1}),n(v).enable?(w(),$(m,{key:0,size:"default",disabled:!n(v).selectionDataList.length},{default:l(()=>[...e[31]||(e[31]=[s(" 单个批量操作按钮 ",-1)])]),_:1},8,["disabled"])):L("",!0),n(v).enable?(w(),$(me,{key:1},{default:l(()=>[t(m,{size:"default",disabled:!n(v).selectionDataList.length},{default:l(()=>[...e[32]||(e[32]=[s(" 批量操作按钮组1 ",-1)])]),_:1},8,["disabled"]),t(m,{size:"default",disabled:!n(v).selectionDataList.length},{default:l(()=>[...e[33]||(e[33]=[s(" 批量操作按钮组2 ",-1)])]),_:1},8,["disabled"])]),_:1})):L("",!0)]),_:1}),x((w(),$(ge,{class:"my-4",data:n(U),stripe:"","highlight-current-row":"",border:"",height:"100%",onSortChange:ae,onSelectionChange:e[16]||(e[16]=i=>n(v).selectionDataList=i)},{default:l(()=>[n(v).enable?(w(),$(M,{key:0,type:"selection",align:"center",fixed:""})):L("",!0),t(M,{prop:"title",label:"标题"}),t(M,{label:"操作",width:"250",align:"center",fixed:"right"},{default:l(i=>[t(m,{type:"primary",size:"small",plain:"",onClick:S=>se(i.row)},{default:l(()=>[...e[34]||(e[34]=[s(" 编辑 ",-1)])]),_:1},8,["onClick"]),t(m,{type:"danger",size:"small",plain:"",onClick:S=>ie(i.row)},{default:l(()=>[...e[35]||(e[35]=[s(" 删除 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[Ce,n(B)]]),t(ve,{"current-page":n(y).page,total:n(y).total,"page-size":n(y).size,"page-sizes":n(y).sizes,layout:n(y).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:ne,onCurrentChange:d},null,8,["current-page","total","page-size","page-sizes","layout"])]),_:1},8,["class","main-class"])],2)}}});typeof W=="function"&&W(Y);const Ne=Be(Y,[["__scopeId","data-v-8212a96a"]]);export{Ne as default};
