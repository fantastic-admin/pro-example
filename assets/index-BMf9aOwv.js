
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{_ as I}from"./index.vue_vue_type_script_setup_true_lang-AxAgR91c.js";import{ax as i,d as z,n as g,s as B,a7 as S,L as U,r as u,aw as j,W as N,e as a,c as O,o as P,g as o,w as l,i as n,f as T,t as v,h as G}from"./index-H6QnEWHf.js";import M from"./index-DrclSVKT.js";const y={list:s=>i.get("delivery/list",{params:s,baseURL:"/mock/"}),detail:s=>i.get("delivery/detail",{params:{id:s},baseURL:"/mock/"}),create:s=>i.post("delivery/create",s,{baseURL:"/mock/"}),edit:s=>i.post("delivery/edit",s,{baseURL:"/mock/"}),delete:s=>i.post("delivery/delete",{id:s},{baseURL:"/mock/"}),changeStatus:s=>i.post("delivery/change/status",s,{baseURL:"/mock/"})},q={class:"freight"},W=z({__name:"index",props:{id:{default:""}},setup(s,{expose:k}){const x=s,V=g(!1),b=B("formRef"),t=g({id:x.id,title:"",address:[],type:1,status:!0,first_step:"",first_price:"",continued_step:"",continued_price:"",infos:[]}),c=g({title:[{required:!0,message:"请输入标题",trigger:"blur"}]});S(()=>{t.value.id!==""&&w()});function w(){V.value=!0,y.detail(t.value.id).then(p=>{V.value=!1,Object.assign(t.value,p.data)})}return k({submit(){return new Promise(p=>{var e;(e=b.value)==null||e.validate(r=>{r&&(t.value.id===""?y.create(t.value).then(()=>{U.success("模拟新增成功"),p()}):y.edit(t.value).then(()=>{U.success("模拟编辑成功"),p()}))})})}}),(p,e)=>{const r=u("ElInput"),m=u("ElFormItem"),C=I,_=u("ElRadioButton"),E=u("ElRadioGroup"),f=u("ElCol"),R=u("ElRow"),L=u("ElCard"),D=u("ElForm"),F=j("loading");return N((P(),O("div",null,[o(D,{ref_key:"formRef",ref:b,model:a(t),rules:a(c),"label-width":"120px","label-suffix":"："},{default:l(()=>[o(m,{label:"名称",prop:"title"},{default:l(()=>[o(r,{modelValue:a(t).title,"onUpdate:modelValue":e[0]||(e[0]=d=>a(t).title=d),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),o(m,{label:"发货地址",prop:"address"},{default:l(()=>[o(C,{modelValue:a(t).address,"onUpdate:modelValue":e[1]||(e[1]=d=>a(t).address=d),format:"name"},null,8,["modelValue"])]),_:1}),o(m,{label:"计价方式"},{default:l(()=>[o(E,{modelValue:a(t).type,"onUpdate:modelValue":e[2]||(e[2]=d=>a(t).type=d)},{default:l(()=>[o(_,{value:1},{default:l(()=>[...e[9]||(e[9]=[n(" 按件数 ",-1)])]),_:1}),o(_,{value:2},{default:l(()=>[...e[10]||(e[10]=[n(" 按重量 ",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(m,{label:"运费模版"},{default:l(()=>[T("div",q,[o(L,{shadow:"never"},{header:l(()=>[...e[11]||(e[11]=[n(" 默认运费 ",-1)])]),default:l(()=>[o(R,{gutter:20},{default:l(()=>[o(f,{md:6},{default:l(()=>[o(r,{modelValue:a(t).first_step,"onUpdate:modelValue":e[3]||(e[3]=d=>a(t).first_step=d),size:"small"},{prepend:l(()=>[n(v(a(t).type===1?"首件":"首重"),1)]),append:l(()=>[n(v(a(t).type===1?"件":"kg"),1)]),_:1},8,["modelValue"])]),_:1}),o(f,{md:6},{default:l(()=>[o(r,{modelValue:a(t).first_price,"onUpdate:modelValue":e[4]||(e[4]=d=>a(t).first_price=d),size:"small"},{prepend:l(()=>[...e[12]||(e[12]=[n(" 首费 ",-1)])]),append:l(()=>[...e[13]||(e[13]=[n(" 元 ",-1)])]),_:1},8,["modelValue"])]),_:1}),o(f,{md:6},{default:l(()=>[o(r,{modelValue:a(t).continued_step,"onUpdate:modelValue":e[5]||(e[5]=d=>a(t).continued_step=d),size:"small"},{prepend:l(()=>[n(v(a(t).type===1?"续件":"续重"),1)]),append:l(()=>[n(v(a(t).type===1?"件":"kg"),1)]),_:1},8,["modelValue"])]),_:1}),o(f,{md:6},{default:l(()=>[o(r,{modelValue:a(t).continued_price,"onUpdate:modelValue":e[6]||(e[6]=d=>a(t).continued_price=d),size:"small"},{prepend:l(()=>[...e[14]||(e[14]=[n(" 续费 ",-1)])]),append:l(()=>[...e[15]||(e[15]=[n(" 元 ",-1)])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(R,null,{default:l(()=>[o(f,{span:24},{default:l(()=>[o(M,{modelValue:a(t).infos,"onUpdate:modelValue":e[7]||(e[7]=d=>a(t).infos=d),type:a(t).type},null,8,["modelValue","type"])]),_:1})]),_:1})])]),_:1}),o(m,{label:"是否启用"},{default:l(()=>[o(E,{modelValue:a(t).status,"onUpdate:modelValue":e[8]||(e[8]=d=>a(t).status=d)},{default:l(()=>[o(_,{value:!0},{default:l(()=>[...e[16]||(e[16]=[n(" 启用 ",-1)])]),_:1}),o(_,{value:!1},{default:l(()=>[...e[17]||(e[17]=[n(" 停用 ",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])),[[F,a(V)]])}}}),$=G(W,[["__scopeId","data-v-149aeb2c"]]),K=Object.freeze(Object.defineProperty({__proto__:null,default:$},Symbol.toStringTag,{value:"Module"}));export{$ as D,y as a,K as i};
