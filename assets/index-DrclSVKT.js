
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{d as G,ap as P,aq as R,n as j,r as f,c as m,o as a,W as B,b,g as d,l as r,w as l,F as C,q as E,i as p,t as y,f as O,X as D,e as k,au as h,L as W,h as X}from"./index-H6QnEWHf.js";const A={key:0},H={key:0},J={key:0},K={key:0},Q={key:0},Y={key:0,style:{padding:"10px"}},Z=G({__name:"index",props:P({type:{default:1},readonly:{type:Boolean,default:!1}},{modelValue:{default:[]},modelModifiers:{}}),emits:["update:modelValue"],setup(s){const u=R(s,"modelValue"),n=j({index:"",visible:!1,checkList:[],disableList:[]});function x(){n.value.index="",n.value.checkList=[],n.value.disableList=U(),n.value.visible=!0}function F(){n.value.checkList.length===0?W.warning("请勾选区域"):(n.value.index!==""?u.value[n.value.index].list=n.value.checkList:u.value.push({list:n.value.checkList,first_step:"",first_price:"",continued_step:"",continued_price:""}),n.value.visible=!1)}function T(i){n.value.index=i,n.value.checkList=u.value[i].list,n.value.disableList=U(i),n.value.visible=!0}function $(i){u.value.splice(i,1)}function N(i,t){u.value[i].list.splice(u.value[i].list.indexOf(t),1),u.value[i].list.length===0&&u.value.splice(i,1)}function L(i){let t="";for(const c in h)h[c].code===i&&(t=h[c].name);return t}function U(i){const t=[];for(let c=0;c<u.value.length;c++)i!==c&&t.push(...u.value[c].list);return t}return(i,t)=>{const c=f("ElTag"),w=f("ElCol"),_=f("ElButton"),z=f("ElRow"),v=f("ElTableColumn"),g=f("ElInput"),S=f("ElTable"),I=f("ElCheckbox"),M=f("ElCheckboxGroup"),q=f("ElDialog");return a(),m("div",null,[s.readonly&&u.value.length===0?b("",!0):B((a(),r(S,{key:0,data:u.value,border:"",class:"freight"},{empty:l(()=>[...t[4]||(t[4]=[O("span",null,null,-1)])]),append:l(()=>[s.readonly?b("",!0):(a(),m("div",Y,[d(_,{type:"primary",size:"small",plain:"",style:{width:"100%"},onClick:x},{default:l(()=>[...t[5]||(t[5]=[p(" 新增一条运费模版 ",-1)])]),_:1})]))]),default:l(()=>[d(v,{label:"运送到"},{default:l(e=>[s.readonly?(a(),m("div",A,[(a(!0),m(C,null,E(e.row.list,(o,V)=>(a(),r(c,{key:V,type:"info"},{default:l(()=>[p(y(L(o)),1)]),_:2},1024))),128))])):(a(),r(z,{key:1,type:"flex",align:"middle",justify:"space-between"},{default:l(()=>[d(w,null,{default:l(()=>[(a(!0),m(C,null,E(e.row.list,(o,V)=>(a(),r(c,{key:V,"disable-transitions":!0,type:"info",closable:"",onClose:ee=>N(e.$index,o)},{default:l(()=>[p(y(L(o)),1)]),_:2},1032,["onClose"]))),128))]),_:2},1024),d(w,{style:{width:"100px","text-align":"right"}},{default:l(()=>[d(_,{size:"small",plain:"",onClick:o=>T(e.$index)},{default:l(()=>[...t[2]||(t[2]=[p(" 编 辑 ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))]),_:1}),d(v,{label:s.type===1?"首件数（件）":"首重量（kg）",width:"150",align:"center"},{default:l(e=>[s.readonly?(a(),m("span",H,y(e.row.first_step),1)):(a(),r(g,{key:1,modelValue:e.row.first_step,"onUpdate:modelValue":o=>e.row.first_step=o,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))]),_:1},8,["label"]),d(v,{label:"首费（元）",width:"150",align:"center"},{default:l(e=>[s.readonly?(a(),m("span",J,y(e.row.first_price),1)):(a(),r(g,{key:1,modelValue:e.row.first_price,"onUpdate:modelValue":o=>e.row.first_price=o,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))]),_:1}),d(v,{label:s.type===1?"续件数（件）":"续重量（kg）",width:"150",align:"center"},{default:l(e=>[s.readonly?(a(),m("span",K,y(e.row.continued_step),1)):(a(),r(g,{key:1,modelValue:e.row.continued_step,"onUpdate:modelValue":o=>e.row.continued_step=o,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))]),_:1},8,["label"]),d(v,{label:"续费（元）",width:"150",align:"center"},{default:l(e=>[s.readonly?(a(),m("span",Q,y(e.row.continued_price),1)):(a(),r(g,{key:1,modelValue:e.row.continued_price,"onUpdate:modelValue":o=>e.row.continued_price=o,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))]),_:1}),s.readonly?b("",!0):(a(),r(v,{key:0,label:"操作",width:"100",align:"center"},{default:l(e=>[d(_,{type:"danger",size:"small",plain:"",onClick:o=>$(e.$index)},{default:l(()=>[...t[3]||(t[3]=[p(" 删 除 ",-1)])]),_:1},8,["onClick"])]),_:1}))]),_:1},8,["data"])),[[D,u.value.length!==0]]),s.readonly?b("",!0):B((a(),r(_,{key:1,type:"primary",size:"default",plain:"",onClick:x},{default:l(()=>[...t[6]||(t[6]=[p(" 为指定地区设置运费模版 ",-1)])]),_:1},512)),[[D,u.value.length===0]]),d(q,{modelValue:k(n).visible,"onUpdate:modelValue":t[1]||(t[1]=e=>k(n).visible=e),title:"选择地区",width:"800px","append-to-body":""},{footer:l(()=>[d(_,{type:"primary",onClick:F},{default:l(()=>[...t[7]||(t[7]=[p(" 确 定 ",-1)])]),_:1})]),default:l(()=>[d(M,{modelValue:k(n).checkList,"onUpdate:modelValue":t[0]||(t[0]=e=>k(n).checkList=e),style:{"margin-inline-start":"50px"}},{default:l(()=>[d(z,null,{default:l(()=>[(a(!0),m(C,null,E(k(h),(e,o)=>(a(),r(w,{key:o,span:6},{default:l(()=>[d(I,{value:e.code,disabled:k(n).disableList.includes(e.code)},{default:l(()=>[p(y(e.name),1)]),_:2},1032,["value","disabled"])]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])}}}),te=X(Z,[["__scopeId","data-v-458800bf"]]);export{te as default};
