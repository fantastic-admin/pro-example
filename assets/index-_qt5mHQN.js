
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{d as Mt,aN as vn,ac as xn,g as V,a1 as Sn,M as be,Z as kn,ao as Cn,c as tt,o as Y,l as z,k as _,H as Dt,m as N,P as re,a as S,v as Wt,n as lt,e as ie,h as Ue,t as Oe,i as De,s as At,b9 as He,N as ze,O as Bt,p as nt,F as Et,y as Ft,z as Pt,B as Lt,T as Nt,C as Rt,G as Ve,f as qe,_ as Mn,A as _n,R as je,S as $n,K as An,L as En,bd as Fn,Q as Pn,a7 as we,b as ve,b7 as Ln}from"./index-Bnionyve.js";import{_ as Nn}from"./index.vue_vue_type_script_setup_true_lang-Cjr7sE9E.js";import{_ as Rn}from"./index.vue_vue_type_script_setup_true_lang-DV-gSaXc.js";import{_ as In}from"./index.vue_vue_type_script_setup_true_lang-qwRnxT-f.js";import{_ as Tn}from"./index.vue_vue_type_script_setup_true_lang-DTbGvA6c.js";import{_ as Wn}from"./index-BoypW2lk.js";var C={image:new Map,background:new Map,resource:new Map,defaultStyle:new Map,baseStyle:new Map,computedStyle:new WeakMap,font:new Set,session:{styleMap:new Map,styleCache:new WeakMap,nodeMap:new Map}};function Bn(t="soft"){switch(t){case"auto":{C.session.styleMap=new Map,C.session.nodeMap=new Map;return}case"soft":{C.session.styleMap=new Map,C.session.nodeMap=new Map,C.session.styleCache=new WeakMap;return}case"full":return;case"disabled":{C.session.styleMap=new Map,C.session.nodeMap=new Map,C.session.styleCache=new WeakMap,C.computedStyle=new WeakMap,C.baseStyle=new Map,C.defaultStyle=new Map,C.image=new Map,C.background=new Map,C.resource=new Map,C.font=new Set;return}default:{C.session.styleMap=new Map,C.session.nodeMap=new Map,C.session.styleCache=new WeakMap;return}}}function ce(t){const e=t.match(/url\((['"]?)(.*?)(\1)\)/);if(!e)return null;const n=e[2].trim();return n.startsWith("#")?null:n}function Un(t){if(!t||t==="none")return"";let e=t.replace(/translate[XY]?\([^)]*\)/g,"");return e=e.replace(/matrix\(([^)]+)\)/g,(n,o)=>{const s=o.split(",").map(a=>a.trim());return s.length!==6?"matrix(".concat(o,")"):(s[4]="0",s[5]="0","matrix(".concat(s.join(", "),")"))}),e=e.replace(/matrix3d\(([^)]+)\)/g,(n,o)=>{const s=o.split(",").map(a=>a.trim());return s.length!==16?"matrix3d(".concat(o,")"):(s[12]="0",s[13]="0","matrix3d(".concat(s.join(", "),")"))}),e.trim().replace(/\s{2,}/g," ")}function Ut(t){if(/%[0-9A-Fa-f]{2}/.test(t))return t;try{return encodeURI(t)}catch(e){return t}}function On(t="[snapDOM]",{ttlMs:e=5*6e4,maxEntries:n=12}={}){const o=new Map;let s=0;function a(r,l,i){if(s>=n)return;const u=Date.now();(o.get(l)||0)>u||(o.set(l,u+e),s++,r==="warn"&&console&&console.warn?console.warn("".concat(t," ").concat(i)):console&&console.error&&console.error("".concat(t," ").concat(i)))}return{warnOnce(r,l){a("warn",r,l)},errorOnce(r,l){a("error",r,l)},reset(){o.clear(),s=0}}}var xe=On("[snapDOM]",{ttlMs:3*6e4,maxEntries:10}),Yt=new Map,_t=new Map;function Dn(t){return/^data:|^blob:|^about:blank$/i.test(t)}function Hn(t,e){try{const n=typeof location<"u"&&location.href?location.href:"http://localhost/",o=e.includes("{url}")?e.split("{url}")[0]:e,s=new URL(o||".",n),a=new URL(t,n);if(a.origin===s.origin)return!0;const r=a.searchParams;if(r&&(r.has("url")||r.has("target")))return!0}catch(n){}return!1}function zn(t,e){if(!e||Dn(t)||Hn(t,e))return!1;try{const n=typeof location<"u"&&location.href?location.href:"http://localhost/",o=new URL(t,n);return typeof location<"u"?o.origin!==location.origin:!0}catch(n){return!!e}}function Vn(t,e){if(!e)return t;if(e.includes("{url}"))return e.replace("{urlRaw}",Ut(t)).replace("{url}",encodeURIComponent(t));if(/[?&]url=?$/.test(e))return"".concat(e).concat(encodeURIComponent(t));if(e.endsWith("?"))return"".concat(e,"url=").concat(encodeURIComponent(t));if(e.endsWith("/"))return"".concat(e).concat(Ut(t));const n=e.includes("?")?"&":"?";return"".concat(e).concat(n,"url=").concat(encodeURIComponent(t))}function Se(t){return new Promise((e,n)=>{const o=new FileReader;o.onload=()=>e(String(o.result||"")),o.onerror=()=>n(new Error("read_failed")),o.readAsDataURL(t)})}function qn(t,e){var n,o;return[e.as||"blob",(n=e.timeout)!=null?n:3e3,e.useProxy||"",(o=e.errorTTL)!=null?o:8e3,t].join("|")}async function ot(t,e={}){var m,k,x;const n=(m=e.as)!=null?m:"blob",o=(k=e.timeout)!=null?k:3e3,s=e.useProxy||"",a=(x=e.errorTTL)!=null?x:8e3,r=e.headers||{},l=!!e.silent;if(/^data:/i.test(t))try{if(n==="text")return{ok:!0,data:String(t),status:200,url:t,fromCache:!1};if(n==="dataURL")return{ok:!0,data:String(t),status:200,url:t,fromCache:!1,mime:String(t).slice(5).split(";")[0]||""};const[,M="",$=""]=String(t).match(/^data:([^,]*),(.*)$/)||[],E=/;base64/i.test(M)?atob($):decodeURIComponent($),T=new Uint8Array([...E].map(I=>I.charCodeAt(0))),F=new Blob([T],{type:(M||"").split(";")[0]||""});return{ok:!0,data:F,status:200,url:t,fromCache:!1,mime:F.type||""}}catch(M){return{ok:!1,data:null,status:0,url:t,fromCache:!1,reason:"special_url_error"}}if(/^blob:/i.test(t))try{const M=await fetch(t);if(!M.ok)return{ok:!1,data:null,status:M.status,url:t,fromCache:!1,reason:"http_error"};const $=await M.blob(),v=$.type||M.headers.get("content-type")||"";return n==="dataURL"?{ok:!0,data:await Se($),status:M.status,url:t,fromCache:!1,mime:v}:n==="text"?{ok:!0,data:await $.text(),status:M.status,url:t,fromCache:!1,mime:v}:{ok:!0,data:$,status:M.status,url:t,fromCache:!1,mime:v}}catch(M){return{ok:!1,data:null,status:0,url:t,fromCache:!1,reason:"network"}}if(/^about:blank$/i.test(t))return n==="dataURL"?{ok:!0,data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGMAAQAABQABDQottAAAAABJRU5ErkJggg==",status:200,url:t,fromCache:!1,mime:"image/png"}:{ok:!0,data:n==="text"?"":new Blob([]),status:200,url:t,fromCache:!1};const i=qn(t,{as:n,timeout:o,useProxy:s,errorTTL:a}),u=_t.get(i);if(u&&u.until>Date.now())return{...u.result,fromCache:!0};u&&_t.delete(i);const f=Yt.get(i);if(f)return f;const c=zn(t,s)?Vn(t,s):t;let d=e.credentials;if(!d)try{const M=typeof location<"u"&&location.href?location.href:"http://localhost/",$=new URL(t,M);d=typeof location<"u"&&$.origin===location.origin?"include":"omit"}catch(M){d="omit"}const y=new AbortController,p=setTimeout(()=>y.abort("timeout"),o),h=(async()=>{var M,$;try{const v=await fetch(c,{signal:y.signal,credentials:d,headers:r});if(!v.ok){const F={ok:!1,data:null,status:v.status,url:c,fromCache:!1,reason:"http_error"};if(a>0&&_t.set(i,{until:Date.now()+a,result:F}),!l){const I="".concat(v.status," ").concat(v.statusText||"").trim();xe.warnOnce("http:".concat(v.status,":").concat(n,":").concat(new URL(t,(M=location==null?void 0:location.href)!=null?M:"http://localhost/").origin),"HTTP error ".concat(I," while fetching ").concat(n," ").concat(t))}return e.onError&&e.onError(F),F}if(n==="text")return{ok:!0,data:await v.text(),status:v.status,url:c,fromCache:!1};const E=await v.blob(),T=E.type||v.headers.get("content-type")||"";return n==="dataURL"?{ok:!0,data:await Se(E),status:v.status,url:c,fromCache:!1,mime:T}:{ok:!0,data:E,status:v.status,url:c,fromCache:!1,mime:T}}catch(v){const E=v&&typeof v=="object"&&"name"in v&&v.name==="AbortError"?String(v.message||"").includes("timeout")?"timeout":"abort":"network",T={ok:!1,data:null,status:0,url:c,fromCache:!1,reason:E};if(!/^blob:/i.test(t)&&a>0&&_t.set(i,{until:Date.now()+a,result:T}),!l){const F="".concat(E,":").concat(n,":").concat(new URL(t,($=location==null?void 0:location.href)!=null?$:"http://localhost/").origin),I=E==="timeout"?"Timeout after ".concat(o,"ms. Consider increasing timeout or using a proxy for ").concat(t):E==="abort"?"Request aborted while fetching ".concat(n," ").concat(t):"Network/CORS issue while fetching ".concat(n," ").concat(t,". A proxy may be required");xe.errorOnce(F,I)}return e.onError&&e.onError(T),T}finally{clearTimeout(p),Yt.delete(i)}})();return Yt.set(i,h),h}function le(t,e){if(!e||!t.width||!t.height)return t;const n=document.createElement("canvas");n.width=t.width,n.height=t.height;const o=n.getContext("2d");return o.fillStyle=e,o.fillRect(0,0,n.width,n.height),o.drawImage(t,0,0),n}async function Xe(t,e={}){if(/^((repeating-)?(linear|radial|conic)-gradient)\(/i.test(t)||t.trim()==="none")return t;const o=ce(t);if(!o)return t;const s=Ut(o);if(C.background.has(s)){const a=C.background.get(s);return a?'url("'.concat(a,'")'):"none"}try{const a=await ot(s,{as:"dataURL",useProxy:e.useProxy});return a.ok?(C.background.set(s,a.data),'url("'.concat(a.data,'")')):(C.background.set(s,null),"none")}catch(a){return C.background.set(s,null),"none"}}var jn=new Set(["meta","script","noscript","title","link","template"]),ue=new Set(["meta","link","style","title","noscript","script","template","g","defs","use","marker","mask","clipPath","pattern","path","polygon","polyline","line","circle","ellipse","rect","filter","lineargradient","radialgradient","stop"]);function Xn(t){if(t=String(t).toLowerCase(),ue.has(t)){const a={};return C.defaultStyle.set(t,a),a}if(C.defaultStyle.has(t))return C.defaultStyle.get(t);let e=document.getElementById("snapdom-sandbox");e||(e=document.createElement("div"),e.id="snapdom-sandbox",e.setAttribute("data-snapdom-sandbox","true"),e.setAttribute("aria-hidden","true"),e.style.position="absolute",e.style.left="-9999px",e.style.top="-9999px",e.style.width="0px",e.style.height="0px",e.style.overflow="hidden",document.body.appendChild(e));const n=document.createElement(t);n.style.all="initial",e.appendChild(n);const o=getComputedStyle(n),s={};for(let a of o){if(Ye(a))continue;const r=o.getPropertyValue(a);s[a]=r}return e.removeChild(n),C.defaultStyle.set(t,s),s}var Yn=/(?:^|-)(animation|transition)(?:-|$)/i,Gn=/^(--|view-timeline|scroll-timeline|animation-trigger|offset-|position-try|app-region|interactivity|overlay|view-transition|-webkit-locale|-webkit-user-(?:drag|modify)|-webkit-tap-highlight-color|-webkit-text-security)$/i,Kn=new Set(["cursor","pointer-events","touch-action","user-select","print-color-adjust","speak","reading-flow","reading-order","anchor-name","anchor-scope","container-name","container-type","timeline-scope"]);function Ye(t){const e=String(t).toLowerCase();return!!(Kn.has(e)||Gn.test(e)||Yn.test(e))}function Jt(t,e){if(e=String(e||"").toLowerCase(),ue.has(e))return"";const n=[],o=Xn(e);for(let[s,a]of Object.entries(t)){if(Ye(s))continue;const r=o[s];a&&a!==r&&n.push("".concat(s,":").concat(a))}return n.sort(),n.join(";")}function Jn(t){const e=new Set;return t.nodeType!==Node.ELEMENT_NODE&&t.nodeType!==Node.DOCUMENT_FRAGMENT_NODE?[]:(t.tagName&&e.add(t.tagName.toLowerCase()),typeof t.querySelectorAll=="function"&&t.querySelectorAll("*").forEach(n=>e.add(n.tagName.toLowerCase())),Array.from(e))}function Qn(t){const e=new Map;for(let o of t){const s=C.defaultStyle.get(o);if(!s)continue;const a=Object.entries(s).map(([r,l])=>"".concat(r,":").concat(l,";")).sort().join("");a&&(e.has(a)||e.set(a,[]),e.get(a).push(o))}let n="";for(let[o,s]of e.entries())n+="".concat(s.join(",")," { ").concat(o," }\n");return n}function Zn(t){const e=Array.from(new Set(t.values())).filter(Boolean).sort(),n=new Map;let o=1;for(const s of e)n.set(s,"c".concat(o++));return n}function Ge(t,e=null){if(!(t instanceof Element))return window.getComputedStyle(t,e);let n=C.computedStyle.get(t);if(n||(n=new Map,C.computedStyle.set(t,n)),!n.has(e)){const o=window.getComputedStyle(t,e);n.set(e,o)}return n.get(e)}function ke(t){const e={};for(let n of t)e[n]=t.getPropertyValue(n);return e}function Ke(t){const e=[];let n=0,o=0;for(let s=0;s<t.length;s++){const a=t[s];a==="("&&n++,a===")"&&n--,a===","&&n===0&&(e.push(t.slice(o,s).trim()),o=s+1)}return e.push(t.slice(o).trim()),e}function pt(t,{fast:e=!1}={}){if(e)return t();"requestIdleCallback"in window?requestIdleCallback(t,{timeout:50}):setTimeout(t,1)}function ht(){const t=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent:"",e=/^((?!chrome|android).)*safari/i.test(t),n=/AppleWebKit/i.test(t)&&/Mobile/i.test(t)&&!/Safari/i.test(t),o=/(MicroMessenger|wxwork|WeCom|WindowsWechat|MacWechat)/i.test(t);return e||n||o}var Ce=new WeakMap,Qt=new Map,Zt=0;function St(){Zt++}var Me=!1;function to(t=document.documentElement){var e,n;if(!Me){Me=!0;try{new MutationObserver(()=>St()).observe(t,{subtree:!0,childList:!0,characterData:!0,attributes:!0})}catch(o){}try{new MutationObserver(()=>St()).observe(document.head,{subtree:!0,childList:!0,characterData:!0,attributes:!0})}catch(o){}try{const o=document.fonts;o&&((e=o.addEventListener)==null||e.call(o,"loadingdone",St),(n=o.ready)==null||n.then(()=>St()).catch(()=>{}))}catch(o){}}}function eo(t,e={}){const n={},o=t.getPropertyValue("visibility");for(let s=0;s<t.length;s++){const a=t[s];let r=t.getPropertyValue(a);(a==="background-image"||a==="content")&&r.includes("url(")&&!r.includes("data:")&&(r="none"),n[a]=r}if(e.embedFonts){const s=["font-feature-settings","font-variation-settings","font-kerning","font-variant","font-variant-ligatures","font-optical-sizing"];for(const a of s)if(!n[a])try{const r=t.getPropertyValue(a);r&&(n[a]=r)}catch(r){}}return o==="hidden"&&(n.opacity="0"),n}var _e=new WeakMap;function no(t){let e=_e.get(t);return e||(e=Object.entries(t).sort((o,s)=>o[0]<s[0]?-1:o[0]>s[0]?1:0).map(([o,s])=>"".concat(o,":").concat(s)).join(";"),_e.set(t,e),e)}function oo(t,e=null,n={}){const o=Ce.get(t);if(o&&o.epoch===Zt)return o.snapshot;const s=e||getComputedStyle(t),a=eo(s,n);return lo(t,s,a),Ce.set(t,{epoch:Zt,snapshot:a}),a}function so(t,e){return t&&t.session&&t.persist?t:t&&(t.styleMap||t.styleCache||t.nodeMap)?{session:t,persist:{snapshotKeyCache:Qt,defaultStyle:C.defaultStyle,baseStyle:C.baseStyle,image:C.image,resource:C.resource,background:C.background,font:C.font},options:e||{}}:{session:C.session,persist:{snapshotKeyCache:Qt,defaultStyle:C.defaultStyle,baseStyle:C.baseStyle,image:C.image,resource:C.resource,background:C.background,font:C.font},options:t||e||{}}}async function gt(t,e,n,o){var d,y,p;if(t.tagName==="STYLE")return;const s=so(n,o),a=s.options&&s.options.cache||"auto";if(a!=="disabled"&&to(document.documentElement),a==="disabled"&&!s.session.__bumpedForDisabled&&(St(),Qt.clear(),s.session.__bumpedForDisabled=!0),ue.has((d=t.tagName)==null?void 0:d.toLowerCase())){const h=(y=t.getAttribute)==null?void 0:y.call(t,"style");h&&e.setAttribute("style",h)}const{session:r,persist:l}=s;r.styleCache.has(t)||r.styleCache.set(t,getComputedStyle(t));const i=r.styleCache.get(t),u=oo(t,i,s.options),f=no(u);let c=l.snapshotKeyCache.get(f);if(!c){const h=((p=t.tagName)==null?void 0:p.toLowerCase())||"div";c=Jt(u,h),l.snapshotKeyCache.set(f,c)}r.styleMap.set(e,c)}function ao(t){return t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof HTMLIFrameElement||t instanceof SVGElement||t instanceof HTMLObjectElement||t instanceof HTMLEmbedElement}function ro(t){return t.backgroundImage&&t.backgroundImage!=="none"||t.backgroundColor&&t.backgroundColor!=="rgba(0, 0, 0, 0)"&&t.backgroundColor!=="transparent"||(parseFloat(t.borderTopWidth)||0)>0||(parseFloat(t.borderBottomWidth)||0)>0||(parseFloat(t.paddingTop)||0)>0||(parseFloat(t.paddingBottom)||0)>0?!0:(t.overflowBlock||t.overflowY||"visible")!=="visible"}function io(t){const e=t.parentElement;if(!e)return!1;const n=getComputedStyle(e).display||"";return n.includes("flex")||n.includes("grid")}function co(t,e){if(t.textContent&&/\S/.test(t.textContent))return!0;const n=t.firstElementChild,o=t.lastElementChild;if(n&&n.tagName==="BR"||o&&o.tagName==="BR")return!0;const s=t.scrollHeight;if(s===0)return!1;const a=parseFloat(e.paddingTop)||0,r=parseFloat(e.paddingBottom)||0;return s>a+r}function lo(t,e,n){if(t instanceof HTMLElement&&t.style&&t.style.height)return;const o=e.display||"";if(o.includes("flex")||o.includes("grid")||ao(t))return;const s=e.position;s==="absolute"||s==="fixed"||s==="sticky"||e.transform==="none"&&(ro(e)||io(t)||co(t,e)&&(delete n.height,delete n["block-size"]))}function uo(t,e){var r,l,i;if(!(t instanceof Element)||!(e instanceof Element))return;const n=(r=t.getAttribute)==null?void 0:r.call(t,"style");let o=!!(n&&n.includes("var("));if(!o&&((l=t.attributes)!=null&&l.length)){const u=t.attributes;for(let f=0;f<u.length;f++){const c=u[f];if(c&&typeof c.value=="string"&&c.value.includes("var(")){o=!0;break}}}if(!o)return;let s;try{s=getComputedStyle(t)}catch(u){return}const a=t.style;if(a&&a.length)for(let u=0;u<a.length;u++){const f=a[u],c=a.getPropertyValue(f);if(!c||!c.includes("var("))continue;const d=s.getPropertyValue(f);if(d)try{e.style.setProperty(f,d.trim(),a.getPropertyPriority(f))}catch(y){}}if((i=t.attributes)!=null&&i.length){const u=t.attributes;for(let f=0;f<u.length;f++){const c=u[f];if(!c||typeof c.value!="string"||!c.value.includes("var("))continue;const d=c.name;let y="";try{y=s.getPropertyValue(d)}catch(p){}if(y)try{e.style.setProperty(d,y.trim())}catch(p){}}}}function Gt(t,e,n){return Promise.all(t.map(o=>new Promise(s=>{function a(){pt(r=>{(r&&typeof r.timeRemaining=="function"?r.timeRemaining()>0:!0)?e(o,s):a()},{fast:n})}a()})))}function fo(t){return t=t.trim(),!t||/:not\(\s*\[data-sd-slotted\]\s*\)\s*$/.test(t)?t:"".concat(t,":not([data-sd-slotted])")}function ho(t,e,n=!0){return t.split(",").map(o=>o.trim()).filter(Boolean).map(o=>{if(o.startsWith(":where(")||o.startsWith("@"))return o;const s=n?fo(o):o;return":where(".concat(e," ").concat(s,")")}).join(", ")}function mo(t,e){return t?(t=t.replace(/:host\(([^)]+)\)/g,(n,o)=>":where(".concat(e,":is(").concat(o.trim(),"))")),t=t.replace(/:host\b/g,":where(".concat(e,")")),t=t.replace(/:host-context\(([^)]+)\)/g,(n,o)=>":where(:where(".concat(o.trim(),") ").concat(e,")")),t=t.replace(/::slotted\(([^)]+)\)/g,(n,o)=>":where(".concat(e," ").concat(o.trim(),")")),t=t.replace(/(^|})(\s*)([^@}{]+){/g,(n,o,s,a)=>{const r=ho(a,e,!0);return"".concat(o).concat(s).concat(r,"{")}),t):""}function po(t){return t.shadowScopeSeq=(t.shadowScopeSeq||0)+1,"s".concat(t.shadowScopeSeq)}function go(t){let e="";try{t.querySelectorAll("style").forEach(o=>{e+=(o.textContent||"")+"\n"});const n=t.adoptedStyleSheets||[];for(const o of n)try{if(o&&o.cssRules)for(const s of o.cssRules)e+=s.cssText+"\n"}catch(s){}}catch(n){}return e}function yo(t,e,n){if(!e)return;const o=document.createElement("style");o.setAttribute("data-sd",n),o.textContent=e,t.insertBefore(o,t.firstChild||null)}function bo(t,e){try{const n=t.currentSrc||t.src||"";if(!n)return;e.setAttribute("src",n),e.removeAttribute("srcset"),e.removeAttribute("sizes"),e.loading="eager",e.decoding="sync"}catch(n){}}function wo(t){const e=new Set;if(!t)return e;const n=/var\(\s*(--[A-Za-z0-9_-]+)\b/g;let o;for(;o=n.exec(t);)e.add(o[1]);return e}function vo(t,e){try{let o=getComputedStyle(t).getPropertyValue(e).trim();if(o)return o}catch(n){}try{let o=getComputedStyle(document.documentElement).getPropertyValue(e).trim();if(o)return o}catch(n){}return""}function xo(t,e,n){const o=[];for(const s of e){const a=vo(t,s);a&&o.push("".concat(s,": ").concat(a,";"))}return o.length?"".concat(n,"{").concat(o.join(""),"}\n"):""}function So(t){t&&(t.nodeType===Node.ELEMENT_NODE&&t.setAttribute("data-sd-slotted",""),t.querySelectorAll&&t.querySelectorAll("*").forEach(e=>e.setAttribute("data-sd-slotted","")))}async function ko(t,e=3){const n=()=>{var a;try{return t.contentDocument||((a=t.contentWindow)==null?void 0:a.document)||null}catch(r){return null}};let o=n(),s=0;for(;s<e&&(!o||!o.body&&!o.documentElement);)await new Promise(a=>setTimeout(a,0)),o=n(),s++;return o&&(o.body||o.documentElement)?o:null}function Co(t){const e=t.getBoundingClientRect();let n=0,o=0,s=0,a=0;try{const i=getComputedStyle(t);n=parseFloat(i.borderLeftWidth)||0,o=parseFloat(i.borderRightWidth)||0,s=parseFloat(i.borderTopWidth)||0,a=parseFloat(i.borderBottomWidth)||0}catch(i){}const r=Math.max(0,Math.round(e.width-(n+o))),l=Math.max(0,Math.round(e.height-(s+a)));return{contentWidth:r,contentHeight:l,rect:e}}function Mo(t,e,n){const o=t.createElement("style");return o.setAttribute("data-sd-iframe-pin",""),o.textContent="html, body {margin: 0 !important;padding: 0 !important;width: ".concat(e,"px !important;height: ").concat(n,"px !important;min-width: ").concat(e,"px !important;min-height: ").concat(n,"px !important;box-sizing: border-box !important;overflow: hidden !important;background-clip: border-box !important;}"),(t.head||t.documentElement).appendChild(o),()=>{try{o.remove()}catch(s){}}}async function _o(t,e,n){const o=await ko(t,3);if(!o)throw new Error("iframe document not accessible/ready");const{contentWidth:s,contentHeight:a,rect:r}=Co(t),l=n==null?void 0:n.snap;if(!l||typeof l.toPng!="function")throw new Error("snapdom.toPng not available in iframe or window");const i={...n,scale:1},u=Mo(o,s,a);let f;try{f=await l.toPng(o.documentElement,i)}finally{u()}f.style.display="block",f.style.width="".concat(s,"px"),f.style.height="".concat(a,"px");const c=document.createElement("div");return e.nodeMap.set(c,t),gt(t,c,e,n),c.style.overflow="hidden",c.style.display="block",c.style.width||(c.style.width="".concat(Math.round(r.width),"px")),c.style.height||(c.style.height="".concat(Math.round(r.height),"px")),c.appendChild(f),c}async function It(t,e,n){var u,f,c,d,y,p;if(!t)throw new Error("Invalid node");const o=new Set;let s=null,a=null;if(t.nodeType===Node.ELEMENT_NODE){const h=(t.localName||t.tagName||"").toLowerCase();if(t.id==="snapdom-sandbox"||t.hasAttribute("data-snapdom-sandbox")||jn.has(h))return null}if(t.nodeType===Node.TEXT_NODE||t.nodeType!==Node.ELEMENT_NODE)return t.cloneNode(!0);if(t.getAttribute("data-capture")==="exclude"){if(n.excludeMode==="hide"){const h=document.createElement("div"),m=t.getBoundingClientRect();return h.style.cssText="display:inline-block;width:".concat(m.width,"px;height:").concat(m.height,"px;visibility:hidden;"),h}else if(n.excludeMode==="remove")return null}if(n.exclude&&Array.isArray(n.exclude))for(const h of n.exclude)try{if((u=t.matches)!=null&&u.call(t,h)){if(n.excludeMode==="hide"){const m=document.createElement("div"),k=t.getBoundingClientRect();return m.style.cssText="display:inline-block;width:".concat(k.width,"px;height:").concat(k.height,"px;visibility:hidden;"),m}else if(n.excludeMode==="remove")return null}}catch(m){console.warn("Invalid selector in exclude option: ".concat(h),m)}if(typeof n.filter=="function")try{if(!n.filter(t)){if(n.filterMode==="hide"){const h=document.createElement("div"),m=t.getBoundingClientRect();return h.style.cssText="display:inline-block;width:".concat(m.width,"px;height:").concat(m.height,"px;visibility:hidden;"),h}else if(n.filterMode==="remove")return null}}catch(h){console.warn("Error in filter function:",h)}if(t.tagName==="IFRAME"){let h=!1;try{h=!!(t.contentDocument||(f=t.contentWindow)!=null&&f.document)}catch(m){h=!1}if(h)try{return await _o(t,e,n)}catch(m){console.warn("[SnapDOM] iframe rasterization failed, fallback:",m)}if(n.placeholders){const m=document.createElement("div");return m.style.cssText="width:".concat(t.offsetWidth,"px;height:").concat(t.offsetHeight,"px;background-image:repeating-linear-gradient(45deg,#ddd,#ddd 5px,#f9f9f9 5px,#f9f9f9 10px);display:flex;align-items:center;justify-content:center;font-size:12px;color:#555;border:1px solid #aaa;"),gt(t,m,e,n),m}else{const m=t.getBoundingClientRect(),k=document.createElement("div");return k.style.cssText="display:inline-block;width:".concat(m.width,"px;height:").concat(m.height,"px;visibility:hidden;"),gt(t,k,e,n),k}}if(t.getAttribute("data-capture")==="placeholder"){const h=t.cloneNode(!1);e.nodeMap.set(h,t),gt(t,h,e,n);const m=document.createElement("div");return m.textContent=t.getAttribute("data-placeholder-text")||"",m.style.cssText="color:#666;font-size:12px;text-align:center;line-height:1.4;padding:0.5em;box-sizing:border-box;",h.appendChild(m),h}if(t.tagName==="CANVAS"){const h=t.toDataURL(),m=document.createElement("img");return m.src=h,m.width=t.width,m.height=t.height,e.nodeMap.set(m,t),gt(t,m,e,n),m}let r;try{if(r=t.cloneNode(!1),uo(t,r),e.nodeMap.set(r,t),t.tagName==="IMG"){bo(t,r);try{const h=t.getBoundingClientRect();let m=Math.round(h.width||0),k=Math.round(h.height||0);if(!m||!k){const x=window.getComputedStyle(t),M=parseFloat(x.width)||0,$=parseFloat(x.height)||0,v=parseInt(t.getAttribute("width")||"",10)||0,E=parseInt(t.getAttribute("height")||"",10)||0,T=t.width||t.naturalWidth||0,F=t.height||t.naturalHeight||0;m=Math.round(m||M||v||T||0),k=Math.round(k||$||E||F||0)}m&&(r.dataset.snapdomWidth=String(m)),k&&(r.dataset.snapdomHeight=String(k))}catch(h){}}}catch(h){throw console.error("[Snapdom] Failed to clone node:",t,h),h}if(t instanceof HTMLTextAreaElement){const h=t.getBoundingClientRect();r.style.width="".concat(h.width,"px"),r.style.height="".concat(h.height,"px")}if(t instanceof HTMLInputElement&&(r.value=t.value,r.setAttribute("value",t.value),t.checked!==void 0&&(r.checked=t.checked,t.checked&&r.setAttribute("checked",""),t.indeterminate&&(r.indeterminate=t.indeterminate))),t instanceof HTMLSelectElement&&(s=t.value),t instanceof HTMLTextAreaElement&&(a=t.value),gt(t,r,e,n),t.shadowRoot){let h=function(F,I){if(F.nodeType===Node.ELEMENT_NODE&&F.tagName==="STYLE")return I(null);It(F,e,n).then(O=>{I(O||null)}).catch(()=>{I(null)})};try{const F=t.shadowRoot.querySelectorAll("slot");for(const I of F){let O=[];try{O=((c=I.assignedNodes)==null?void 0:c.call(I,{flatten:!0}))||((d=I.assignedNodes)==null?void 0:d.call(I))||[]}catch(H){O=((y=I.assignedNodes)==null?void 0:y.call(I))||[]}for(const H of O)o.add(H)}}catch(F){}const m=po(e),k='[data-sd="'.concat(m,'"]');try{r.setAttribute("data-sd",m)}catch(F){}const x=go(t.shadowRoot),M=mo(x,k),$=wo(x),v=xo(t,$,k);yo(r,v+M,m);const E=document.createDocumentFragment(),T=await Gt(Array.from(t.shadowRoot.childNodes),h,n.fast);E.append(...T.filter(F=>!!F)),r.appendChild(E)}if(t.tagName==="SLOT"){let h=function($,v){It($,e,n).then(E=>{E&&So(E),v(E||null)}).catch(()=>{v(null)})};const m=((p=t.assignedNodes)==null?void 0:p.call(t,{flatten:!0}))||[],k=m.length>0?m:Array.from(t.childNodes),x=document.createDocumentFragment(),M=await Gt(Array.from(k),h,n.fast);return x.append(...M.filter($=>!!$)),x}function l(h,m){if(o.has(h))return m(null);It(h,e,n).then(k=>{m(k||null)}).catch(()=>{m(null)})}const i=await Gt(Array.from(t.childNodes),l,n.fast);if(r.append(...i.filter(h=>!!h)),s!==null&&r instanceof HTMLSelectElement){r.value=s;for(const h of r.options)h.value===s?h.setAttribute("selected",""):h.removeAttribute("selected")}return a!==null&&r instanceof HTMLTextAreaElement&&(r.textContent=a),r}var $o=[/font\s*awesome/i,/material\s*icons/i,/ionicons/i,/glyphicons/i,/feather/i,/bootstrap\s*icons/i,/remix\s*icons/i,/heroicons/i,/layui/i,/lucide/i],te=[];function Ao(t){const e=Array.isArray(t)?t:[t];for(const n of e)n instanceof RegExp?te.push(n):typeof n=="string"?te.push(new RegExp(n,"i")):console.warn("[snapdom] Ignored invalid iconFont value:",n)}function ct(t){const e=typeof t=="string"?t:"",n=[...$o,...te];for(const o of n)if(o instanceof RegExp&&o.test(e))return!0;return!!(/icon/i.test(e)||/glyph/i.test(e)||/symbols/i.test(e)||/feather/i.test(e)||/fontawesome/i.test(e))}async function Eo(t,e,n,o=32,s="#000"){e=e.replace(/^['"]+|['"]+$/g,"");const a=window.devicePixelRatio||1;try{await document.fonts.ready}catch(d){}const r=document.createElement("span");r.textContent=t,r.style.position="absolute",r.style.visibility="hidden",r.style.fontFamily='"'.concat(e,'"'),r.style.fontWeight=n||"normal",r.style.fontSize="".concat(o,"px"),r.style.lineHeight="1",r.style.whiteSpace="nowrap",r.style.padding="0",r.style.margin="0",document.body.appendChild(r);const l=r.getBoundingClientRect(),i=Math.ceil(l.width),u=Math.ceil(l.height);document.body.removeChild(r);const f=document.createElement("canvas");f.width=Math.max(1,i*a),f.height=Math.max(1,u*a);const c=f.getContext("2d");return c.scale(a,a),c.font=n?"".concat(n," ").concat(o,'px "').concat(e,'"'):"".concat(o,'px "').concat(e,'"'),c.textAlign="left",c.textBaseline="top",c.fillStyle=s,c.fillText(t,0,0),{dataUrl:f.toDataURL(),width:i,height:u}}var Fo=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","emoji","math","fangsong","ui-serif","ui-sans-serif","ui-monospace","ui-rounded"]);function Ht(t){if(!t)return"";for(let e of t.split(",")){let n=e.trim().replace(/^['"]+|['"]+$/g,"");if(n&&!Fo.has(n.toLowerCase()))return n}return""}function Tt(t){const e=String(t!=null?t:"400").trim().toLowerCase();if(e==="normal")return 400;if(e==="bold")return 700;const n=parseInt(e,10);return Number.isFinite(n)?Math.min(900,Math.max(100,n)):400}function ee(t){const e=String(t!=null?t:"normal").trim().toLowerCase();return e.startsWith("italic")?"italic":e.startsWith("oblique")?"oblique":"normal"}function Po(t){const e=String(t!=null?t:"100%").match(/(\d+(?:\.\d+)?)\s*%/);return e?Math.max(50,Math.min(200,parseFloat(e[1]))):100}function Lo(t){const e=String(t||"400").trim(),n=e.match(/^(\d{2,3})\s+(\d{2,3})$/);if(n){const s=Tt(n[1]),a=Tt(n[2]);return{min:Math.min(s,a),max:Math.max(s,a)}}const o=Tt(e);return{min:o,max:o}}function No(t){const e=String(t||"normal").trim().toLowerCase();return e==="italic"?{kind:"italic"}:e.startsWith("oblique")?{kind:"oblique"}:{kind:"normal"}}function Ro(t){const e=String(t||"100%").trim(),n=e.match(/(\d+(?:\.\d+)?)\s*%\s+(\d+(?:\.\d+)?)\s*%/);if(n){const a=parseFloat(n[1]),r=parseFloat(n[2]);return{min:Math.min(a,r),max:Math.max(a,r)}}const o=e.match(/(\d+(?:\.\d+)?)\s*%/),s=o?parseFloat(o[1]):100;return{min:s,max:s}}function Io(t,e){if(!t)return!1;try{const n=new URL(t,location.href);if(n.origin===location.origin)return!0;const s=n.host.toLowerCase();if(["fonts.googleapis.com","fonts.gstatic.com","use.typekit.net","p.typekit.net","kit.fontawesome.com","use.fontawesome.com"].some(l=>s.endsWith(l)))return!0;const r=(n.pathname+n.search).toLowerCase();if(/\bfont(s)?\b/.test(r)||/\.woff2?(\b|$)/.test(r))return!0;for(const l of e){const i=l.toLowerCase().replace(/\s+/g,"+"),u=l.toLowerCase().replace(/\s+/g,"-");if(r.includes(i)||r.includes(u))return!0}return!1}catch(n){return!1}}function To(t){var n;const e=new Set;for(const o of t||[]){const s=(n=String(o).split("__")[0])==null?void 0:n.trim();s&&e.add(s)}return e}function $e(t,e){return t&&t.replace(/url\(\s*(['"]?)([^)'"]+)\1\s*\)/g,(n,o,s)=>{const a=(s||"").trim();if(!a||/^data:|^blob:|^https?:|^file:|^about:/i.test(a))return n;let r=a;try{r=new URL(a,e||location.href).href}catch(l){}return'url("'.concat(r,'")')})}var ne=/@import\s+(?:url\(\s*(['"]?)([^)"']+)\1\s*\)|(['"])([^"']+)\3)([^;]*);/g,Ot=4;async function Wo(t,e,n){if(!t)return t;const o=new Set;function s(l,i){try{return new URL(l,i||location.href).href}catch(u){return l}}async function a(l,i,u=0){if(u>Ot)return console.warn("[snapDOM] @import depth exceeded (".concat(Ot,") at ").concat(i)),l;let f="",c=0,d;for(;d=ne.exec(l);){f+=l.slice(c,d.index),c=ne.lastIndex;const y=(d[2]||d[4]||"").trim(),p=s(y,i);if(o.has(p)){console.warn("[snapDOM] Skipping circular @import: ".concat(p));continue}o.add(p);let h="";try{const m=await ot(p,{as:"text",useProxy:n,silent:!0});m.ok&&typeof m.data=="string"&&(h=m.data)}catch(m){}h?(h=$e(h,p),h=await a(h,p,u+1),f+="\n/* inlined: ".concat(p," */\n").concat(h,"\n")):f+=d[0]}return f+=l.slice(c),f}let r=$e(t,e||location.href);return r=await a(r,e||location.href,0),r}var Je=/url\((["']?)([^"')]+)\1\)/g,Bo=/@font-face[^{}]*\{[^}]*\}/g;function Qe(t){if(!t)return[];const e=[],n=t.split(",").map(o=>o.trim()).filter(Boolean);for(const o of n){const s=o.match(/^U\+([0-9A-Fa-f?]+)(?:-([0-9A-Fa-f?]+))?$/);if(!s)continue;const a=s[1],r=s[2],l=i=>{if(!i.includes("?"))return parseInt(i,16);const u=parseInt(i.replace(/\?/g,"0"),16),f=parseInt(i.replace(/\?/g,"F"),16);return[u,f]};if(r){const i=l(a),u=l(r),f=Array.isArray(i)?i[0]:i,c=Array.isArray(u)?u[1]:u;e.push([Math.min(f,c),Math.max(f,c)])}else{const i=l(a);Array.isArray(i)?e.push([i[0],i[1]]):e.push([i,i])}}return e}function Ze(t,e){if(!e.length||!t||t.size===0)return!0;for(const n of t)for(const[o,s]of e)if(n>=o&&n<=s)return!0;return!1}function fe(t,e){const n=[];if(!t)return n;for(const o of t.matchAll(Je)){let s=(o[2]||"").trim();if(!(!s||s.startsWith("data:"))){if(!/^https?:/i.test(s))try{s=new URL(s,e||location.href).href}catch(a){}n.push(s)}}return n}async function tn(t,e,n=""){var s,a,r,l,i;let o=t;for(const u of t.matchAll(Je)){const f=ce(u[0]);if(!f)continue;let c=f;if(!c.startsWith("http")&&!c.startsWith("data:"))try{c=new URL(c,e||location.href).href}catch(d){}if(!ct(c)){if((s=C.resource)!=null&&s.has(c)){(a=C.font)==null||a.add(c),o=o.replace(u[0],"url(".concat(C.resource.get(c),")"));continue}if(!((r=C.font)!=null&&r.has(c)))try{const d=await ot(c,{as:"dataURL",useProxy:n,silent:!0});if(d.ok&&typeof d.data=="string"){const y=d.data;(l=C.resource)==null||l.set(c,y),(i=C.font)==null||i.add(c),o=o.replace(u[0],"url(".concat(y,")"))}}catch(d){console.warn("[snapDOM] Failed to fetch font resource:",c)}}}return o}function Uo(t){if(!t.length)return null;const e=(l,i)=>t.some(([u,f])=>!(f<l||u>i)),n=e(0,255)||e(305,305),o=e(256,591)||e(7680,7935),s=e(880,1023),a=e(1024,1279);return e(7840,7929)||e(258,259)||e(416,417)||e(431,432)?"vietnamese":a?"cyrillic":s?"greek":o?"latin-ext":n?"latin":null}function Ae(t={}){const e=new Set((t.families||[]).map(s=>String(s).toLowerCase())),n=new Set((t.domains||[]).map(s=>String(s).toLowerCase())),o=new Set((t.subsets||[]).map(s=>String(s).toLowerCase()));return(s,a)=>{if(e.size&&e.has(s.family.toLowerCase()))return!0;if(n.size)for(const r of s.srcUrls)try{if(n.has(new URL(r).host.toLowerCase()))return!0}catch(l){}if(o.size){const r=Uo(a);if(r&&o.has(r))return!0}return!1}}function Oo(t){var a,r,l,i,u,f;if(!t)return t;const e=/@font-face[^{}]*\{[^}]*\}/gi,n=new Set,o=[];for(const c of t.match(e)||[]){const d=((a=c.match(/font-family:\s*([^;]+);/i))==null?void 0:a[1])||"",y=Ht(d),p=(((r=c.match(/font-weight:\s*([^;]+);/i))==null?void 0:r[1])||"400").trim(),h=(((l=c.match(/font-style:\s*([^;]+);/i))==null?void 0:l[1])||"normal").trim(),m=(((i=c.match(/font-stretch:\s*([^;]+);/i))==null?void 0:i[1])||"100%").trim(),k=(((u=c.match(/unicode-range:\s*([^;]+);/i))==null?void 0:u[1])||"").trim(),x=(((f=c.match(/src\s*:\s*([^;]+);/i))==null?void 0:f[1])||"").trim(),M=fe(x,location.href),$=M.length?M.map(E=>String(E).toLowerCase()).sort().join("|"):x.toLowerCase(),v=[String(y||"").toLowerCase(),p,h,m,k.toLowerCase(),$].join("|");n.has(v)||(n.add(v),o.push(c))}if(o.length===0)return t;let s=0;return t.replace(e,()=>o[s++]||"")}function Do(t,e,n,o){const s=Array.from(t||[]).sort().join("|"),a=e?JSON.stringify({families:(e.families||[]).map(i=>String(i).toLowerCase()).sort(),domains:(e.domains||[]).map(i=>String(i).toLowerCase()).sort(),subsets:(e.subsets||[]).map(i=>String(i).toLowerCase()).sort()}):"",r=(n||[]).map(i=>"".concat((i.family||"").toLowerCase(),"::").concat(i.weight||"normal","::").concat(i.style||"normal","::").concat(i.src||"")).sort().join("|"),l=o||"";return"fonts-embed-css::req=".concat(s,"::ex=").concat(a,"::lf=").concat(r,"::px=").concat(l)}async function en(t,e,n,o){let s;try{s=t.cssRules||[]}catch(r){return}const a=(r,l)=>{try{return new URL(r,l||location.href).href}catch(i){return r}};for(const r of s){if(r.type===CSSRule.IMPORT_RULE&&r.styleSheet){const l=r.href?a(r.href,e):e;if(o.depth>=Ot){console.warn("[snapDOM] CSSOM import depth exceeded (".concat(Ot,") at ").concat(l));continue}if(l&&o.visitedSheets.has(l)){console.warn("[snapDOM] Skipping circular CSSOM import: ".concat(l));continue}l&&o.visitedSheets.add(l);const i={...o,depth:(o.depth||0)+1};await en(r.styleSheet,l,n,i);continue}if(r.type===CSSRule.FONT_FACE_RULE){const l=(r.style.getPropertyValue("font-family")||"").trim(),i=Ht(l);if(!i||ct(i))continue;const u=(r.style.getPropertyValue("font-weight")||"400").trim(),f=(r.style.getPropertyValue("font-style")||"normal").trim(),c=(r.style.getPropertyValue("font-stretch")||"100%").trim(),d=(r.style.getPropertyValue("src")||"").trim(),y=(r.style.getPropertyValue("unicode-range")||"").trim();if(!o.faceMatchesRequired(i,f,u,c))continue;const p=Qe(y);if(!Ze(o.usedCodepoints,p))continue;const h={family:i,weightSpec:u,styleSpec:f,stretchSpec:c,unicodeRange:y,srcRaw:d,srcUrls:fe(d,e||location.href),href:e||location.href};if(o.simpleExcluder&&o.simpleExcluder(h,p))continue;if(/url\(/i.test(d)){const m=await tn(d,e||location.href,o.useProxy);await n("@font-face{font-family:".concat(i,";src:").concat(m,";font-style:").concat(f,";font-weight:").concat(u,";font-stretch:").concat(c,";").concat(y?"unicode-range:".concat(y,";"):"","}"))}else await n("@font-face{font-family:".concat(i,";src:").concat(d,";font-style:").concat(f,";font-weight:").concat(u,";font-stretch:").concat(c,";").concat(y?"unicode-range:".concat(y,";"):"","}"))}}}async function Ho({required:t,usedCodepoints:e,exclude:n=void 0,localFonts:o=[],useProxy:s=""}={}){var h,m,k,x,M,$,v,E,T,F,I,O,H,Q,B,st,G,Z;t instanceof Set||(t=new Set),e instanceof Set||(e=new Set);const a=new Map;for(const b of t){const[g,w,A,P]=String(b).split("__");if(!g)continue;const L=a.get(g)||[];L.push({w:parseInt(w,10),s:A,st:parseInt(P,10)}),a.set(g,L)}function r(b,g,w,A){if(!a.has(b))return!1;const P=a.get(b),L=Lo(w),R=No(g),W=Ro(A),j=L.min!==L.max,at=L.min,rt=D=>R.kind==="normal"&&D==="normal"||R.kind!=="normal"&&(D==="italic"||D==="oblique");let K=!1;for(const D of P){const et=j?D.w>=L.min&&D.w<=L.max:D.w===at,q=rt(ee(D.s)),X=D.st>=W.min&&D.st<=W.max;if(et&&q&&X){K=!0;break}}if(K)return!0;if(!j)for(const D of P){const et=rt(ee(D.s)),q=D.st>=W.min&&D.st<=W.max;if(Math.abs(at-D.w)<=300&&et&&q)return!0}return!1}const l=Ae(n),i=Do(t,n,o,s);if((h=C.resource)!=null&&h.has(i))return C.resource.get(i);const u=To(t),f=[],c=ne;for(const b of document.querySelectorAll("style")){const g=b.textContent||"";for(const w of g.matchAll(c)){const A=(w[2]||w[4]||"").trim();if(!A||ct(A))continue;!!document.querySelector('link[rel="stylesheet"][href="'.concat(A,'"]'))||f.push(A)}}f.length&&await Promise.all(f.map(b=>new Promise(g=>{if(document.querySelector('link[rel="stylesheet"][href="'.concat(b,'"]')))return g(null);const w=document.createElement("link");w.rel="stylesheet",w.href=b,w.setAttribute("data-snapdom","injected-import"),w.onload=()=>g(w),w.onerror=()=>g(null),document.head.appendChild(w)})));let d="";const y=Array.from(document.querySelectorAll('link[rel="stylesheet"]')).filter(b=>!!b.href);for(const b of y)try{if(ct(b.href))continue;let g="",w=!1;try{w=new URL(b.href,location.href).origin===location.origin}catch(P){}if(!w&&!Io(b.href,u))continue;if(w){const P=Array.from(document.styleSheets).find(L=>L.href===b.href);if(P)try{const L=P.cssRules||[];g=Array.from(L).map(R=>R.cssText).join("")}catch(L){}}if(!g&&(g=(await ot(b.href,{as:"text",useProxy:s})).data,ct(b.href)))continue;g=await Wo(g,b.href,s);let A="";for(const P of g.match(Bo)||[]){const L=(((m=P.match(/font-family:\s*([^;]+);/i))==null?void 0:m[1])||"").trim(),R=Ht(L);if(!R||ct(R))continue;const W=(((k=P.match(/font-weight:\s*([^;]+);/i))==null?void 0:k[1])||"400").trim(),j=(((x=P.match(/font-style:\s*([^;]+);/i))==null?void 0:x[1])||"normal").trim(),at=(((M=P.match(/font-stretch:\s*([^;]+);/i))==null?void 0:M[1])||"100%").trim(),rt=((($=P.match(/unicode-range:\s*([^;]+);/i))==null?void 0:$[1])||"").trim(),K=(((v=P.match(/src\s*:\s*([^;]+);/i))==null?void 0:v[1])||"").trim(),D=fe(K,b.href);if(!r(R,j,W,at))continue;const et=Qe(rt);if(!Ze(e,et))continue;const q={family:R,weightSpec:W,styleSpec:j,stretchSpec:at,unicodeRange:rt,srcRaw:K,srcUrls:D,href:b.href};if(n&&l(q,et))continue;const X=/url\(/i.test(K)?await tn(P,b.href,s):P;A+=X}A.trim()&&(d+=A)}catch(g){console.warn("[snapDOM] Failed to process stylesheet:",b.href)}const p={requiredIndex:a,usedCodepoints:e,faceMatchesRequired:r,simpleExcluder:n?Ae(n):null,useProxy:s,visitedSheets:new Set,depth:0};for(const b of document.styleSheets)if(!(b.href&&y.some(g=>g.href===b.href)))try{const g=b.href||location.href;g&&p.visitedSheets.add(g),await en(b,g,async w=>{d+=w},p)}catch(g){}try{for(const b of document.fonts||[]){if(!b||!b.family||b.status!=="loaded"||!b._snapdomSrc)continue;const g=String(b.family).replace(/^['"]+|['"]+$/g,"");if(ct(g)||!a.has(g)||n!=null&&n.families&&n.families.some(A=>String(A).toLowerCase()===g.toLowerCase()))continue;let w=b._snapdomSrc;if(!String(w).startsWith("data:")){if((E=C.resource)!=null&&E.has(b._snapdomSrc))w=C.resource.get(b._snapdomSrc),(T=C.font)==null||T.add(b._snapdomSrc);else if(!((F=C.font)!=null&&F.has(b._snapdomSrc)))try{const A=await ot(b._snapdomSrc,{as:"dataURL",useProxy:s,silent:!0});if(A.ok&&typeof A.data=="string")w=A.data,(I=C.resource)==null||I.set(b._snapdomSrc,w),(O=C.font)==null||O.add(b._snapdomSrc);else continue}catch(A){console.warn("[snapDOM] Failed to fetch dynamic font src:",b._snapdomSrc);continue}}d+="@font-face{font-family:'".concat(g,"';src:url(").concat(w,");font-style:").concat(b.style||"normal",";font-weight:").concat(b.weight||"normal",";}")}}catch(b){}for(const b of o){if(!b||typeof b!="object")continue;const g=String(b.family||"").replace(/^['"]+|['"]+$/g,"");if(!g||ct(g)||!a.has(g)||n!=null&&n.families&&n.families.some(W=>String(W).toLowerCase()===g.toLowerCase()))continue;const w=b.weight!=null?String(b.weight):"normal",A=b.style!=null?String(b.style):"normal",P=b.stretchPct!=null?"".concat(b.stretchPct,"%"):"100%",L=String(b.src||"");let R=L;if(!R.startsWith("data:")){if((H=C.resource)!=null&&H.has(L))R=C.resource.get(L),(Q=C.font)==null||Q.add(L);else if(!((B=C.font)!=null&&B.has(L)))try{const W=await ot(L,{as:"dataURL",useProxy:s,silent:!0});if(W.ok&&typeof W.data=="string")R=W.data,(st=C.resource)==null||st.set(L,R),(G=C.font)==null||G.add(L);else continue}catch(W){console.warn("[snapDOM] Failed to fetch localFonts src:",L);continue}}d+="@font-face{font-family:'".concat(g,"';src:url(").concat(R,");font-style:").concat(A,";font-weight:").concat(w,";font-stretch:").concat(P,";}")}return d&&(d=Oo(d),(Z=C.resource)==null||Z.set(i,d)),d}function zo(t){const e=new Set;if(!t)return e;const n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,null),o=r=>{const l=Ht(r.fontFamily);if(!l)return;const i=(u,f,c)=>"".concat(l,"__").concat(Tt(u),"__").concat(ee(f),"__").concat(Po(c));e.add(i(r.fontWeight,r.fontStyle,r.fontStretch))};o(getComputedStyle(t));const s=getComputedStyle(t,"::before");s&&s.content&&s.content!=="none"&&o(s);const a=getComputedStyle(t,"::after");for(a&&a.content&&a.content!=="none"&&o(a);n.nextNode();){const r=n.currentNode,l=getComputedStyle(r);o(l);const i=getComputedStyle(r,"::before");i&&i.content&&i.content!=="none"&&o(i);const u=getComputedStyle(r,"::after");u&&u.content&&u.content!=="none"&&o(u)}return e}function Vo(t){const e=new Set,n=s=>{if(s)for(const a of s)e.add(a.codePointAt(0))},o=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,null);for(;o.nextNode();){const s=o.currentNode;if(s.nodeType===Node.TEXT_NODE)n(s.nodeValue||"");else if(s.nodeType===Node.ELEMENT_NODE){const a=s;for(const r of["::before","::after"]){const l=getComputedStyle(a,r),i=l==null?void 0:l.getPropertyValue("content");if(!(!i||i==="none"))if(/^"/.test(i)||/^'/.test(i))n(i.slice(1,-1));else{const u=i.match(/\\[0-9A-Fa-f]{1,6}/g);if(u)for(const f of u)try{e.add(parseInt(f.slice(1),16))}catch(c){}}}}}return e}async function qo(t,e=2){try{await document.fonts.ready}catch(s){}const n=Array.from(t||[]).filter(Boolean);if(n.length===0)return;const o=()=>{const s=document.createElement("div");s.style.cssText="position:absolute!important;left:-9999px!important;top:0!important;opacity:0!important;pointer-events:none!important;contain:layout size style;";for(const a of n){const r=document.createElement("span");r.textContent="AaBbGg1234ÁÉÍÓÚçñ—∞",r.style.fontFamily='"'.concat(a,'"'),r.style.fontWeight="700",r.style.fontStyle="italic",r.style.fontSize="32px",r.style.lineHeight="1",r.style.whiteSpace="nowrap",r.style.margin="0",r.style.padding="0",s.appendChild(r)}document.body.appendChild(s),s.offsetWidth,document.body.removeChild(s)};for(let s=0;s<Math.max(1,e);s++)o(),await new Promise(a=>requestAnimationFrame(()=>requestAnimationFrame(a)))}function jo(t){return/\bcounter\s*\(|\bcounters\s*\(/.test(t||"")}function Xo(t){return(t||"").replace(/"([^"]*)"/g,"$1")}function Ee(t,e=!1){let n="",o=Math.max(1,t);for(;o>0;)o--,n=String.fromCharCode(97+o%26)+n,o=Math.floor(o/26);return e?n.toUpperCase():n}function Fe(t,e=!0){const n=[[1e3,"M"],[900,"CM"],[500,"D"],[400,"CD"],[100,"C"],[90,"XC"],[50,"L"],[40,"XL"],[10,"X"],[9,"IX"],[5,"V"],[4,"IV"],[1,"I"]];let o=Math.max(1,Math.min(3999,t)),s="";for(const[a,r]of n)for(;o>=a;)s+=r,o-=a;return e?s:s.toLowerCase()}function Pe(t,e){switch((e||"decimal").toLowerCase()){case"decimal":return String(Math.max(0,t));case"decimal-leading-zero":return(t<10?"0":"")+String(Math.max(0,t));case"lower-alpha":return Ee(t,!1);case"upper-alpha":return Ee(t,!0);case"lower-roman":return Fe(t,!1);case"upper-roman":return Fe(t,!0);default:return String(Math.max(0,t))}}function Yo(t){const e=new WeakMap,n=t instanceof Document?t.documentElement:t,o=u=>u&&u.tagName==="LI",s=u=>{let f=0,c=u==null?void 0:u.parentElement;if(!c)return 0;for(const d of c.children){if(d===u)break;d.tagName==="LI"&&f++}return f},a=u=>{const f=new Map;for(const[c,d]of u)f.set(c,d.slice());return f},r=(u,f,c)=>{var h,m;const d=a(u);let y;try{y=((h=c.style)==null?void 0:h.counterReset)||getComputedStyle(c).counterReset}catch(k){}if(y&&y!=="none")for(const k of y.split(",")){const x=k.trim().split(/\s+/),M=x[0],$=Number.isFinite(Number(x[1]))?Number(x[1]):0;if(!M)continue;const v=f.get(M);if(v&&v.length){const E=v.slice();E.push($),d.set(M,E)}else d.set(M,[$])}let p;try{p=((m=c.style)==null?void 0:m.counterIncrement)||getComputedStyle(c).counterIncrement}catch(k){}if(p&&p!=="none")for(const k of p.split(",")){const x=k.trim().split(/\s+/),M=x[0],$=Number.isFinite(Number(x[1]))?Number(x[1]):1;if(!M)continue;const v=d.get(M)||[];v.length===0&&v.push(0),v[v.length-1]+=$,d.set(M,v)}try{if(getComputedStyle(c).display==="list-item"&&o(c)){const x=c.parentElement;let M=1;if(x&&x.tagName==="OL"){const v=x.getAttribute("start"),E=Number.isFinite(Number(v))?Number(v):1,T=s(c),F=c.getAttribute("value");M=Number.isFinite(Number(F))?Number(F):E+T}else M=1+s(c);const $=d.get("list-item")||[];$.length===0&&$.push(0),$[$.length-1]=M,d.set("list-item",$)}}catch(k){}return d},l=(u,f,c)=>{const d=r(c,f,u);e.set(u,d);let y=d;for(const p of u.children)y=l(p,d,y);return d},i=new Map;return l(n,i,i),{get(u,f){var d;const c=(d=e.get(u))==null?void 0:d.get(f);return c&&c.length?c[c.length-1]:0},getStack(u,f){var d;const c=(d=e.get(u))==null?void 0:d.get(f);return c?c.slice():[]}}}function Go(t,e,n){if(!t||t==="none")return t;try{const o=/\b(counter|counters)\s*\(([^)]+)\)/g;let s=t.replace(o,(a,r,l)=>{var u,f,c,d;const i=String(l).split(",").map(y=>y.trim());if(r==="counter"){const y=(u=i[0])==null?void 0:u.replace(/^["']|["']$/g,""),p=(i[1]||"decimal").toLowerCase(),h=n.get(e,y);return Pe(h,p)}else{const y=(f=i[0])==null?void 0:f.replace(/^["']|["']$/g,""),p=(d=(c=i[1])==null?void 0:c.replace(/^["']|["']$/g,""))!=null?d:"",h=(i[2]||"decimal").toLowerCase(),m=n.getStack(e,y);return m.length?m.map(x=>Pe(x,h)).join(p):""}});return Xo(s)}catch(o){return"- "}}var vt=null,kt=new WeakMap;function Ko(t){return(t||"").replace(/"([^"]*)"/g,"$1")}function Jo(t){if(!t)return"";const e=[],n=/"([^"]*)"/g;let o;for(;o=n.exec(t);)e.push(o[1]);return e.length?e.join(""):Ko(t)}function oe(t,e){const n=t.parentElement,o=n?kt.get(n):null;return o?{get(s,a){const r=e.get(s,a),l=o.get(a);return typeof l=="number"?Math.max(r,l):r},getStack(s,a){const r=e.getStack(s,a);if(!r.length)return r;const l=o.get(a);if(typeof l=="number"){const i=r.slice();return i[i.length-1]=Math.max(i[i.length-1],l),i}return r}}:e}function se(t,e,n){const o=new Map;function s(i){const u=[];if(!i||i==="none")return u;for(const f of String(i).split(",")){const c=f.trim().split(/\s+/),d=c[0],y=Number.isFinite(Number(c[1]))?Number(c[1]):void 0;d&&u.push({name:d,num:y})}return u}const a=s(e==null?void 0:e.counterReset),r=s(e==null?void 0:e.counterIncrement);function l(i){if(o.has(i))return o.get(i).slice();let u=n.getStack(t,i);u=u.length?u.slice():[];const f=a.find(d=>d.name===i);if(f){const d=Number.isFinite(f.num)?f.num:0;u=u.length?[...u,d]:[d]}const c=r.find(d=>d.name===i);if(c){const d=Number.isFinite(c.num)?c.num:1;u.length===0&&(u=[0]),u[u.length-1]+=d}return o.set(i,u.slice()),u}return{get(i,u){const f=l(u);return f.length?f[f.length-1]:0},getStack(i,u){return l(u)},__incs:r}}function Qo(t,e,n){let o;try{o=getComputedStyle(t,e)}catch(u){}const s=o==null?void 0:o.content;if(!s||s==="none"||s==="normal")return{text:"",incs:[]};const a=oe(t,n),r=se(t,o,a);let l=jo(s)?Go(s,t,r):s;return{text:Jo(l),incs:r.__incs||[]}}async function nn(t,e,n,o){var r;if(!(t instanceof Element)||!(e instanceof Element))return;if(!vt)try{vt=Yo(t.ownerDocument||document)}catch(l){}for(const l of["::before","::after","::first-letter"])try{const i=Ge(t,l);if(!i||typeof i[Symbol.iterator]!="function"||i.content==="none"&&i.backgroundImage==="none"&&i.backgroundColor==="transparent"&&(i.borderStyle==="none"||parseFloat(i.borderWidth)===0)&&(!i.transform||i.transform==="none")&&i.display==="inline")continue;if(l==="::first-letter"){const g=getComputedStyle(t);if(!(i.color!==g.color||i.fontSize!==g.fontSize||i.fontWeight!==g.fontWeight))continue;const A=Array.from(e.childNodes).find(D=>{var et;return D.nodeType===Node.TEXT_NODE&&((et=D.textContent)==null?void 0:et.trim().length)>0});if(!A)continue;const P=A.textContent,L=P.match(/^([^\p{L}\p{N}\s]*[\p{L}\p{N}](?:['’])?)/u),R=L==null?void 0:L[0],W=P.slice((R==null?void 0:R.length)||0);if(!R||/[\uD800-\uDFFF]/.test(R))continue;const j=document.createElement("span");j.textContent=R,j.dataset.snapdomPseudo="::first-letter";const at=ke(i),rt=Jt(at,"span");n.styleMap.set(j,rt);const K=document.createTextNode(W);e.replaceChild(K,A),e.insertBefore(j,K);continue}const f=i.content,{text:c,incs:d}=Qo(t,l,vt),y=i.backgroundImage,p=i.backgroundColor,h=i.fontFamily,m=parseInt(i.fontSize)||32,k=parseInt(i.fontWeight)||!1,x=i.color||"#000",M=i.borderStyle,$=parseFloat(i.borderWidth),v=i.transform,E=ct(h),T=f!=="none"&&c!=="",F=y&&y!=="none",I=p&&p!=="transparent"&&p!=="rgba(0, 0, 0, 0)",O=M&&M!=="none"&&$>0,H=v&&v!=="none";if(!(T||F||I||O||H)){if(d&&d.length&&t.parentElement){const g=kt.get(t.parentElement)||new Map;for(const{name:w}of d){if(!w)continue;const A=oe(t,vt),L=se(t,getComputedStyle(t,l),A).get(t,w);g.set(w,L)}kt.set(t.parentElement,g)}continue}const B=document.createElement("span");B.dataset.snapdomPseudo=l,B.style.verticalAlign="middle",B.style.pointerEvents="none";const st=ke(i),G=Jt(st,"span");if(n.styleMap.set(B,G),E&&c&&c.length===1){const{dataUrl:g,width:w,height:A}=await Eo(c,h,k,m,x),P=document.createElement("img");P.src=g,P.style="height:".concat(m,"px;width:").concat(w/A*m,"px;object-fit:contain;"),B.appendChild(P),e.dataset.snapdomHasIcon="true"}else if(c&&c.startsWith("url(")){const g=ce(c);if(g!=null&&g.trim())try{const w=document.createElement("img"),A=await ot(Ut(g),{as:"dataURL",useProxy:o.useProxy});w.src=A.data,w.style="width:".concat(m,"px;height:auto;object-fit:contain;"),B.appendChild(w)}catch(w){console.error("[snapdom] Error in pseudo ".concat(l," for"),t,w)}}else!E&&T&&(B.textContent=c);if(B.style.background="none","mask"in B.style&&(B.style.mask="none"),F)try{const g=Ke(y),w=await Promise.all(g.map(Xe));B.style.backgroundImage=w.join(", ")}catch(g){console.warn("[snapdom] Failed to inline background-image for ".concat(l),g)}I&&(B.style.backgroundColor=p);const b=B.childNodes.length>0||((r=B.textContent)==null?void 0:r.trim())!==""||F||I||O||H;if(d&&d.length&&t.parentElement){const g=kt.get(t.parentElement)||new Map,w=oe(t,vt),A=se(t,getComputedStyle(t,l),w);for(const{name:P}of d){if(!P)continue;const L=A.get(t,P);g.set(P,L)}kt.set(t.parentElement,g)}if(!b)continue;l==="::before"?e.insertBefore(B,e.firstChild):e.appendChild(B)}catch(i){console.warn("[snapdom] Failed to capture ".concat(l," for"),t,i)}const s=Array.from(t.children),a=Array.from(e.children).filter(l=>!l.dataset.snapdomPseudo);for(let l=0;l<Math.min(s.length,a.length);l++)await nn(s[l],a[l],n,o)}function Zo(t){if(!t)return;const e=new Set;if(t.querySelectorAll("use").forEach(l=>{const i=l.getAttribute("xlink:href")||l.getAttribute("href");i&&i.startsWith("#")&&e.add(i.slice(1))}),!e.size)return;const n=Array.from(document.querySelectorAll("svg > symbol, svg > defs")),o=n.filter(l=>l.tagName.toLowerCase()==="symbol"),s=n.filter(l=>l.tagName.toLowerCase()==="defs");let a=t.querySelector("svg.inline-defs-container");a||(a=document.createElementNS("http://www.w3.org/2000/svg","svg"),a.setAttribute("aria-hidden","true"),a.setAttribute("style","position: absolute; width: 0; height: 0; overflow: hidden;"),a.classList.add("inline-defs-container"),t.insertBefore(a,t.firstChild));const r=new Set;t.querySelectorAll("symbol[id], defs > *[id]").forEach(l=>{r.add(l.id)}),e.forEach(l=>{if(r.has(l))return;const i=o.find(u=>u.id===l);if(i){a.appendChild(i.cloneNode(!0)),r.add(l);return}for(const u of s){const f=u.querySelector("#".concat(CSS.escape(l)));if(f){let c=a.querySelector("defs");c||(c=document.createElementNS("http://www.w3.org/2000/svg","defs"),a.appendChild(c)),c.appendChild(f.cloneNode(!0)),r.add(l);break}}})}function ts(t,e){var l;if(!t||!e)return;const n=t.scrollTop||0;if(!n)return;getComputedStyle(e).position==="static"&&(e.style.position="relative");const o=t.getBoundingClientRect(),s=t.clientHeight,a="data-snap-ph",r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT);for(;r.nextNode();){const i=r.currentNode,u=getComputedStyle(i),f=u.position;if(f!=="sticky"&&f!=="-webkit-sticky")continue;const c=Le(u.top),d=Le(u.bottom);if(c==null&&d==null)continue;const y=es(i,t),p=ns(e,y,a);if(!p)continue;const h=i.getBoundingClientRect(),m=h.width,k=h.height,x=h.left-o.left;if(!(m>0&&k>0)||!Number.isFinite(x))continue;const M=c!=null?c+n:n+(s-k-d);if(!Number.isFinite(M))continue;const $=Number.parseInt(u.zIndex,10),v=Number.isFinite($),E=v?Math.max($,1)+1:2,T=v?$-1:0,F=p.cloneNode(!1);F.setAttribute(a,"1"),F.style.position="sticky",F.style.left="".concat(x,"px"),F.style.top="".concat(M,"px"),F.style.width="".concat(m,"px"),F.style.height="".concat(k,"px"),F.style.visibility="hidden",F.style.zIndex=String(T),F.style.overflow="hidden",F.style.background="transparent",F.style.boxShadow="none",F.style.filter="none",(l=p.parentElement)==null||l.insertBefore(F,p),p.style.position="absolute",p.style.left="".concat(x,"px"),p.style.top="".concat(M,"px"),p.style.bottom="auto",p.style.zIndex=String(E),p.style.pointerEvents="none"}}function Le(t){if(!t||t==="auto")return null;const e=Number.parseFloat(t);return Number.isFinite(e)?e:null}function es(t,e){const n=[];for(let o=t;o&&o!==e;){const s=o.parentElement;if(!s)break;n.push(Array.prototype.indexOf.call(s.children,o)),o=s}return n.reverse()}function ns(t,e,n){let o=t;for(let s=0;s<e.length;s++)if(o=os(o,n)[e[s]],!o)return null;return o instanceof HTMLElement?o:null}function os(t,e){const n=[],o=t.children;for(let s=0;s<o.length;s++){const a=o[s];a.hasAttribute(e)||n.push(a)}return n}async function ss(t,e={}){var i,u;const n={styleMap:C.session.styleMap,styleCache:C.session.styleCache,nodeMap:C.session.nodeMap};let o,s="",a="";as(t);try{Zo(t)}catch(f){console.warn("inlineExternal defs or symbol failed:",f)}try{o=await It(t,n,e,t)}catch(f){throw console.warn("deepClone failed:",f),f}try{await nn(t,o,n,e)}catch(f){console.warn("inlinePseudoElements failed:",f)}await ls(o);try{const f=o.querySelectorAll("style[data-sd]");for(const c of f)a+=c.textContent||"",c.remove()}catch(f){}const r=Zn(n.styleMap);s=Array.from(r.entries()).map(([f,c])=>".".concat(c,"{").concat(f,"}")).join(""),s=a+s;for(const[f,c]of n.styleMap.entries()){if(f.tagName==="STYLE")continue;if(f.getRootNode&&f.getRootNode()instanceof ShadowRoot){f.setAttribute("style",c.replace(/;/g,"; "));continue}const d=r.get(c);d&&f.classList.add(d);const y=(i=f.style)==null?void 0:i.backgroundImage,p=(u=f.dataset)==null?void 0:u.snapdomHasIcon;y&&y!=="none"&&(f.style.backgroundImage=y),p&&(f.style.verticalAlign="middle",f.style.display="inline")}for(const[f,c]of n.nodeMap.entries()){const d=c.scrollLeft,y=c.scrollTop;if((d||y)&&f instanceof HTMLElement){f.style.overflow="hidden",f.style.scrollbarWidth="none",f.style.msOverflowStyle="none";const h=document.createElement("div");for(h.style.transform="translate(".concat(-d,"px, ").concat(-y,"px)"),h.style.willChange="transform",h.style.display="inline-block",h.style.width="100%";f.firstChild;)h.appendChild(f.firstChild);f.appendChild(h)}}const l=o instanceof HTMLElement&&o.firstElementChild instanceof HTMLElement?o.firstElementChild:o;if(ts(t,l),t===n.nodeMap.get(o)){const f=n.styleCache.get(t)||window.getComputedStyle(t);n.styleCache.set(t,f);const c=Un(f.transform);o.style.margin="0",o.style.top="auto",o.style.left="auto",o.style.right="auto",o.style.bottom="auto",o.style.animation="none",o.style.transition="none",o.style.willChange="auto",o.style.float="none",o.style.clear="none",o.style.transform=c||""}for(const[f,c]of n.nodeMap.entries())c.tagName==="PRE"&&(f.style.marginTop="0",f.style.marginBlockStart="0");return{clone:o,classCSS:s,styleCache:n.styleCache}}function as(t){const e=getComputedStyle(t),n=e.outlineStyle,o=e.outlineWidth,s=e.borderStyle,a=e.borderWidth,r=n!=="none"&&parseFloat(o)>0,l=s==="none"||parseFloat(a)===0;r&&l&&(t.style.border="".concat(o," solid transparent"))}var xt=new Map;async function Ct(t){var n;if((n=C.resource)!=null&&n.has(t))return C.resource.get(t);if(xt.has(t))return xt.get(t);const e=(async()=>{var s;const o=await ot(t,{as:"dataURL",silent:!0});if(!o.ok||typeof o.data!="string")throw new Error("[snapDOM] Failed to read blob URL: ".concat(t));return(s=C.resource)==null||s.set(t,o.data),o.data})();xt.set(t,e);try{const o=await e;return xt.set(t,o),o}catch(o){throw xt.delete(t),o}}var rs=/\bblob:[^)"'\s]+/g;async function Ne(t){if(!t||t.indexOf("blob:")===-1)return t;const e=Array.from(new Set(t.match(rs)||[]));if(e.length===0)return t;let n=t;for(const o of e)try{const s=await Ct(o);n=n.split(o).join(s)}catch(s){}return n}function $t(t){return typeof t=="string"&&t.startsWith("blob:")}function is(t){return(t||"").split(",").map(e=>e.trim()).filter(Boolean).map(e=>{const n=e.match(/^(\S+)(\s+.+)?$/);return n?{url:n[1],desc:n[2]||""}:null}).filter(Boolean)}function cs(t){return t.map(e=>e.desc?"".concat(e.url," ").concat(e.desc.trim()):e.url).join(", ")}async function ls(t){var r,l;if(!t)return;const e=t.querySelectorAll?t.querySelectorAll("img"):[];for(const i of e)try{const f=i.getAttribute("src")||i.currentSrc||"";if($t(f)){const d=await Ct(f);i.setAttribute("src",d)}const c=i.getAttribute("srcset");if(c&&c.includes("blob:")){const d=is(c);let y=!1;for(const p of d)if($t(p.url))try{p.url=await Ct(p.url),y=!0}catch(h){}y&&i.setAttribute("srcset",cs(d))}}catch(u){}const n=t.querySelectorAll?t.querySelectorAll("image"):[];for(const i of n)try{const u="http://www.w3.org/1999/xlink",f=i.getAttribute("href")||((r=i.getAttributeNS)==null?void 0:r.call(i,u,"href"));if($t(f)){const c=await Ct(f);i.setAttribute("href",c),(l=i.removeAttributeNS)==null||l.call(i,u,"href")}}catch(u){}const o=t.querySelectorAll?t.querySelectorAll("[style*='blob:']"):[];for(const i of o)try{const u=i.getAttribute("style");if(u&&u.includes("blob:")){const f=await Ne(u);i.setAttribute("style",f)}}catch(u){}const s=t.querySelectorAll?t.querySelectorAll("style"):[];for(const i of s)try{const u=i.textContent||"";u.includes("blob:")&&(i.textContent=await Ne(u))}catch(u){}const a=["poster"];for(const i of a){const u=t.querySelectorAll?t.querySelectorAll("[".concat(i,"^='blob:']")):[];for(const f of u)try{const c=f.getAttribute(i);$t(c)&&f.setAttribute(i,await Ct(c))}catch(c){}}}async function us(t,e={}){const n=Array.from(t.querySelectorAll("img")),o=async s=>{var f,c,d,y;if(!s.getAttribute("src")){const p=s.currentSrc||s.src||"";p&&s.setAttribute("src",p)}s.removeAttribute("srcset"),s.removeAttribute("sizes");const a=s.src||"";if(!a)return;const r=await ot(a,{as:"dataURL",useProxy:e.useProxy});if(r.ok&&typeof r.data=="string"&&r.data.startsWith("data:")){s.src=r.data,s.width||(s.width=s.naturalWidth||100),s.height||(s.height=s.naturalHeight||100);return}const{fallbackURL:l}=e||{};if(l)try{const p=parseInt(((f=s.dataset)==null?void 0:f.snapdomWidth)||"",10)||0,h=parseInt(((c=s.dataset)==null?void 0:c.snapdomHeight)||"",10)||0,m=parseInt(s.getAttribute("width")||"",10)||0,k=parseInt(s.getAttribute("height")||"",10)||0,x=parseFloat(((d=s.style)==null?void 0:d.width)||"")||0,M=parseFloat(((y=s.style)==null?void 0:y.height)||"")||0,$=p||x||m||s.width||void 0,v=h||M||k||s.height||void 0,E=typeof l=="function"?await l({width:$,height:v,src:a,element:s}):l;if(E){const T=await ot(E,{as:"dataURL",useProxy:e.useProxy});s.src=T.data,!s.width&&$&&(s.width=$),!s.height&&v&&(s.height=v),s.width||(s.width=s.naturalWidth||100),s.height||(s.height=s.naturalHeight||100);return}}catch(p){}const i=s.width||s.naturalWidth||100,u=s.height||s.naturalHeight||100;if(e.placeholders!==!1){const p=document.createElement("div");p.style.cssText=["width:".concat(i,"px"),"height:".concat(u,"px"),"background:#ccc","display:inline-block","text-align:center","line-height:".concat(u,"px"),"color:#666","font-size:12px","overflow:hidden"].join(";"),p.textContent="img",s.replaceWith(p)}else{const p=document.createElement("div");p.style.cssText="display:inline-block;width:".concat(i,"px;height:").concat(u,"px;visibility:hidden;"),s.replaceWith(p)}};for(let s=0;s<n.length;s+=4){const a=n.slice(s,s+4).map(o);await Promise.allSettled(a)}}async function fs(t,e,n,o={}){const s=[[t,e]],a=["background-image","mask","mask-image","-webkit-mask","-webkit-mask-image","mask-source","mask-box-image-source","mask-border-source","-webkit-mask-box-image-source","border-image","border-image-source"],r=["mask-position","mask-size","mask-repeat","-webkit-mask-position","-webkit-mask-size","-webkit-mask-repeat","mask-origin","mask-clip","-webkit-mask-origin","-webkit-mask-clip","-webkit-mask-position-x","-webkit-mask-position-y"],l=["border-image-slice","border-image-width","border-image-outset","border-image-repeat"];for(;s.length;){const[i,u]=s.shift(),f=n.get(i)||Ge(i);n.has(i)||n.set(i,f);const c=(()=>{const p=f.getPropertyValue("border-image"),h=f.getPropertyValue("border-image-source");return p&&p!=="none"||h&&h!=="none"})();for(const p of a){const h=f.getPropertyValue(p);if(!h||h==="none")continue;const m=Ke(h),k=await Promise.all(m.map(x=>Xe(x,o)));k.some(x=>x&&x!=="none"&&!/^url\(undefined/.test(x))&&u.style.setProperty(p,k.join(", "))}for(const p of r){const h=f.getPropertyValue(p);!h||h==="initial"||u.style.setProperty(p,h)}if(c)for(const p of l){const h=f.getPropertyValue(p);!h||h==="initial"||u.style.setProperty(p,h)}const d=Array.from(i.children),y=Array.from(u.children);for(let p=0;p<Math.min(d.length,y.length);p++)s.push([d[p],y[p]])}}function ds(t){var u;if(!t)return()=>{};const e=hs(t);if(e<=0)return()=>{};if(!gs(t))return()=>{};const n=getComputedStyle(t),o=Math.round(ms(n)*e+ps(n)),s=(u=t.textContent)!=null?u:"",a=s;if(t.scrollHeight<=o+.5)return()=>{};let r=0,l=s.length,i=-1;for(;r<=l;){const f=r+l>>1;t.textContent=s.slice(0,f)+"…",t.scrollHeight<=o+.5?(i=f,r=f+1):l=f-1}return t.textContent=(i>=0?s.slice(0,i):"")+"…",()=>{t.textContent=a}}function hs(t){const e=getComputedStyle(t);let n=e.getPropertyValue("-webkit-line-clamp")||e.getPropertyValue("line-clamp");n=(n||"").trim();const o=parseInt(n,10);return Number.isFinite(o)&&o>0?o:0}function ms(t){const e=(t.lineHeight||"").trim(),n=parseFloat(t.fontSize)||16;return!e||e==="normal"?Math.round(n*1.2):e.endsWith("px")?parseFloat(e):/^\d+(\.\d+)?$/.test(e)?Math.round(parseFloat(e)*n):e.endsWith("%")?Math.round(parseFloat(e)/100*n):Math.round(n*1.2)}function ps(t){return(parseFloat(t.paddingTop)||0)+(parseFloat(t.paddingBottom)||0)}function gs(t){return t.childElementCount>0?!1:Array.from(t.childNodes).some(e=>e.nodeType===Node.TEXT_NODE)}function ys(t,e){if(!t||!e||!e.style)return;const n=getComputedStyle(t);try{e.style.boxShadow="none"}catch(a){}try{e.style.textShadow="none"}catch(a){}try{e.style.outline="none"}catch(a){}const s=(n.filter||"").replace(/\bblur\([^()]*\)\s*/gi,"").replace(/\bdrop-shadow\([^()]*\)\s*/gi,"").trim().replace(/\s+/g," ");try{e.style.filter=s.length?s:"none"}catch(a){}}async function on(t,e){if(!t)throw new Error("Element cannot be null or undefined");Bn(e.cache);const n=e.fast,o=!!e.straighten,s=!!e.noShadows;let a,r,l,i="",u="",f,c,d=null;const y=ds(t);try{({clone:a,classCSS:r,styleCache:l}=await ss(t,e)),o&&a&&(d=bs(t,a)),s&&a&&ys(t,a)}finally{y()}await new Promise(k=>{pt(async()=>{await us(a,e),k()},{fast:n})}),await new Promise(k=>{pt(async()=>{await fs(t,a,l,e),k()},{fast:n})}),e.embedFonts&&await new Promise(k=>{pt(async()=>{const x=zo(t),M=Vo(t);if(ht()){const $=new Set(Array.from(x).map(v=>String(v).split("__")[0]).filter(Boolean));await qo($,1)}i=await Ho({required:x,usedCodepoints:M,exclude:e.excludeFonts,useProxy:e.useProxy}),k()},{fast:n})});const p=Jn(a).sort(),h=p.join(",");C.baseStyle.has(h)?u=C.baseStyle.get(h):await new Promise(k=>{pt(()=>{u=Qn(p),C.baseStyle.set(h,u),k()},{fast:n})}),await new Promise(k=>{pt(()=>{const x=getComputedStyle(t);function M(it){var me;const J="".concat(it.filter||""," ").concat(it.webkitFilter||"").trim();if(!J||J==="none")return{bleed:{top:0,right:0,bottom:0,left:0},has:!1};const ut=J.match(/drop-shadow\((?:[^()]|\([^()]*\))*\)/gi)||[];let ft=0,yt=0,bt=0,wt=0,dt=!1;for(const yn of ut){dt=!0;const bn=((me=yn.match(/-?\d+(?:\.\d+)?px/gi))==null?void 0:me.map(wn=>parseFloat(wn)))||[],[jt=0,Xt=0,pe=0]=bn,ge=Math.abs(jt)+pe,ye=Math.abs(Xt)+pe;yt=Math.max(yt,ge+Math.max(jt,0)),wt=Math.max(wt,ge+Math.max(-jt,0)),bt=Math.max(bt,ye+Math.max(Xt,0)),ft=Math.max(ft,ye+Math.max(-Xt,0))}return{bleed:{top:Math.ceil(ft),right:Math.ceil(yt),bottom:Math.ceil(bt),left:Math.ceil(wt)},has:dt}}const $=t.getBoundingClientRect(),v=Math.max(1,Math.ceil(t.offsetWidth||parseFloat(x.width)||$.width||1)),E=Math.max(1,Math.ceil(t.offsetHeight||parseFloat(x.height)||$.height||1)),T=(it,J=NaN)=>{const ut=typeof it=="string"?parseFloat(it):it;return Number.isFinite(ut)?ut:J},F=T(e.width),I=T(e.height);let O=v,H=E;const Q=Number.isFinite(F),B=Number.isFinite(I),st=E>0?v/E:1;Q&&B?(O=Math.max(1,Math.ceil(F)),H=Math.max(1,Math.ceil(I))):Q?(O=Math.max(1,Math.ceil(F)),H=Math.max(1,Math.ceil(O/(st||1)))):B?(H=Math.max(1,Math.ceil(I)),O=Math.max(1,Math.ceil(H*(st||1)))):(O=v,H=E);let G=0,Z=0,b=v,g=E;if(o&&d&&Number.isFinite(d.a)){const it={a:d.a,b:d.b||0,c:d.c||0,d:d.d||1,e:0,f:0},J=Re(v,E,it,0,0);G=J.minX,Z=J.minY,b=J.maxX,g=J.maxY}else if(!o&&Ss(t)){const J=x.transform&&x.transform!=="none"?x.transform:"",ut=ks(t),ft=$s({baseTransform:J,rotate:ut.rotate||"0deg",scale:ut.scale,translate:ut.translate}),{ox:yt,oy:bt}=Ms(x,v,E),wt=ft.is2D?ft:new DOMMatrix(ft.toString()),dt=Re(v,E,wt,yt,bt);G=dt.minX,Z=dt.minY,b=dt.maxX,g=dt.maxY}const w=ws(x),A=vs(x),P=xs(x),L=M(x),R=s?{top:0,right:0,bottom:0,left:0}:{top:w.top+A.top+P.top+L.bleed.top,right:w.right+A.right+P.right+L.bleed.right,bottom:w.bottom+A.bottom+P.bottom+L.bleed.bottom,left:w.left+A.left+P.left+L.bleed.left};G-=R.left,Z-=R.top,b+=R.right,g+=R.bottom;const W=Math.max(1,Math.ceil(b-G)),j=Math.max(1,Math.ceil(g-Z)),at=Math.max(1,Math.round(W*(Q||B?O/v:1))),rt=Math.max(1,Math.round(j*(B||Q?H/E:1))),K="http://www.w3.org/2000/svg",q=(ht()?1:0)+(o?1:0),X=document.createElementNS(K,"foreignObject"),dn=Math.floor(G),hn=Math.floor(Z);X.setAttribute("x",String(-(dn-q))),X.setAttribute("y",String(-(hn-q))),X.setAttribute("width",String(Math.ceil(v+q*2))),X.setAttribute("height",String(Math.ceil(E+q*2))),X.style.overflow="visible";const de=document.createElement("style");de.textContent=u+i+"svg{overflow:visible;} foreignObject{overflow:visible;}"+r,X.appendChild(de);const mt=document.createElement("div");mt.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),mt.style.width="".concat(v,"px"),mt.style.height="".concat(E,"px"),mt.style.overflow="visible",a.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),mt.appendChild(a),X.appendChild(mt);const mn=new XMLSerializer().serializeToString(X),Vt=W+q*2,qt=j+q*2,he=Q||B;e.meta={w0:v,h0:E,vbW:Vt,vbH:qt,targetW:O,targetH:H};const pn=ht()&&he?Vt:at+q*2,gn=ht()&&he?qt:rt+q*2;c='<svg xmlns="'.concat(K,'" width="').concat(pn,'" height="').concat(gn,'" viewBox="0 0 ').concat(Vt," ").concat(qt,'">')+mn+"</svg>",f="data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(c)),k()},{fast:n})});const m=document.getElementById("snapdom-sandbox");return m&&m.style.position==="absolute"&&m.remove(),f}function bs(t,e){if(!t||!e||!e.style)return null;const n=getComputedStyle(t);try{e.style.transformOrigin="0 0"}catch(a){}try{"translate"in e.style&&(e.style.translate="none"),"rotate"in e.style&&(e.style.rotate="none")}catch(a){}const o=n.transform||"none";if(o==="none")try{const a=sn(t);if(a.a===1&&a.b===0&&a.c===0&&a.d===1)return e.style.transform="none",{a:1,b:0,c:0,d:1}}catch(a){}const s=o.match(/^matrix\(\s*([^)]+)\)$/i);if(s){const a=s[1].split(",").map(r=>parseFloat(r.trim()));if(a.length===6&&a.every(Number.isFinite)){const[r,l,i,u]=a,f=Math.sqrt(r*r+l*l)||0;let c=0,d=0,y=0,p=0,h=0,m=0;f>0&&(c=r/f,d=l/f,y=c*i+d*u,p=i-c*y,h=u-d*y,m=Math.sqrt(p*p+h*h)||0,m>0?y=y/m:y=0);const k=f,x=0,M=y*m,$=m;try{e.style.transform="matrix(".concat(k,", ").concat(x,", ").concat(M,", ").concat($,", 0, 0)")}catch(v){}return{a:k,b:x,c:M,d:$}}}try{const a=String(o).trim();return e.style.transform=a+" translate(0px, 0px) rotate(0deg)",null}catch(a){return null}}function ws(t){var l;const e=t.boxShadow||"";if(!e||e==="none")return{top:0,right:0,bottom:0,left:0};const n=e.split(/\),(?=(?:[^()]*\([^()]*\))*[^()]*$)/).map(i=>i.trim());let o=0,s=0,a=0,r=0;for(const i of n){const u=((l=i.match(/-?\d+(\.\d+)?px/g))==null?void 0:l.map(m=>parseFloat(m)))||[];if(u.length<2)continue;const[f,c,d=0,y=0]=u,p=Math.abs(f)+d+y,h=Math.abs(c)+d+y;s=Math.max(s,p+Math.max(f,0)),r=Math.max(r,p+Math.max(-f,0)),a=Math.max(a,h+Math.max(c,0)),o=Math.max(o,h+Math.max(-c,0))}return{top:Math.ceil(o),right:Math.ceil(s),bottom:Math.ceil(a),left:Math.ceil(r)}}function vs(t){const e=(t.filter||"").match(/blur\(\s*([0-9.]+)px\s*\)/),n=e?Math.ceil(parseFloat(e[1])||0):0;return{top:n,right:n,bottom:n,left:n}}function xs(t){if((t.outlineStyle||"none")==="none")return{top:0,right:0,bottom:0,left:0};const e=Math.ceil(parseFloat(t.outlineWidth||"0")||0);return{top:e,right:e,bottom:e,left:e}}function Re(t,e,n,o,s){const a=n.a,r=n.b,l=n.c,i=n.d,u=n.e||0,f=n.f||0;function c(k,x){let M=k-o,$=x-s,v=a*M+l*$,E=r*M+i*$;return v+=o+u,E+=s+f,[v,E]}const d=[c(0,0),c(t,0),c(0,e),c(t,e)];let y=1/0,p=1/0,h=-1/0,m=-1/0;for(const[k,x]of d)k<y&&(y=k),x<p&&(p=x),k>h&&(h=k),x>m&&(m=x);return{minX:y,minY:p,maxX:h,maxY:m,width:h-y,height:m-p}}function Ss(t){return Cs(t)}function sn(t){const e=getComputedStyle(t).transform;if(!e||e==="none")return new DOMMatrix;try{return new DOMMatrix(e)}catch(n){return new WebKitCSSMatrix(e)}}function ks(t){var s,a,r,l,i,u,f,c;const e={rotate:"0deg",scale:null,translate:null},n=typeof t.computedStyleMap=="function"?t.computedStyleMap():null;if(n){const d=m=>{try{return typeof n.has=="function"&&!n.has(m)||typeof n.get!="function"?null:n.get(m)}catch(k){return null}},y=d("rotate");if(y)if(y.angle){const m=y.angle;e.rotate=m.unit==="rad"?m.value*180/Math.PI+"deg":m.value+m.unit}else y.unit?e.rotate=y.unit==="rad"?y.value*180/Math.PI+"deg":y.value+y.unit:e.rotate=String(y);else{const m=getComputedStyle(t);e.rotate=m.rotate&&m.rotate!=="none"?m.rotate:"0deg"}const p=d("scale");if(p){const m="x"in p&&((s=p.x)==null?void 0:s.value)!=null?p.x.value:Array.isArray(p)?(a=p[0])==null?void 0:a.value:Number(p)||1,k="y"in p&&((r=p.y)==null?void 0:r.value)!=null?p.y.value:Array.isArray(p)?(l=p[1])==null?void 0:l.value:m;e.scale="".concat(m," ").concat(k)}else{const m=getComputedStyle(t);e.scale=m.scale&&m.scale!=="none"?m.scale:null}const h=d("translate");if(h){const m="x"in h&&"value"in h.x?h.x.value:Array.isArray(h)?(i=h[0])==null?void 0:i.value:0,k="y"in h&&"value"in h.y?h.y.value:Array.isArray(h)?(u=h[1])==null?void 0:u.value:0,x="x"in h&&((f=h.x)!=null&&f.unit)?h.x.unit:"px",M="y"in h&&((c=h.y)!=null&&c.unit)?h.y.unit:"px";e.translate="".concat(m).concat(x," ").concat(k).concat(M)}else{const m=getComputedStyle(t);e.translate=m.translate&&m.translate!=="none"?m.translate:null}return e}const o=getComputedStyle(t);return e.rotate=o.rotate&&o.rotate!=="none"?o.rotate:"0deg",e.scale=o.scale&&o.scale!=="none"?o.scale:null,e.translate=o.translate&&o.translate!=="none"?o.translate:null,e}function Cs(t){const e=getComputedStyle(t),n=e.transform||"none";if(n!=="none"&&!/^matrix\(\s*1\s*,\s*0\s*,\s*0\s*,\s*1\s*,\s*0\s*,\s*0\s*\)$/i.test(n))return!0;const s=e.rotate&&e.rotate!=="none"&&e.rotate!=="0deg",a=e.scale&&e.scale!=="none"&&e.scale!=="1",r=e.translate&&e.translate!=="none"&&e.translate!=="0px 0px";return!!(s||a||r)}function Ms(t,e,n){const o=(t.transformOrigin||"0 0").trim().split(/\s+/),[s,a]=[o[0]||"0",o[1]||"0"],r=(l,i)=>{const u=l.toLowerCase();return u==="left"||u==="top"?0:u==="center"?i/2:u==="right"||u==="bottom"?i:u.endsWith("px")?parseFloat(u)||0:u.endsWith("%")?(parseFloat(u)||0)*i/100:/^-?\d+(\.\d+)?$/.test(u)&&parseFloat(u)||0};return{ox:r(s,e),oy:r(a,n)}}var Kt=null;function _s(){if(Kt)return Kt;const t=document.createElement("div");return t.id="snapdom-measure-slot",t.setAttribute("aria-hidden","true"),Object.assign(t.style,{position:"absolute",left:"-99999px",top:"0px",width:"0px",height:"0px",overflow:"hidden",opacity:"0",pointerEvents:"none",contain:"size layout style"}),document.documentElement.appendChild(t),Kt=t,t}function $s(t){const e=_s(),n=document.createElement("div");n.style.transformOrigin="0 0",t.baseTransform&&(n.style.transform=t.baseTransform),t.rotate&&(n.style.rotate=t.rotate),t.scale&&(n.style.scale=t.scale),t.translate&&(n.style.translate=t.translate),e.appendChild(n);const o=sn(n);return e.removeChild(n),o}function As(t){if(typeof t=="string"){const e=t.toLowerCase().trim();if(e==="disabled"||e==="full"||e==="auto"||e==="soft")return e}return"soft"}function Es(t={}){var o,s,a,r,l,i,u,f,c,d,y,p,h,m,k,x,M,$,v,E;const e=(o=t.format)!=null?o:"png",n=As(t.cache);return{debug:(s=t.debug)!=null?s:!1,fast:(a=t.fast)!=null?a:!0,scale:(r=t.scale)!=null?r:1,exclude:(l=t.exclude)!=null?l:[],excludeMode:(i=t.excludeMode)!=null?i:"hide",filter:(u=t.filter)!=null?u:null,filterMode:(f=t.filterMode)!=null?f:"hide",placeholders:t.placeholders!==!1,embedFonts:(c=t.embedFonts)!=null?c:!1,iconFonts:Array.isArray(t.iconFonts)?t.iconFonts:t.iconFonts?[t.iconFonts]:[],localFonts:Array.isArray(t.localFonts)?t.localFonts:[],excludeFonts:(d=t.excludeFonts)!=null?d:void 0,fallbackURL:(y=t.fallbackURL)!=null?y:void 0,cache:n,useProxy:typeof t.useProxy=="string"?t.useProxy:"",width:(p=t.width)!=null?p:null,height:(h=t.height)!=null?h:null,format:e,type:(m=t.type)!=null?m:"svg",quality:(k=t.quality)!=null?k:.92,dpr:(x=t.dpr)!=null?x:window.devicePixelRatio||1,backgroundColor:(M=t.backgroundColor)!=null?M:["jpg","jpeg","webp"].includes(e)?"#ffffff":null,filename:($=t.filename)!=null?$:"snapDOM",straighten:(v=t.straighten)!=null?v:!1,noShadows:(E=t.noShadows)!=null?E:!1}}function Fs(t){return typeof t=="string"&&/^data:image\/svg\+xml/i.test(t)}function Ps(t){const e=t.indexOf(",");return e>=0?decodeURIComponent(t.slice(e+1)):""}function Ls(t){return"data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(t))}function Ns(t){let e=[],n="",o=0;for(let s=0;s<t.length;s++){const a=t[s];a==="("&&o++,a===")"&&(o=Math.max(0,o-1)),a===";"&&o===0?(e.push(n),n=""):n+=a}return n.trim()&&e.push(n),e.map(s=>s.trim()).filter(Boolean)}function Rs(t){const e=[];let n="",o=0;for(let a=0;a<t.length;a++){const r=t[a];r==="("&&o++,r===")"&&(o=Math.max(0,o-1)),r===","&&o===0?(e.push(n.trim()),n=""):n+=r}n.trim()&&e.push(n.trim());const s=[];for(const a of e){if(/\binset\b/i.test(a))continue;const r=a.match(/-?\d+(?:\.\d+)?px/gi)||[],[l="0px",i="0px",u="0px"]=r;let f=a.replace(/-?\d+(?:\.\d+)?px/gi,"").replace(/\binset\b/ig,"").trim().replace(/\s{2,}/g," ");const c=!!f&&f!==",";s.push("drop-shadow(".concat(l," ").concat(i," ").concat(u).concat(c?" ".concat(f):"",")"))}return s.join(" ")}function an(t){const e=Ns(t);let n=null,o=null,s=null;const a=[];for(const l of e){const i=l.indexOf(":");if(i<0)continue;const u=l.slice(0,i).trim().toLowerCase(),f=l.slice(i+1).trim();u==="box-shadow"?s=f:u==="filter"?n=f:u==="-webkit-filter"?o=f:a.push([u,f])}if(s){const l=Rs(s);l&&(n=n?"".concat(n," ").concat(l):l,o=o?"".concat(o," ").concat(l):l)}const r=[...a];return n&&r.push(["filter",n]),o&&r.push(["-webkit-filter",o]),r.map(([l,i])=>"".concat(l,":").concat(i)).join(";")}function Is(t){return t.replace(/([^{}]+)\{([^}]*)\}/g,(e,n,o)=>"".concat(n,"{").concat(an(o),"}"))}function Ts(t){return t=t.replace(/<style[^>]*>([\s\S]*?)<\/style>/gi,(e,n)=>e.replace(n,Is(n))),t=t.replace(/style=(['"])([\s\S]*?)\1/gi,(e,n,o)=>"style=".concat(n).concat(an(o)).concat(n)),t}function Ws(t){if(!ht()||!Fs(t))return t;try{const e=Ps(t),n=Ts(e);return Ls(n)}catch(e){return t}}async function zt(t,e){let{width:n,height:o,scale:s=1,dpr:a=1,meta:r={}}=e;t=Ws(t);const l=new Image;l.loading="eager",l.decoding="sync",l.crossOrigin="anonymous",l.src=t,await l.decode();const i=l.naturalWidth,u=l.naturalHeight,f=Number.isFinite(r.w0)?r.w0:i,c=Number.isFinite(r.h0)?r.h0:u;let d,y;const p=Number.isFinite(n),h=Number.isFinite(o);if(p&&h)d=Math.max(1,n),y=Math.max(1,o);else if(p){const x=n/Math.max(1,f);d=n,y=Math.round(c*x)}else if(h){const x=o/Math.max(1,c);y=o,d=Math.round(f*x)}else d=i,y=u;d=Math.round(d*s),y=Math.round(y*s);const m=document.createElement("canvas");m.width=Math.ceil(d*a),m.height=Math.ceil(y*a),m.style.width="".concat(d,"px"),m.style.height="".concat(y,"px");const k=m.getContext("2d");return a!==1&&k.scale(a,a),k.drawImage(l,0,0,d,y),m}async function rn(t,e){const n=await zt(t,e),o=e.backgroundColor?le(n,e.backgroundColor):n,s=new Image;return s.src=o.toDataURL("image/".concat(e.format),e.quality),await s.decode(),s.style.width="".concat(o.width/e.dpr,"px"),s.style.height="".concat(o.height/e.dpr,"px"),s}async function Ie(t,e){const{scale:n=1,width:o,height:s,meta:a={}}=e,r=Number.isFinite(o),l=Number.isFinite(s),i=Number.isFinite(n)&&n!==1||r||l;if(ht()&&i)return await rn(t,{...e,format:"png",quality:1,meta:a});const u=new Image;if(u.decoding="sync",u.loading="eager",u.src=t,await u.decode(),r&&l)u.style.width="".concat(o,"px"),u.style.height="".concat(s,"px");else if(r){const f=Number.isFinite(a.w0)?a.w0:u.naturalWidth,c=Number.isFinite(a.h0)?a.h0:u.naturalHeight,d=o/Math.max(1,f);u.style.width="".concat(o,"px"),u.style.height="".concat(Math.round(c*d),"px")}else if(l){const f=Number.isFinite(a.w0)?a.w0:u.naturalWidth,c=Number.isFinite(a.h0)?a.h0:u.naturalHeight,d=s/Math.max(1,c);u.style.height="".concat(s,"px"),u.style.width="".concat(Math.round(f*d),"px")}else{const f=Math.round(u.naturalWidth*n),c=Math.round(u.naturalHeight*n);if(u.style.width="".concat(f,"px"),u.style.height="".concat(c,"px"),typeof t=="string"&&t.startsWith("data:image/svg+xml"))try{const y=decodeURIComponent(t.split(",")[1]).replace(/width="[^"]*"/,'width="'.concat(f,'"')).replace(/height="[^"]*"/,'height="'.concat(c,'"'));t="data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(y)),u.src=t}catch(d){}}return u}async function cn(t,e){const n=e.type;if(n==="svg"){const a=decodeURIComponent(t.split(",")[1]);return new Blob([a],{type:"image/svg+xml"})}const o=await zt(t,e),s=e.backgroundColor?le(o,e.backgroundColor):o;return new Promise(a=>s.toBlob(r=>a(r),"image/".concat(n),e.quality))}async function Bs(t,e){if(e.dpr=1,e.format==="svg"){const a=await cn(t,{...e,type:"svg"}),r=URL.createObjectURL(a),l=document.createElement("a");l.href=r,l.download=e.filename,l.click(),URL.revokeObjectURL(r);return}const n=await zt(t,e),o=e.backgroundColor?le(n,e.backgroundColor):n,s=document.createElement("a");s.href=o.toDataURL("image/".concat(e.format),e.quality),s.download=e.filename,s.click()}var ln=Symbol("snapdom.internal"),ae=!1;async function U(t,e){if(!t)throw new Error("Element cannot be null or undefined");const n=Es(e);if(ht()&&(n.embedFonts===!0||Os(t)))for(let o=0;o<3;o++)try{await Us(t,e),console.log("Iteración número:",o),ae=!1}catch(s){}return n.iconFonts&&n.iconFonts.length>0&&Ao(n.iconFonts),n.snap||(n.snap={toPng:(o,s)=>U.toPng(o,s),toSvg:(o,s)=>U.toSvg(o,s)}),U.capture(t,n,ln)}U.capture=async(t,e,n)=>{if(n!==ln)throw new Error("[snapdom.capture] is internal. Use snapdom(...) instead.");const o=await on(t,e),s=r=>({...e,...r||{}}),a=r=>l=>{const i=s({...l||{},format:r}),u=r==="jpeg"||r==="jpg",f=i.backgroundColor==null||i.backgroundColor==="transparent";return u&&f&&(i.backgroundColor="#ffffff"),rn(o,i)};return{url:o,toRaw:()=>o,toImg:r=>Ie(o,s(r)),toSvg:r=>Ie(o,s(r)),toCanvas:r=>zt(o,s(r)),toBlob:r=>cn(o,s(r)),toPng:a("png"),toJpg:a("jpeg"),toWebp:a("webp"),download:r=>Bs(o,s(r))}};U.toRaw=(t,e)=>U(t,e).then(n=>n.toRaw());U.toImg=(t,e)=>U(t,e).then(n=>n.toImg());U.toSvg=(t,e)=>U(t,e).then(n=>n.toSvg());U.toCanvas=(t,e)=>U(t,e).then(n=>n.toCanvas());U.toBlob=(t,e)=>U(t,e).then(n=>n.toBlob());U.toPng=(t,e)=>U(t,{...e,format:"png"}).then(n=>n.toPng());U.toJpg=(t,e)=>U(t,{...e,format:"jpeg"}).then(n=>n.toJpg());U.toWebp=(t,e)=>U(t,{...e,format:"webp"}).then(n=>n.toWebp());U.download=(t,e)=>U(t,e).then(n=>n.download());async function Us(t,e){if(ae)return;const n={...e,fast:!0,embedFonts:!0,scale:.2};let o;try{o=await on(t,n)}catch(s){return}await new Promise(s=>{const a=new Image;a.decoding="sync",a.loading="eager",a.style.position="fixed",a.style.left=0,a.style.top=0,a.style.width="10px",a.style.height="10px",a.style.opacity="0.01",a.style.transform="translateZ(10px)",a.style.willChange="transform,opacity;",a.src=o;const r=async()=>{await new Promise(l=>setTimeout(l,100)),a&&a.parentNode&&a.parentNode.removeChild(a),ae=!0,s()};document.body.appendChild(a),r()})}function Os(t){const e=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT);for(;e.nextNode();){const n=e.currentNode,o=getComputedStyle(n),s=o.backgroundImage&&o.backgroundImage!=="none",a=o.maskImage&&o.maskImage!=="none"||o.webkitMaskImage&&o.webkitMaskImage!=="none";if(s||a)return!0}return!1}const Ds={class:"flex flex-col gap-2"},Hs={class:"flex gap-2"},zs=["value"],Vs=20,qs=Mt({__name:"feedback-canvas",props:{modelValue:{required:!0,default:""},modelModifiers:{}},emits:["update:modelValue"],setup(t){const e=vn(t,"modelValue"),n=e.value,o=xn("canvasRef"),s=V(!1),a=V(),r=V([]),l=V(-1),i=V("#ff0000"),u=V(),f=V([10]),c=V("brush"),d=V(null);function y(){const b=o.value;if(!b||(a.value=b.getContext("2d"),!a.value))return;p();const g=new Image;g.onload=()=>{var W;const w=b.parentElement;if(!w)return;const A=w.clientWidth,P=g.width/g.height,L=A,R=A/P;b.style.width="".concat(L,"px"),b.style.height="".concat(R,"px"),b.width=g.width,b.height=g.height,(W=a.value)==null||W.drawImage(g,0,0),h(),H()},g.src=e.value}function p(){a.value&&(a.value.strokeStyle=i.value,a.value.lineWidth=f.value[0],a.value.lineCap="round",a.value.lineJoin="round")}function h(){const b=o.value;if(!b||!a.value)return;const g=a.value.getImageData(0,0,b.width,b.height);l.value<r.value.length-1&&(r.value=r.value.slice(0,l.value+1)),r.value.push(g),l.value++,r.value.length>Vs&&(r.value.shift(),l.value--)}function m(){l.value>0&&(l.value--,x())}function k(){l.value<r.value.length-1&&(l.value++,x())}function x(){if(!o.value||!a.value||l.value<0)return;const g=r.value[l.value];g&&(a.value.putImageData(g,0,0),H())}function M(b,g,w){const P=Math.atan2(w.y-g.y,w.x-g.x);b.beginPath(),b.moveTo(g.x,g.y),b.lineTo(w.x,w.y),b.stroke(),b.beginPath(),b.moveTo(w.x,w.y),b.lineTo(w.x-15*Math.cos(P-Math.PI/6),w.y-15*Math.sin(P-Math.PI/6)),b.moveTo(w.x,w.y),b.lineTo(w.x-15*Math.cos(P+Math.PI/6),w.y-15*Math.sin(P+Math.PI/6)),b.stroke()}function $(b){const g=o.value;if(!g)return{x:0,y:0};const w=g.getBoundingClientRect(),A=g.width/w.width,P=g.height/w.height,L=(b.clientX-w.left)*A,R=(b.clientY-w.top)*P;return{x:L,y:R}}function v(b){c.value=b}function E(b){s.value=!0;const g=$(b);d.value=g,a.value&&(p(),c.value==="brush"&&(a.value.beginPath(),a.value.moveTo(g.x,g.y)))}function T(b){if(!s.value||!a.value||!d.value)return;const g=$(b);if(c.value==="brush")a.value.lineTo(g.x,g.y),a.value.stroke();else if(x(),c.value==="line")a.value.beginPath(),a.value.moveTo(d.value.x,d.value.y),a.value.lineTo(g.x,g.y),a.value.stroke();else if(c.value==="rectangle"){const w=g.x-d.value.x,A=g.y-d.value.y;a.value.strokeRect(d.value.x,d.value.y,w,A)}else if(c.value==="circle"){const w=Math.sqrt((g.x-d.value.x)**2+(g.y-d.value.y)**2);a.value.beginPath(),a.value.arc(d.value.x,d.value.y,w,0,2*Math.PI),a.value.stroke()}else c.value==="arrow"&&M(a.value,d.value,g);H()}function F(){s.value&&d.value&&(s.value=!1,d.value=null,h())}function I(){const b=o.value;if(!b||!a.value)return;const g=new Image;g.onload=()=>{var w,A;(w=a.value)==null||w.clearRect(0,0,b.width,b.height),(A=a.value)==null||A.drawImage(g,0,0),p(),r.value=[],l.value=-1,h()},g.src=n,e.value=n}function O(){e.value=""}function H(){var b,g;e.value=(g=(b=o.value)==null?void 0:b.toDataURL("image/png"))!=null?g:""}function Q(b){i.value=b,p()}function B(){var b;(b=u.value)==null||b.click()}function st(b){const g=b.target;g.value&&Q(g.value)}Sn(f,()=>{p()});const G=be(()=>l.value>0),Z=be(()=>l.value<r.value.length-1);return kn(()=>{Cn(()=>{y()})}),(b,g)=>{const w=re,A=Dt,P=Wn,L=Tn,R=In;return Y(),tt("div",Ds,[z("div",Hs,[_(A,{variant:"outline",size:"icon",onClick:I},{default:N(()=>[_(w,{name:"i-lucide:eraser",class:"size-4"})]),_:1}),_(P,{class:"gap-0 space-x-[-1px]"},{default:N(()=>[_(A,{variant:"outline",size:"icon",disabled:!S(G),onClick:m},{default:N(()=>[_(w,{name:"i-lucide:undo",class:"size-4"})]),_:1},8,["disabled"]),_(A,{variant:"outline",size:"icon",disabled:!S(Z),onClick:k},{default:N(()=>[_(w,{name:"i-lucide:redo",class:"size-4"})]),_:1},8,["disabled"])]),_:1}),_(P,{class:"gap-0 space-x-[-1px]"},{default:N(()=>[_(A,{variant:"outline",size:"icon",onClick:B},{default:N(()=>[z("input",{ref_key:"colorInputRef",ref:u,type:"color",value:S(i),class:"pointer-events-none size-full bg-transparent p-2",onChange:st},null,40,zs)]),_:1}),_(R,{class:"min-w-40"},{panel:N(()=>[_(L,{modelValue:S(f),"onUpdate:modelValue":g[0]||(g[0]=W=>Wt(f)?f.value=W:null),min:2,max:18,step:4,tooltip:!1},null,8,["modelValue"])]),default:N(()=>[_(A,{variant:"outline",size:"icon"},{default:N(()=>[_(w,{name:"i-fluent:line-thickness-24-filled",class:"size-4"})]),_:1})]),_:1})]),_:1}),_(P,{class:"gap-0 space-x-[-1px]"},{default:N(()=>[_(A,{variant:S(c)==="brush"?"default":"outline",size:"icon",class:lt({"z-1":S(c)==="brush"}),onClick:g[1]||(g[1]=W=>v("brush"))},{default:N(()=>[_(w,{name:"i-streamline-ultimate:pen-draw-1-bold",class:"size-4"})]),_:1},8,["variant","class"]),_(A,{variant:S(c)==="line"?"default":"outline",size:"icon",class:lt({"z-1":S(c)==="line"}),onClick:g[2]||(g[2]=W=>v("line"))},{default:N(()=>[_(w,{name:"i-lucide:slash",class:"size-4"})]),_:1},8,["variant","class"]),_(A,{variant:S(c)==="rectangle"?"default":"outline",size:"icon",class:lt({"z-1":S(c)==="rectangle"}),onClick:g[3]||(g[3]=W=>v("rectangle"))},{default:N(()=>[_(w,{name:"i-lucide:square",class:"size-4"})]),_:1},8,["variant","class"]),_(A,{variant:S(c)==="circle"?"default":"outline",size:"icon",class:lt({"z-1":S(c)==="circle"}),onClick:g[4]||(g[4]=W=>v("circle"))},{default:N(()=>[_(w,{name:"i-lucide:circle",class:"size-4"})]),_:1},8,["variant","class"]),_(A,{variant:S(c)==="arrow"?"default":"outline",size:"icon",class:lt({"z-1":S(c)==="arrow"}),onClick:g[5]||(g[5]=W=>v("arrow"))},{default:N(()=>[_(w,{name:"i-lucide:arrow-right",class:"size-4"})]),_:1},8,["variant","class"])]),_:1}),_(A,{variant:"ghost",size:"icon",class:"ms-auto",onClick:O},{default:N(()=>[_(w,{name:"i-lucide:trash",class:"size-4"})]),_:1})]),z("canvas",{ref_key:"canvasRef",ref:o,class:"block w-full cursor-crosshair border rounded-lg",onMousedown:E,onMousemove:T,onMouseup:F,onMouseleave:F},null,544)])}}}),js={class:"flex flex-col gap-4 pb-2"},Xs={class:"text-sm text-muted-foreground"},Ys={key:0,class:"absolute inset-b-4 flex-col-center"},un=Mt({__name:"feedback",emits:["close"],setup(t,{expose:e,emit:n}){const o=n,{t:s}=ie(),a=V(""),r=V(!1);async function l(){if(r.value)return;r.value=!0;const f=await U(document.getElementById("app-content"));a.value=await f.toRaw(),r.value=!1}const u=Ue({validationSchema:Oe(De({description:At().min(1,s("rules.description"))})),initialValues:{description:""}}).handleSubmit(f=>{const c={...f};a.value&&(c.canvasBase64=a.value),console.log(c),o("close"),He.success("模拟提交成功")});return e({onSubmit:u}),(f,c)=>{const d=re,y=Rn,p=Dt;return Y(),tt("div",js,[S(a)?(Y(),ze(qs,{key:0,modelValue:S(a),"onUpdate:modelValue":c[0]||(c[0]=h=>Wt(a)?a.value=h:null)},null,8,["modelValue"])):(Y(),tt("div",{key:1,class:lt(["relative flex-col-center cursor-pointer gap-2 border-2 rounded-lg border-dashed p-12 transition-all",{"hover:border-muted-foreground":!S(r),"opacity-50":S(r)}]),onClick:l},[_(d,{name:"ri:screenshot-2-line",class:"size-20 text-muted-foreground opacity-50"}),z("div",Xs,nt(S(s)("tips")),1),S(r)?(Y(),tt("div",Ys,[_(d,{name:"i-line-md:loading-twotone-loop",class:"size-6 text-muted-foreground"})])):Bt("",!0)],2)),z("form",{onSubmit:c[1]||(c[1]=(...h)=>S(u)&&S(u)(...h))},[_(S(Et),{name:"description"},{default:N(({componentField:h,errors:m})=>[_(S(Ft),{class:"relative pb-6 space-y-0"},{default:N(()=>[_(S(Pt),null,{default:N(()=>[_(y,Lt(h,{class:["w-full",m.length&&"border-destructive"],placeholder:S(s)("description")}),null,16,["class","placeholder"])]),_:2},1024),_(Nt,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:N(()=>[_(S(Rt),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),_(p,{class:"w-full",onClick:S(u)},{default:N(()=>[Ve(nt(S(s)("submit")),1)]),_:1},8,["onClick"])],32)])}}});function Te(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"",resource:{"zh-cn":{tips:{t:0,b:{t:2,i:[{t:3}],s:"使用屏幕截图能帮助我们更准确地了解问题"}},description:{t:0,b:{t:2,i:[{t:3}],s:"请描述您的问题或建议"}},rules:{description:{t:0,b:{t:2,i:[{t:3}],s:"请描述您的问题或建议"}}},submit:{t:0,b:{t:2,i:[{t:3}],s:"提交"}}},"zh-tw":{tips:{t:0,b:{t:2,i:[{t:3}],s:"使用屏幕截圖能幫助我們更準確地了解問題"}},description:{t:0,b:{t:2,i:[{t:3}],s:"請描述您的问题或建议"}},rules:{description:{t:0,b:{t:2,i:[{t:3}],s:"請描述您的问题或建议"}}},submit:{t:0,b:{t:2,i:[{t:3}],s:"提交"}}},en:{tips:{t:0,b:{t:2,i:[{t:3}],s:"Using screenshots can help us understand the problem more accurately"}},description:{t:0,b:{t:2,i:[{t:3}],s:"Please describe your problem or suggestion"}},rules:{description:{t:0,b:{t:2,i:[{t:3}],s:"Please describe your problem or suggestion"}}},submit:{t:0,b:{t:2,i:[{t:3}],s:"Submit"}}}}})}typeof Te=="function"&&Te(un);const Gs={class:"w-full flex-col-stretch-center"},Ks={class:"text-4xl color-[var(--el-text-color-primary)] font-bold"},Js={class:"text-sm text-muted-foreground lg:text-base"},fn=Mt({name:"EditPasswordForm",__name:"EditPasswordForm",setup(t){const{t:e}=ie(),n=qe(),o=V(!1),a=Ue({validationSchema:Oe(De({password:At().min(1,e("rules.password")),newPassword:At().min(1,e("rules.newPassword")).min(6,e("rules.passwordLength")).max(18,e("rules.passwordLength")),checkPassword:At().min(1,e("rules.checkPassword"))}).refine(r=>r.newPassword===r.checkPassword,{message:e("rules.checkPasswordError"),path:["checkPassword"]})),initialValues:{password:"",newPassword:"",checkPassword:""}}).handleSubmit(r=>{o.value=!0,n.editPassword(r).then(async()=>{He.success("模拟修改成功，请重新登录"),n.logout()}).finally(()=>{o.value=!1})});return(r,l)=>{const i=Mn,u=_n,f=Dt;return Y(),tt("div",Gs,[_(i,{delay:.2,duration:.4,class:"mb-6 space-y-2"},{default:N(()=>[z("h3",Ks,nt(S(e)("intro")),1),z("p",Js,nt(S(e)("subIntro")),1)]),_:1}),z("form",{onSubmit:l[0]||(l[0]=(...c)=>S(a)&&S(a)(...c))},[_(S(Et),{name:"password"},{default:N(({componentField:c,errors:d})=>[_(S(Ft),{class:"relative pb-6 space-y-0"},{default:N(()=>[_(S(Pt),null,{default:N(()=>[_(u,Lt({type:"password",placeholder:S(e)("form.password"),class:["w-full",d.length&&"border-destructive"]},c),null,16,["placeholder","class"])]),_:2},1024),_(Nt,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:N(()=>[_(S(Rt),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),_(S(Et),{name:"newPassword"},{default:N(({componentField:c,errors:d})=>[_(S(Ft),{class:"relative pb-6 space-y-0"},{default:N(()=>[_(S(Pt),null,{default:N(()=>[_(u,Lt({type:"password",placeholder:S(e)("form.newPassword"),class:["w-full",d.length&&"border-destructive"]},c),null,16,["placeholder","class"])]),_:2},1024),_(Nt,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:N(()=>[_(S(Rt),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),_(S(Et),{name:"checkPassword"},{default:N(({componentField:c,errors:d})=>[_(S(Ft),{class:"relative pb-6 space-y-0"},{default:N(()=>[_(S(Pt),null,{default:N(()=>[_(u,Lt({type:"password",placeholder:S(e)("form.checkPassword"),class:["w-full",d.length&&"border-destructive"]},c),null,16,["placeholder","class"])]),_:2},1024),_(Nt,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:N(()=>[_(S(Rt),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),_(f,{loading:S(o),size:"lg",class:"mt-8 w-full",type:"submit"},{default:N(()=>[Ve(nt(S(e)("form.save")),1)]),_:1},8,["loading"])],32)])}}});function We(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"",resource:{"zh-cn":{intro:{t:0,b:{t:2,i:[{t:3}],s:"修改密码"}},subIntro:{t:0,b:{t:2,i:[{t:3}],s:"请输入原密码、新密码和确认密码"}},form:{password:{t:0,b:{t:2,i:[{t:3}],s:"原密码"}},newPassword:{t:0,b:{t:2,i:[{t:3}],s:"新密码"}},checkPassword:{t:0,b:{t:2,i:[{t:3}],s:"确认密码"}},save:{t:0,b:{t:2,i:[{t:3}],s:"保存"}}},rules:{password:{t:0,b:{t:2,i:[{t:3}],s:"请输入原密码"}},newPassword:{t:0,b:{t:2,i:[{t:3}],s:"请输入新密码"}},passwordLength:{t:0,b:{t:2,i:[{t:3}],s:"密码长度为6到18位"}},checkPassword:{t:0,b:{t:2,i:[{t:3}],s:"请确认新密码"}},checkPasswordError:{t:0,b:{t:2,i:[{t:3}],s:"两次输入的密码不一致"}}}},"zh-tw":{intro:{t:0,b:{t:2,i:[{t:3}],s:"修改密碼"}},subIntro:{t:0,b:{t:2,i:[{t:3}],s:"請輸入原密碼、新密碼和確認密碼"}},form:{password:{t:0,b:{t:2,i:[{t:3}],s:"原密碼"}},newPassword:{t:0,b:{t:2,i:[{t:3}],s:"新密碼"}},checkPassword:{t:0,b:{t:2,i:[{t:3}],s:"確認新密碼"}},save:{t:0,b:{t:2,i:[{t:3}],s:"保存"}}},rules:{password:{t:0,b:{t:2,i:[{t:3}],s:"請輸入原密碼"}},newPassword:{t:0,b:{t:2,i:[{t:3}],s:"請輸入新密碼"}},passwordLength:{t:0,b:{t:2,i:[{t:3}],s:"密碼長度為6到18位"}},checkPassword:{t:0,b:{t:2,i:[{t:3}],s:"請確認新密碼"}},checkPasswordError:{t:0,b:{t:2,i:[{t:3}],s:"兩次輸入的密碼不一致"}}}},en:{intro:{t:0,b:{t:2,i:[{t:3}],s:"Modify Password"}},subIntro:{t:0,b:{t:2,i:[{t:3}],s:"Please enter the original password, new password and confirm password"}},form:{password:{t:0,b:{t:2,i:[{t:3}],s:"Original Password"}},newPassword:{t:0,b:{t:2,i:[{t:3}],s:"New Password"}},checkPassword:{t:0,b:{t:2,i:[{t:3}],s:"Confirm New Password"}},save:{t:0,b:{t:2,i:[{t:3}],s:"Save"}}},rules:{password:{t:0,b:{t:2,i:[{t:3}],s:"Please enter the original password"}},newPassword:{t:0,b:{t:2,i:[{t:3}],s:"Please enter the new password"}},passwordLength:{t:0,b:{t:2,i:[{t:3}],s:"Password length is 6 to 18 characters"}},checkPassword:{t:0,b:{t:2,i:[{t:3}],s:"Please confirm the new password"}},checkPasswordError:{t:0,b:{t:2,i:[{t:3}],s:"The two passwords do not match"}}}}}})}typeof We=="function"&&We(fn);const Qs={class:"min-h-full w-full"},Zs={class:"fixed right-0 top-0 z-1 flex flex-row overflow-auto border-b border-e bg-background md:inset-s-0 md:bottom-0 md:h-full md:w-40 md:flex-col"},ta=["onClick"],ea={class:"text-base text-accent-foreground leading-tight"},na={class:"text-xs text-accent-foreground/50"},oa={class:"min-h-full flex-col-center p-10 pt-20 md:ms-40 md:pt-10"},sa={key:0},aa=Mt({__name:"profile",setup(t){const e=V(0),n=V([{title:"基本设置",description:"账号的基本信息，头像、昵称等"},{title:"安全设置",description:"定期修改密码可以提高帐号安全性"}]);return(o,s)=>(Y(),tt("div",Qs,[z("div",Zs,[(Y(!0),tt(je,null,$n(S(n),(a,r)=>(Y(),tt("div",{key:r,class:lt(["flex-shrink-0 cursor-pointer px-4 py-3 transition-background-color space-y-2 hover-bg-accent/50",{"bg-accent hover-bg-accent!":S(e)===r}]),onClick:l=>e.value=r},[z("div",ea,nt(a.title),1),z("div",na,nt(a.description),1)],10,ta))),128))]),z("div",oa,[S(e)===0?(Y(),tt("div",sa," 请开发者自行扩展 ")):Bt("",!0),S(e)===1?(Y(),ze(fn,{key:1})):Bt("",!0)])]))}}),ra={class:"space-y-2"},ia={class:"text-xs text-secondary-foreground/50 font-light"},ca={class:"flex-center-start gap-2"},la={class:"space-y-1"},ua={class:"text-base lh-none"},fa={key:0,class:"min-w-0 flex-center-between flex-1 gap-2"},da={class:"flex-1 truncate text-start"},ha=Mt({__name:"index",props:{onlyAvatar:{type:Boolean},dropdownAlign:{default:"end"},dropdownSide:{default:"right"},buttonVariant:{default:"ghost"},class:{}},setup(t){const e=t,n=An(),o=En(),s=qe(),{t:a}=ie(),{generateI18nTitle:r}=Fn(),l=V(!1),i=V(!1);return(u,f)=>{const c=Nn,d=re,y=Dt,p=Pn,h=Ln;return Y(),tt(je,null,[_(p,{align:t.dropdownAlign,side:t.dropdownSide,items:[[{label:S(r)(S(o).settings.home.title),icon:"i-mdi:home",handle:()=>S(n).push({path:S(o).settings.home.fullPath}),hide:!S(o).settings.home.enable},{label:S(a)("profile"),icon:"i-mdi:account",handle:()=>l.value=!0},{label:S(a)("preferences"),icon:"i-mdi:cog",handle:()=>S(we).emit("global-preferences-toggle"),hide:!S(o).settings.userPreferences.enable},{label:S(a)("feedback"),icon:"i-mdi:comment-processing",handle:()=>i.value=!0,hide:!S(o).settings.app.enableFeedback}],[{label:S(a)("hotkeys"),icon:"i-mdi:keyboard",handle:()=>S(we).emit("global-hotkeys-intro-toggle"),hide:S(o).mode!=="pc"}],[{label:S(a)("logout"),icon:"i-mdi:logout",handle:()=>S(s).logout(S(o).settings.home.fullPath)}]],class:"flex-center"},{header:N(()=>[z("div",ra,[z("div",ia,nt(S(a)("current_account")),1),z("div",ca,[_(c,{src:S(s).avatar,fallback:S(s).account.slice(0,2),shape:"square"},null,8,["src","fallback"]),z("div",la,[z("div",ua,nt(S(s).account),1),f[3]||(f[3]=z("div",{class:"text-xs text-secondary-foreground/50 font-normal"}," [ 这里可以显示邮箱 ] ",-1))])])])]),default:N(()=>[_(y,{variant:t.buttonVariant,class:lt(S(ve)("flex-center gap-1 p-2",{"size-8 p-1":t.onlyAvatar},e.class))},{default:N(()=>[_(c,{src:S(s).avatar,class:lt(S(ve)("size-6",{"size-full":t.onlyAvatar}))},{default:N(()=>[_(d,{name:"i-carbon:user-avatar-filled",class:"size-6 text-secondary-foreground/50"})]),_:1},8,["src","class"]),t.onlyAvatar?Bt("",!0):(Y(),tt("div",fa,[z("div",da,nt(S(s).account),1),_(d,{name:"i-material-symbols:expand-all-rounded"})]))]),_:1},8,["variant","class"])]),_:1},8,["align","side","items"]),_(h,{modelValue:S(l),"onUpdate:modelValue":f[0]||(f[0]=m=>Wt(l)?l.value=m:null),"align-center":"",header:!1,footer:!1,"close-on-click-overlay":!1,"close-on-press-escape":!1,class:"h-500px max-w-xl overflow-hidden","content-class":"min-h-full p-0 flex"},{default:N(()=>[_(aa)]),_:1},8,["modelValue"]),_(h,{modelValue:S(i),"onUpdate:modelValue":f[2]||(f[2]=m=>Wt(i)?i.value=m:null),title:S(a)("feedback"),footer:!1,class:"max-w-[800px]"},{default:N(()=>[_(un,{onClose:f[1]||(f[1]=m=>i.value=!1)})]),_:1},8,["modelValue","title"])],64)}}});function Be(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"",resource:{"zh-cn":{profile:{t:0,b:{t:2,i:[{t:3}],s:"个人设置"}},preferences:{t:0,b:{t:2,i:[{t:3}],s:"偏好设置"}},hotkeys:{t:0,b:{t:2,i:[{t:3}],s:"快捷键介绍"}},feedback:{t:0,b:{t:2,i:[{t:3}],s:"反馈"}},logout:{t:0,b:{t:2,i:[{t:3}],s:"退出登录"}},current_account:{t:0,b:{t:2,i:[{t:3}],s:"当前登录账号"}}},"zh-tw":{profile:{t:0,b:{t:2,i:[{t:3}],s:"個人設置"}},preferences:{t:0,b:{t:2,i:[{t:3}],s:"偏好設置"}},hotkeys:{t:0,b:{t:2,i:[{t:3}],s:"快捷鍵介紹"}},feedback:{t:0,b:{t:2,i:[{t:3}],s:"反饋"}},logout:{t:0,b:{t:2,i:[{t:3}],s:"退出登錄"}},current_account:{t:0,b:{t:2,i:[{t:3}],s:"當前登錄帳號"}}},en:{profile:{t:0,b:{t:2,i:[{t:3}],s:"Personal Settings"}},preferences:{t:0,b:{t:2,i:[{t:3}],s:"Preferences"}},hotkeys:{t:0,b:{t:2,i:[{t:3}],s:"Hotkeys Introduction"}},feedback:{t:0,b:{t:2,i:[{t:3}],s:"Feedback"}},logout:{t:0,b:{t:2,i:[{t:3}],s:"Logout"}},current_account:{t:0,b:{t:2,i:[{t:3}],s:"Current Login Account"}}}}})}typeof Be=="function"&&Be(ha);export{ha as _};
