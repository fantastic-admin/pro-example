
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{bD as k,by as R,d as h,bx as S,bw as P,x as V,l as f,o as i,w as p,M as y,b as C,e,S as _,aG as N,at as j,Y as K,bT as L,bz as M,g as q,bL as z,aR as D,bA as O,bB as T,B as I,ap as H,aq as U,v as Y,c as J,A as Q,f as W}from"./index-H6QnEWHf.js";import{i as g,C as X}from"./check-yGBTZ6zh.js";import{u as Z}from"./useFormControl-Su_HZn2q.js";import{V as G}from"./VisuallyHiddenInput-CUkjjV_e.js";function x(s,r){return k(s)?!1:Array.isArray(s)?s.some(a=>g(a,r)):g(s,r)}const[ee,pe]=R("CheckboxGroupRoot");function b(s){return s==="indeterminate"}function $(s){return b(s)?"indeterminate":s?"checked":"unchecked"}const[ae,te]=R("CheckboxRoot");var le=h({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String],required:!1},modelValue:{type:[Boolean,String,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},value:{type:null,required:!1,default:"on"},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(s,{emit:r}){const a=s,o=r,{forwardRef:n,currentElement:d}=S(),l=ee(null),u=P(a,"modelValue",o,{defaultValue:a.defaultValue,passive:a.modelValue===void 0}),m=V(()=>(l==null?void 0:l.disabled.value)||a.disabled),c=V(()=>k(l==null?void 0:l.modelValue.value)?u.value==="indeterminate"?"indeterminate":u.value:x(l.modelValue.value,a.value));function E(){if(k(l==null?void 0:l.modelValue.value))u.value=b(u.value)?!0:!u.value;else{const t=[...l.modelValue.value||[]];if(x(t,a.value)){const B=t.findIndex(v=>g(v,a.value));t.splice(B,1)}else t.push(a.value);l.modelValue.value=t}}const F=Z(d),A=V(()=>{var t;return a.id&&d.value?(t=document.querySelector('[for="'.concat(a.id,'"]')))==null?void 0:t.innerText:void 0});return te({disabled:m,state:c}),(t,B)=>{var v,w;return i(),f(K((v=e(l))!=null&&v.rovingFocus.value?e(L):e(M)),_(t.$attrs,{id:t.id,ref:e(n),role:"checkbox","as-child":t.asChild,as:t.as,type:t.as==="button"?"button":void 0,"aria-checked":e(b)(c.value)?"mixed":c.value,"aria-required":t.required,"aria-label":t.$attrs["aria-label"]||A.value,"data-state":e($)(c.value),"data-disabled":m.value?"":void 0,disabled:m.value,focusable:(w=e(l))!=null&&w.rovingFocus.value?!m.value:void 0,onKeydown:N(j(()=>{},["prevent"]),["enter"]),onClick:E}),{default:p(()=>[y(t.$slots,"default",{modelValue:e(u),state:c.value}),e(F)&&t.name&&!e(l)?(i(),f(e(G),{key:0,type:"checkbox",checked:!!c.value,name:t.name,value:t.value,disabled:m.value,required:t.required},null,8,["checked","name","value","disabled","required"])):C("v-if",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"])}}}),se=le,oe=h({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(s){const{forwardRef:r}=S(),a=ae();return(o,n)=>(i(),f(e(z),{present:o.forceMount||e(b)(e(a).state.value)||e(a).state.value===!0},{default:p(()=>[q(e(M),_({ref:e(r),"data-state":e($)(e(a).state.value),"data-disabled":e(a).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":o.asChild,as:o.as},o.$attrs),{default:p(()=>[y(o.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),re=oe;const de=D("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),ue=h({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(s,{emit:r}){const a=s,o=r,n=O(a,"class"),d=T(n,o);return(l,u)=>(i(),f(e(se),_(e(d),{class:e(I)("peer h-4 w-4 shrink-0 rounded-sm border border-primary bg-transparent ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=indeterminate]:bg-primary data-[state=indeterminate]:text-primary-foreground",a.class)}),{default:p(()=>[q(e(re),{class:"h-full w-full flex items-center justify-center text-current"},{default:p(()=>[y(l.$slots,"default",{},()=>[a.modelValue==="indeterminate"?(i(),f(e(de),{key:0,class:"h-4 w-4"})):C("",!0),a.modelValue===!0?(i(),f(e(X),{key:1,class:"h-4 w-4"})):C("",!0)])]),_:3})]),_:3},16,["class"]))}}),ie=["for"],ve=h({name:"FaCheckbox",__name:"index",props:H({disabled:{type:Boolean},class:{}},{modelValue:{type:[Boolean,String,null]},modelModifiers:{}}),emits:["update:modelValue"],setup(s){const r=s,a=U(s,"modelValue"),o=Y();return(n,d)=>(i(),J("div",{class:Q(e(I)("flex-center-start gap-2",r.class))},[q(e(ue),{id:e(o),modelValue:a.value,"onUpdate:modelValue":d[0]||(d[0]=l=>a.value=l),disabled:s.disabled},null,8,["id","modelValue","disabled"]),W("label",{for:e(o),class:"cursor-pointer text-sm empty:hidden"},[y(n.$slots,"default")],8,ie)],2))}});export{ve as _};
