
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{d as m,ar as T,ax as M,aS as A,g as k,at as G,a1 as N,N as f,o as n,m as i,r as _,a as e,bD as V,aD as O,B as q,bE as K,D as C,E as x,bF as U,bG as W,bH as j,bI as H,bJ as J,bK as X,M as F,Z as Y,c as B,k as h,bL as Z,aJ as Q,R as w,ao as E,aL as S,b as D,av as ee,an as te,L as ae,O as $,S as I,G as oe,P as ne,p as se}from"./index-Bnionyve.js";const[z,re]=G("ContextMenuRoot");var le=m({inheritAttrs:!1,__name:"ContextMenuRoot",props:{pressOpenDelay:{type:Number,required:!1,default:700},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(t,{emit:o}){const a=t,s=o,{dir:r,modal:d,pressOpenDelay:p}=T(a);M();const l=A(r),u=k(!1),y=k();return re({open:u,onOpenChange:v=>{u.value=v},dir:l,modal:d,triggerElement:y,pressOpenDelay:p}),N(u,v=>{s("update:open",v)}),(v,b)=>(n(),f(e(V),{open:u.value,"onUpdate:open":b[0]||(b[0]=g=>u.value=g),dir:e(l),modal:e(d)},{default:i(()=>[_(v.$slots,"default")]),_:3},8,["open","dir","modal"]))}}),ue=le,ie=m({__name:"ContextMenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},sideFlip:{type:Boolean,required:!1},alignOffset:{type:Number,required:!1,default:0},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1,default:!0},collisionBoundary:{type:null,required:!1,default:()=>[]},collisionPadding:{type:[Number,Object],required:!1,default:0},sticky:{type:String,required:!1,default:"partial"},hideWhenDetached:{type:Boolean,required:!1,default:!1},positionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(t,{emit:o}){const r=O(t,o);M();const d=z(),p=k(!1);return(l,u)=>(n(),f(e(K),q(e(r),{side:"right","side-offset":2,align:"start","update-position-strategy":"always",style:{"--reka-context-menu-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-context-menu-content-available-width":"var(--reka-popper-available-width)","--reka-context-menu-content-available-height":"var(--reka-popper-available-height)","--reka-context-menu-trigger-width":"var(--reka-popper-anchor-width)","--reka-context-menu-trigger-height":"var(--reka-popper-anchor-height)"},onCloseAutoFocus:u[0]||(u[0]=y=>{!y.defaultPrevented&&p.value&&y.preventDefault(),p.value=!1}),onInteractOutside:u[1]||(u[1]=y=>{y.detail.originalEvent.button===2&&y.target===e(d).triggerElement.value&&y.preventDefault(),!y.defaultPrevented&&!e(d).modal.value&&(p.value=!0)})}),{default:i(()=>[_(l.$slots,"default")]),_:3},16))}}),de=ie,pe=m({__name:"ContextMenuGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const o=t;return M(),(a,s)=>(n(),f(e(U),C(x(o)),{default:i(()=>[_(a.$slots,"default")]),_:3},16))}}),ce=pe,fe=m({__name:"ContextMenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(t,{emit:o}){const a=t,r=W(o);return M(),(d,p)=>(n(),f(e(j),C(x({...a,...e(r)})),{default:i(()=>[_(d.$slots,"default")]),_:3},16))}}),_e=fe,me=m({__name:"ContextMenuLabel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const o=t;return M(),(a,s)=>(n(),f(e(H),C(x(o)),{default:i(()=>[_(a.$slots,"default")]),_:3},16))}}),ye=me,ve=m({__name:"ContextMenuPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){const o=t;return(a,s)=>(n(),f(e(J),C(x(o)),{default:i(()=>[_(a.$slots,"default")]),_:3},16))}}),ge=ve,he=m({__name:"ContextMenuSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const o=t;return M(),(a,s)=>(n(),f(e(X),C(x(o)),{default:i(()=>[_(a.$slots,"default")]),_:3},16))}}),Ce=he;function L(t){return t.pointerType!=="mouse"}var xe=m({inheritAttrs:!1,__name:"ContextMenuTrigger",props:{disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const o=t,{disabled:a}=T(o),{forwardRef:s,currentElement:r}=M(),d=z(),p=k({x:0,y:0}),l=F(()=>({getBoundingClientRect:()=>({width:0,height:0,left:p.value.x,right:p.value.x,top:p.value.y,bottom:p.value.y,...p.value})})),u=k(0);function y(){window.clearTimeout(u.value)}function v(c){p.value={x:c.clientX,y:c.clientY},d.onOpenChange(!0)}async function b(c){a.value||(await E(),c.defaultPrevented||(y(),v(c),c.preventDefault()))}async function g(c){a.value||(await E(),L(c)&&!c.defaultPrevented&&(y(),u.value=window.setTimeout(()=>v(c),d.pressOpenDelay.value)))}async function P(c){a.value||(await E(),L(c)&&!c.defaultPrevented&&y())}return Y(()=>{r.value&&(d.triggerElement.value=r.value)}),(c,Oe)=>(n(),B(w,null,[h(e(Z),{as:"template",reference:l.value},null,8,["reference"]),h(e(Q),q({ref:e(s),as:c.as,"as-child":c.asChild,"data-state":e(d).open.value?"open":"closed","data-disabled":e(a)?"":void 0,style:{WebkitTouchCallout:"none",pointerEvents:"auto"}},c.$attrs,{onContextmenu:b,onPointerdown:g,onPointermove:P,onPointercancel:P,onPointerup:P}),{default:i(()=>[_(c.$slots,"default")]),_:3},16,["as","as-child","data-state","data-disabled"])],64))}}),be=xe;const Me=m({__name:"ContextMenu",props:{pressOpenDelay:{},dir:{},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:o}){const r=O(t,o);return(d,p)=>(n(),f(e(ue),C(x(e(r))),{default:i(()=>[_(d.$slots,"default")]),_:3},16))}}),Be=m({__name:"ContextMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},sideFlip:{type:Boolean},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(t,{emit:o}){const a=t,s=o,r=S(a,"class"),d=O(r,s);return(p,l)=>(n(),f(e(ge),null,{default:i(()=>[h(e(de),q(e(d),{class:e(D)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a.class)}),{default:i(()=>[_(p.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),qe=m({__name:"ContextMenuGroup",props:{asChild:{type:Boolean},as:{}},setup(t){const o=t;return(a,s)=>(n(),f(e(ce),C(x(o)),{default:i(()=>[_(a.$slots,"default")]),_:3},16))}}),Pe=m({__name:"ContextMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},emits:["select"],setup(t,{emit:o}){const a=t,s=o,r=S(a,"class"),d=O(r,s);return(p,l)=>(n(),f(e(_e),q(e(d),{class:e(D)("relative flex cursor-default select-none items-center rounded-sm gap-2 px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t.inset&&"pl-8",a.class)}),{default:i(()=>[_(p.$slots,"default")]),_:3},16,["class"]))}}),we=m({__name:"ContextMenuLabel",props:{asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(t){const o=t,a=S(o,"class");return(s,r)=>(n(),f(e(ye),q(e(a),{class:e(D)("px-2 py-1.5 text-sm font-semibold text-foreground",t.inset&&"pl-8",o.class)}),{default:i(()=>[_(s.$slots,"default")]),_:3},16,["class"]))}}),R=m({__name:"ContextMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const o=t,a=S(o,"class");return(s,r)=>(n(),f(e(Ce),q(e(a),{class:e(D)("-mx-1 my-1 h-px bg-border",o.class)}),null,16,["class"]))}}),ke=m({__name:"ContextMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const a=ee(t);return(s,r)=>(n(),f(e(be),C(x(e(a))),{default:i(()=>[_(s.$slots,"default")]),_:3},16))}}),$e={key:0,class:"size-4 flex-center"},De=m({name:"FaContextMenu",__name:"index",props:{items:{}},setup(t){const o=t,a=te(),s=ae(),r=F(()=>o.items.map(l=>l.filter(u=>!u.hide)).filter(l=>l.length)),d=F(()=>r.value.some(l=>l.some(u=>u.icon)));function p(l){var u;(u=l.handle)==null||u.call(l)}return(l,u)=>{const y=ne;return n(),f(e(Me),{modal:!1,dir:e(s).settings.app.direction},{default:i(()=>[h(e(ke),{"as-child":""},{default:i(()=>[_(l.$slots,"default")]),_:3}),h(e(Be),{class:"z-2050"},{default:i(()=>[a.label?(n(),B(w,{key:0},[h(e(we),null,{default:i(()=>[_(l.$slots,"label")]),_:3}),h(e(R))],64)):$("",!0),(n(!0),B(w,null,I(e(r),(v,b)=>(n(),B(w,{key:b},[h(e(qe),null,{default:i(()=>[(n(!0),B(w,null,I(v,(g,P)=>(n(),f(e(Pe),{key:P,disabled:g.disabled,class:"cursor-pointer",onClick:c=>p(g)},{default:i(()=>[e(d)?(n(),B("div",$e,[g.icon?(n(),f(y,{key:0,name:g.icon,class:"size-4"},null,8,["name"])):$("",!0)])):$("",!0),oe(" "+se(g.label),1)]),_:2},1032,["disabled","onClick"]))),128))]),_:2},1024),b!==e(r).length-1?(n(),f(e(R),{key:0})):$("",!0)],64))),128))]),_:3})]),_:3},8,["dir"])}}});export{De as _};
