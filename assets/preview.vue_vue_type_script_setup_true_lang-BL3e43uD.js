
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{_ as W}from"./index-ClELmDgR.js";import{d as _,bJ as S,bK as Z,bx as L,l as v,o as c,w as s,M as h,e,bz as G,b as R,g as t,S as w,bL as H,bB as I,bM as J,aD as Q,aE as ee,bA as C,bN as ae,bO as te,B,bP as se,f as z,bQ as oe,bI as V,bR as ne,bS as le,ap as ie,aq as re,n as b,x as ue,N as de,a7 as ce,ae as pe,aT as fe,c as me,at as _e,a4 as ve,A as ge,F as be,t as A,m as he,_ as ye}from"./index-H6QnEWHf.js";var xe=_({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(i){const o=S();return Z(!0),L(),(n,a)=>(c(),v(e(G),{as:n.as,"as-child":n.asChild,"data-state":e(o).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:s(()=>[h(n.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),ze=xe,we=_({__name:"DialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(i){const o=S(),{forwardRef:n}=L();return(a,l)=>{var u;return(u=e(o))!=null&&u.modal.value?(c(),v(e(H),{key:0,present:a.forceMount||e(o).open.value},{default:s(()=>[t(ze,w(a.$attrs,{ref:e(n),as:a.as,"as-child":a.asChild}),{default:s(()=>[h(a.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):R("v-if",!0)}}}),De=we;const Ce=_({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(i,{emit:o}){const l=I(i,o);return(u,x)=>(c(),v(e(J),Q(ee(e(l))),{default:s(()=>[h(u.$slots,"default")]),_:3},16))}}),Be=_({__name:"DialogContent",props:{forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus","animationEnd"],setup(i,{emit:o}){const n=i,a=o,l=C(n,"class"),u=I(l,a);return(x,r)=>(c(),v(e(ae),null,{default:s(()=>[t(e(De),{class:"fixed inset-0 z-2000 bg-black/80 data-[state=closed]:animate-out data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0"}),t(e(te),w(e(u),{class:e(B)("fixed z-2000 inset-0 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95",n.class),onAnimationend:r[0]||(r[0]=p=>a("animationEnd"))}),{default:s(()=>[h(x.$slots,"default"),t(e(se),{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ring"},{default:s(()=>[t(e(oe),{class:"h-8 w-8"}),r[1]||(r[1]=z("span",{class:"sr-only"},"Close",-1))]),_:1})]),_:3},16,["class"])]),_:3}))}}),$e=_({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(i){const o=i,n=C(o,"class"),a=V(n);return(l,u)=>(c(),v(e(ne),w(e(a),{class:e(B)("text-sm text-muted-foreground",o.class)}),{default:s(()=>[h(l.$slots,"default")]),_:3},16,["class"]))}}),Me=_({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(i){const o=i,n=C(o,"class"),a=V(n);return(l,u)=>(c(),v(e(le),w(e(a),{class:e(B)("text-lg font-semibold leading-none tracking-tight",o.class)}),{default:s(()=>[h(l.$slots,"default")]),_:3},16,["class"]))}}),ke=["src"],Oe={class:"absolute bottom-20 left-1/2 text-sm text-muted-foreground -translate-x-1/2"},Fe=_({__name:"preview",props:ie({src:{},index:{}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(i){var E;const o=i,n=re(i,"modelValue"),a=b((E=o.index)!=null?E:0),l=ue(()=>Array.isArray(o.src)?o.src:[o.src]);function u(){a.value=a.value-1,a.value<0&&(a.value=l.value.length-1)}function x(){a.value=a.value+1,a.value>=l.value.length&&(a.value=0)}de(a,P);const r=b(1),p=b(0),g=b({x:0,y:0}),y=b(!1),D=b({x:0,y:0});function $(){r.value=Math.min(r.value+.25,3)}function M(){r.value=Math.max(r.value-.25,.5)}function q(){r.value=1}function N(){p.value=p.value-90}function T(){p.value=p.value+90}function U(d){d.preventDefault(),d.deltaY<0?$():M()}function X(d){y.value=!0,D.value={x:d.clientX-g.value.x,y:d.clientY-g.value.y}}function k(d){y.value&&(g.value={x:d.clientX-D.value.x,y:d.clientY-D.value.y})}function O(){y.value=!1}function P(){r.value=1,p.value=0,g.value={x:0,y:0}}ce(()=>{window.addEventListener("mousemove",k),window.addEventListener("mouseup",O)}),pe(()=>{window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",O)});function Y(){n.value||P()}return(d,F)=>{const f=ye,m=he,j=W;return c(),v(e(Ce),{open:n.value,"onUpdate:open":F[0]||(F[0]=K=>n.value=K)},{default:s(()=>[t(e(Be),{class:"size-full",onAnimationEnd:Y},{default:s(()=>[t(e(fe),null,{default:s(()=>[t(e(Me)),t(e($e))]),_:1}),z("div",{class:"relative size-full flex-center",onWheel:U},[z("img",{src:e(l)[e(a)],class:ge(["mx-auto max-h-full max-w-full object-contain",{"transition-all duration-300":!e(y)}]),style:ve({transform:"translate(".concat(e(g).x,"px, ").concat(e(g).y,"px) scale(").concat(e(r),") rotate(").concat(e(p),"deg)"),cursor:e(y)?"grabbing":"grab"}),onMousedown:_e(X,["prevent"])},null,46,ke),e(l).length>1?(c(),me(be,{key:0},[z("div",Oe,A(e(a)+1)+" / "+A(e(l).length),1),t(m,{variant:"ghost",size:"icon",class:"absolute left-4 top-1/2 rounded-full bg-muted/50 -translate-y-1/2",onClick:u},{default:s(()=>[t(f,{name:"i-lucide:chevron-left",class:"size-6"})]),_:1}),t(m,{variant:"ghost",size:"icon",class:"absolute right-4 top-1/2 rounded-full bg-muted/50 -translate-y-1/2",onClick:x},{default:s(()=>[t(f,{name:"i-lucide:chevron-right",class:"size-6"})]),_:1})],64)):R("",!0),t(j,{class:"absolute bottom-4 left-1/2 scale-125 -translate-x-1/2"},{default:s(()=>[t(m,{variant:"outline",size:"icon",class:"border-none bg-muted/50",onClick:$},{default:s(()=>[t(f,{name:"i-carbon:zoom-in",class:"size-5"})]),_:1}),t(m,{variant:"outline",size:"icon",class:"border-none bg-muted/50",onClick:M},{default:s(()=>[t(f,{name:"i-carbon:zoom-out",class:"size-5"})]),_:1}),t(m,{variant:"outline",size:"icon",class:"border-none bg-muted/50",onClick:q},{default:s(()=>[t(f,{name:"i-lucide:maximize",class:"size-5"})]),_:1}),t(m,{variant:"outline",size:"icon",class:"border-none bg-muted/50",onClick:N},{default:s(()=>[t(f,{name:"i-carbon:rotate",class:"size-5"})]),_:1}),t(m,{variant:"outline",size:"icon",class:"border-none bg-muted/50",onClick:T},{default:s(()=>[t(f,{name:"i-carbon:rotate-180",class:"size-5"})]),_:1})]),_:1})],32)]),_:1})]),_:1},8,["open"])}}});export{Fe as _};
