
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{cH as R,a4 as x,c as l,o as t,S as v,R as i,O as u,N as F,l as H,aF as S,r as h,B as f,m as U}from"./index-Bnionyve.js";const _=["cx","cy","r","fill","stroke","stroke-width","onClick","onMouseover"],w=["x","y","height","width","onClick","onMouseover"],B={__name:"RecursiveCircles",props:{color:{type:String,default:"#000000"},dataset:{type:Array,default:()=>[]},hoveredUid:{type:String,default:null},linkColor:{type:String,default:"#CCCCCC"},stroke:{type:String,default:"#FFFFFF"},strokeHovered:{type:String,default:"#000000"}},emits:["click","hover"],setup(o,{emit:y}){const p=o,k=y;function a(r){k("click",r)}function n(r){k("hover",r)}return R(p,"dataset").value.forEach(r=>{r.nodes&&r.nodes.length>0&&r.nodes.forEach(s=>{s.ancestor=r})}),(r,s)=>{const C=x("RecursiveCircles",!0);return t(!0),l(i,null,v(o.dataset,(e,g)=>(t(),l(i,null,[e.polygonPath&&e.polygonPath.coordinates?(t(),l(i,{key:0},[(t(!0),l(i,null,v(e.polygonPath.coordinates,(d,m)=>(t(),l(i,{key:"node_".concat(g,"_").concat(m)},[H("circle",{cx:d.x,cy:d.y,r:e.circleRadius,fill:"url(#gradient_".concat(e.color,")"),stroke:o.hoveredUid&&o.hoveredUid===e.uid?o.strokeHovered:o.stroke,"stroke-width":o.hoveredUid&&o.hoveredUid===e.uid?e.circleRadius/6:e.circleRadius/12,style:{cursor:"pointer"},onClick:c=>a(e),onMouseover:c=>n(e),onMouseleave:s[0]||(s[0]=c=>n(null))},null,40,_),r.$slots.node?(t(),l("foreignObject",{key:0,x:d.x-e.circleRadius,y:d.y-e.circleRadius,height:e.circleRadius*2,width:e.circleRadius*2,style:{overflow:"visible"},onClick:S(c=>a(e),["stop"]),onMouseover:c=>n(e),onMouseleave:s[1]||(s[1]=c=>n(null))},[h(r.$slots,"node",f({ref_for:!0},{node:e}))],40,w)):u("",!0)],64))),128)),e.nodes&&e.nodes.length>0?(t(),F(C,{key:0,dataset:e.nodes,color:o.color,stroke:o.stroke,strokeHovered:o.strokeHovered,hoveredUid:o.hoveredUid,onClick:a,onHover:n},{node:U(({node:d})=>[h(r.$slots,"node",f({ref_for:!0},{node:d}))]),_:2},1032,["dataset","color","stroke","strokeHovered","hoveredUid"])):u("",!0)],64)):u("",!0)],64))),256)}}};export{B as default};
