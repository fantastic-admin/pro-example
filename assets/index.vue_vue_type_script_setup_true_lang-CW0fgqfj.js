
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{d as v,aB as N,bw as $,n as O,by as I,l as c,o as y,w as d,M as g,e,bZ as M,bI as R,b_ as z,bx as w,b$ as K,g as _,c0 as L,c1 as T,S as P,c2 as U,bK as j,bB as b,c3 as W,at as S,bX as k,bL as x,aD as C,aE as F,c4 as V,a7 as G,bz as D,Y as H,c5 as X,bA as Y,B as Z,ap as J,aq as Q,A as ee}from"./index-H6QnEWHf.js";const[B,te]=I("PopoverRoot");var oe=v({__name:"PopoverRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},modal:{type:Boolean,required:!1,default:!1}},emits:["update:open"],setup(r,{emit:l}){const t=r,a=l,{modal:s}=N(t),o=$(t,"open",a,{defaultValue:t.defaultOpen,passive:t.open===void 0}),n=O(),f=O(!1);return te({contentId:"",triggerId:"",modal:s,open:o,onOpenChange:i=>{o.value=i},onOpenToggle:()=>{o.value=!o.value},triggerElement:n,hasCustomAnchor:f}),(i,u)=>(y(),c(e(M),null,{default:d(()=>[g(i.$slots,"default",{open:e(o),close:()=>o.value=!1})]),_:3}))}}),ae=oe,re=v({__name:"PopoverContentImpl",props:{trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(r,{emit:l}){const t=r,a=l,s=R(z(t,"trapFocus","disableOutsidePointerEvents")),{forwardRef:o}=w(),n=B();return K(),(f,i)=>(y(),c(e(U),{"as-child":"",loop:"",trapped:f.trapFocus,onMountAutoFocus:i[5]||(i[5]=u=>a("openAutoFocus",u)),onUnmountAutoFocus:i[6]||(i[6]=u=>a("closeAutoFocus",u))},{default:d(()=>[_(e(L),{"as-child":"","disable-outside-pointer-events":f.disableOutsidePointerEvents,onPointerDownOutside:i[0]||(i[0]=u=>a("pointerDownOutside",u)),onInteractOutside:i[1]||(i[1]=u=>a("interactOutside",u)),onEscapeKeyDown:i[2]||(i[2]=u=>a("escapeKeyDown",u)),onFocusOutside:i[3]||(i[3]=u=>a("focusOutside",u)),onDismiss:i[4]||(i[4]=u=>e(n).onOpenChange(!1))},{default:d(()=>[_(e(T),P(e(s),{id:e(n).contentId,ref:e(o),"data-state":e(n).open.value?"open":"closed","aria-labelledby":e(n).triggerId,style:{"--reka-popover-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-popover-content-available-width":"var(--reka-popper-available-width)","--reka-popover-content-available-height":"var(--reka-popper-available-height)","--reka-popover-trigger-width":"var(--reka-popper-anchor-width)","--reka-popover-trigger-height":"var(--reka-popper-anchor-height)"},role:"dialog"}),{default:d(()=>[g(f.$slots,"default")]),_:3},16,["id","data-state","aria-labelledby"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),A=re,se=v({__name:"PopoverContentModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(r,{emit:l}){const t=r,a=l,s=B(),o=O(!1);j(!0);const n=b(t,a),{forwardRef:f,currentElement:i}=w();return W(i),(u,p)=>(y(),c(A,P(e(n),{ref:e(f),"trap-focus":e(s).open.value,"disable-outside-pointer-events":"",onCloseAutoFocus:p[0]||(p[0]=S(m=>{var q;a("closeAutoFocus",m),o.value||(q=e(s).triggerElement.value)==null||q.focus()},["prevent"])),onPointerDownOutside:p[1]||(p[1]=m=>{a("pointerDownOutside",m);const q=m.detail.originalEvent,h=q.button===0&&q.ctrlKey===!0,E=q.button===2||h;o.value=E}),onFocusOutside:p[2]||(p[2]=S(()=>{},["prevent"]))}),{default:d(()=>[g(u.$slots,"default")]),_:3},16,["trap-focus"]))}}),ie=se,ne=v({__name:"PopoverContentNonModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(r,{emit:l}){const t=r,a=l,s=B(),o=O(!1),n=O(!1),f=b(t,a);return(i,u)=>(y(),c(A,P(e(f),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:u[0]||(u[0]=p=>{var m;a("closeAutoFocus",p),p.defaultPrevented||(o.value||(m=e(s).triggerElement.value)==null||m.focus(),p.preventDefault()),o.value=!1,n.value=!1}),onInteractOutside:u[1]||(u[1]=async p=>{var h;a("interactOutside",p),p.defaultPrevented||(o.value=!0,p.detail.originalEvent.type==="pointerdown"&&(n.value=!0));const m=p.target;((h=e(s).triggerElement.value)==null?void 0:h.contains(m))&&p.preventDefault(),p.detail.originalEvent.type==="focusin"&&n.value&&p.preventDefault()})}),{default:d(()=>[g(i.$slots,"default")]),_:3},16))}}),le=ne,ue=v({__name:"PopoverContent",props:{forceMount:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(r,{emit:l}){const t=r,a=l,s=B(),o=b(t,a),{forwardRef:n}=w();return s.contentId||(s.contentId=k(void 0,"reka-popover-content")),(f,i)=>(y(),c(e(x),{present:f.forceMount||e(s).open.value},{default:d(()=>[e(s).modal.value?(y(),c(ie,P({key:0},e(o),{ref:e(n)}),{default:d(()=>[g(f.$slots,"default")]),_:3},16)):(y(),c(le,P({key:1},e(o),{ref:e(n)}),{default:d(()=>[g(f.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),de=ue,pe=v({__name:"PopoverPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(r){const l=r;return(t,a)=>(y(),c(e(V),C(F(l)),{default:d(()=>[g(t.$slots,"default")]),_:3},16))}}),fe=pe,ce=v({__name:"PopoverTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(r){const l=r,t=B(),{forwardRef:a,currentElement:s}=w();return t.triggerId||(t.triggerId=k(void 0,"reka-popover-trigger")),G(()=>{t.triggerElement.value=s.value}),(o,n)=>(y(),c(H(e(t).hasCustomAnchor.value?e(D):e(X)),{"as-child":""},{default:d(()=>[_(e(D),{id:e(t).triggerId,ref:e(a),type:o.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":e(t).open.value,"aria-controls":e(t).contentId,"data-state":e(t).open.value?"open":"closed",as:o.as,"as-child":l.asChild,onClick:e(t).onOpenToggle},{default:d(()=>[g(o.$slots,"default")]),_:3},8,["id","type","aria-expanded","aria-controls","data-state","as","as-child","onClick"])]),_:3}))}}),ye=ce;const ge=v({__name:"Popover",props:{defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(r,{emit:l}){const s=b(r,l);return(o,n)=>(y(),c(e(ae),C(F(e(s))),{default:d(()=>[g(o.$slots,"default")]),_:3},16))}}),ve=v({inheritAttrs:!1,__name:"PopoverContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{default:4},sideFlip:{type:Boolean},align:{default:"center"},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(r,{emit:l}){const t=r,a=l,s=Y(t,"class"),o=b(s,a);return(n,f)=>(y(),c(e(fe),null,{default:d(()=>[_(e(de),P({...e(o),...n.$attrs},{class:e(Z)("z-2000 min-w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t.class)}),{default:d(()=>[g(n.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),me=v({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{}},setup(r){const l=r;return(t,a)=>(y(),c(e(ye),C(F(l)),{default:d(()=>[g(t.$slots,"default")]),_:3},16))}}),_e=v({name:"FaPopover",__name:"index",props:J({align:{},alignOffset:{},side:{},sideOffset:{},collisionPadding:{},class:{}},{open:{type:Boolean,default:!1},openModifiers:{}}),emits:["update:open"],setup(r){const l=r;function t(s){s.preventDefault()}const a=Q(r,"open");return(s,o)=>(y(),c(e(ge),{open:a.value,"onUpdate:open":o[0]||(o[0]=n=>a.value=n)},{default:d(()=>[_(e(me),{"as-child":""},{default:d(()=>[g(s.$slots,"default")]),_:3}),_(e(ve),{align:r.align,"align-offset":r.alignOffset,side:r.side,"side-offset":r.sideOffset,"collision-padding":r.collisionPadding,class:ee(l.class),onOpenAutoFocus:t},{default:d(()=>[g(s.$slots,"panel")]),_:3},8,["align","align-offset","side","side-offset","collision-padding","class"])]),_:3},8,["open"]))}});export{_e as _};
