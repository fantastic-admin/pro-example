
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{d as z,u as G,a as J,aX as K,az as X,x as H,l as O,b as Q,e as E,o as R,w as k,g as W,bc as Y,c as Z,F as ee,q as te,i as ne,t as re,A as se,h as ae}from"./index-H6QnEWHf.js";import oe from"./index-5LqAGxil.js";import{_ as ue}from"./item.vue_vue_type_script_setup_true_lang-CPGgrVV-.js";var y={},U;function ie(){if(U)return y;U=1,Object.defineProperty(y,"__esModule",{value:!0}),y.PathError=y.TokenData=void 0,y.parse=w,y.compile=$,y.match=S,y.pathToRegexp=b,y.stringify=B;const P="/",g=e=>e,p=/^[$_\p{ID_Start}]$/u,T=/^[$\u200c\u200d\p{ID_Continue}]$/u,N={"{":"{","}":"}","(":"(",")":")","[":"[","]":"]","+":"+","?":"?","!":"!"};function I(e){return e.replace(/[{}()\[\]+?!:*\\]/g,"\\$&")}function h(e){return e.replace(/[.+*?^${}()[\]|/\\]/g,"\\$&")}class M{constructor(r,s){this.tokens=r,this.originalPath=s}}y.TokenData=M;class l extends TypeError{constructor(r,s){let a=r;s&&(a+=": ".concat(s)),a+="; visit https://git.new/pathToRegexpError for info",super(a),this.originalPath=s}}y.PathError=l;function w(e,r={}){const{encodePath:s=g}=r,a=[...e],n=[];let t=0,i=0;function u(){let o="";if(p.test(a[t]))do o+=a[t++];while(T.test(a[t]));else if(a[t]==='"'){let f=t;for(;t++<a.length;){if(a[t]==='"'){t++,f=0;break}a[t]==="\\"&&t++,o+=a[t]}if(f)throw new l("Unterminated quote at index ".concat(f),e)}if(!o)throw new l("Missing parameter name at index ".concat(t),e);return o}for(;t<a.length;){const o=a[t],f=N[o];f?n.push({type:f,index:t++,value:o}):o==="\\"?n.push({type:"escape",index:t++,value:a[t++]}):o===":"?n.push({type:"param",index:t++,value:u()}):o==="*"?n.push({type:"wildcard",index:t++,value:u()}):n.push({type:"char",index:t++,value:o})}n.push({type:"end",index:t,value:""});function d(o){const f=[];for(;;){const c=n[i++];if(c.type===o)break;if(c.type==="char"||c.type==="escape"){let m=c.value,v=n[i];for(;v.type==="char"||v.type==="escape";)m+=v.value,v=n[++i];f.push({type:"text",value:s(m)});continue}if(c.type==="param"||c.type==="wildcard"){f.push({type:c.type,name:c.value});continue}if(c.type==="{"){f.push({type:"group",tokens:d("}")});continue}throw new l("Unexpected ".concat(c.type," at index ").concat(c.index,", expected ").concat(o),e)}return f}return new M(d("end"),e)}function $(e,r={}){const{encode:s=encodeURIComponent,delimiter:a=P}=r,n=typeof e=="object"?e:w(e,r),t=_(n.tokens,a,s);return function(u={}){const[d,...o]=t(u);if(o.length)throw new TypeError("Missing parameters: ".concat(o.join(", ")));return d}}function _(e,r,s){const a=e.map(n=>x(n,r,s));return n=>{const t=[""];for(const i of a){const[u,...d]=i(n);t[0]+=u,t.push(...d)}return t}}function x(e,r,s){if(e.type==="text")return()=>[e.value];if(e.type==="group"){const n=_(e.tokens,r,s);return t=>{const[i,...u]=n(t);return u.length?[""]:[i]}}const a=s||g;return e.type==="wildcard"&&s!==!1?n=>{const t=n[e.name];if(t==null)return["",e.name];if(!Array.isArray(t)||t.length===0)throw new TypeError('Expected "'.concat(e.name,'" to be a non-empty array'));return[t.map((i,u)=>{if(typeof i!="string")throw new TypeError('Expected "'.concat(e.name,"/").concat(u,'" to be a string'));return a(i)}).join(r)]}:n=>{const t=n[e.name];if(t==null)return["",e.name];if(typeof t!="string")throw new TypeError('Expected "'.concat(e.name,'" to be a string'));return[a(t)]}}function S(e,r={}){const{decode:s=decodeURIComponent,delimiter:a=P}=r,{regexp:n,keys:t}=b(e,r),i=t.map(u=>s===!1?g:u.type==="param"?s:d=>d.split(a).map(s));return function(d){const o=n.exec(d);if(!o)return!1;const f=o[0],c=Object.create(null);for(let m=1;m<o.length;m++){if(o[m]===void 0)continue;const v=t[m-1],V=i[m-1];c[v.name]=V(o[m])}return{path:f,params:c}}}function b(e,r={}){const{delimiter:s=P,end:a=!0,sensitive:n=!1,trailing:t=!0}=r,i=[],u=n?"":"i",d=[];for(const c of A(e,[])){const m=typeof c=="object"?c:w(c,r);for(const v of D(m.tokens,0,[]))d.push(L(v,s,i,m.originalPath))}let o="^(?:".concat(d.join("|"),")");return t&&(o+="(?:".concat(h(s),"$)?")),o+=a?"$":"(?=".concat(h(s),"|$)"),{regexp:new RegExp(o,u),keys:i}}function A(e,r){if(Array.isArray(e))for(const s of e)A(s,r);else r.push(e);return r}function*D(e,r,s){if(r===e.length)return yield s;const a=e[r];if(a.type==="group")for(const n of D(a.tokens,0,s.slice()))yield*D(e,r+1,n);else s.push(a);yield*D(e,r+1,s)}function L(e,r,s,a){let n="",t="",i=!0;for(const u of e){if(u.type==="text"){n+=h(u.value),t+=u.value,i||(i=u.value.includes(r));continue}if(u.type==="param"||u.type==="wildcard"){if(!i&&!t)throw new l('Missing text before "'.concat(u.name,'" ').concat(u.type),a);u.type==="param"?n+="(".concat(j(r,i?"":t),"+)"):n+="([\\s\\S]+)",s.push(u),t="",i=!1;continue}}return n}function j(e,r){return r.length<2?e.length<2?"[^".concat(h(e+r),"]"):"(?:(?!".concat(h(e),")[^").concat(h(r),"])"):e.length<2?"(?:(?!".concat(h(r),")[^").concat(h(e),"])"):"(?:(?!".concat(h(r),"|").concat(h(e),")[\\s\\S])")}function C(e){let r="",s=0;function a(n){return q(n)&&F(e[s])?n:JSON.stringify(n)}for(;s<e.length;){const n=e[s++];if(n.type==="text"){r+=I(n.value);continue}if(n.type==="group"){r+="{".concat(C(n.tokens),"}");continue}if(n.type==="param"){r+=":".concat(a(n.name));continue}if(n.type==="wildcard"){r+="*".concat(a(n.name));continue}throw new TypeError("Unknown token type: ".concat(n.type))}return r}function B(e){return C(e.tokens)}function q(e){const[r,...s]=e;return p.test(r)&&s.every(a=>T.test(a))}function F(e){return e&&e.type==="text"?!T.test(e.value[0]):!0}return y}var ce=ie();const le=z({name:"Breadcrumb",__name:"index",setup(P){const g=G(),p=J(),T=K(),{generateI18nTitle:N}=X();let I=[];const h=H(()=>{var $,_;if(g.name==="reload")return I;const l=[];if(p.settings.home.enable&&l.push({path:p.settings.home.fullPath,title:p.settings.home.title}),g.fullPath!==p.settings.home.fullPath&&p.settings.breadcrumb.enableMainMenu&&!["single"].includes(p.settings.menu.mode)){const x=T.allMenus.findIndex(S=>S.children.some(b=>g.fullPath.indexOf("".concat(b.path,"/"))===0||g.fullPath===b.path));($=T.allMenus[x])!=null&&$.meta&&l.push({path:"",title:(_=T.allMenus[x].meta)==null?void 0:_.title})}g.matched.forEach(x=>{var S,b;((S=x.meta)==null?void 0:S.breadcrumb)!==!1&&l.push({path:x.path,title:(b=x.meta)==null?void 0:b.title})});const w=p.customTitleList.find(x=>x.fullPath===g.fullPath);return w&&l.length>0&&(l[l.length-1].title=w.title),I=l,l});function M(l){return ce.compile(l)(g.params)}return(l,w)=>E(p).mode==="pc"&&E(p).settings.app.routeBaseOn!=="filesystem"?(R(),O(oe,{key:0,class:se(["breadcrumb whitespace-nowrap px-2",{["breadcrumb-".concat(E(p).settings.breadcrumb.style)]:E(p).settings.breadcrumb.style!==""}])},{default:k(()=>[W(Y,{name:"breadcrumb"},{default:k(()=>[(R(!0),Z(ee,null,te(E(h),($,_)=>(R(),O(ue,{key:"".concat(_,"_").concat($.path,"_").concat($.title),to:Number(_)<E(h).length-1&&$.path!==""?M($.path):""},{default:k(()=>[ne(re(E(N)($.title)),1)]),_:2},1032,["to"]))),128))]),_:1})]),_:1},8,["class"])):Q("",!0)}}),de=ae(le,[["__scopeId","data-v-631c1615"]]);export{de as default};
