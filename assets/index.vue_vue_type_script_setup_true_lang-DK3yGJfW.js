
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
var U=Object.freeze,G=Object.defineProperty;var j=(n,t)=>U(G(n,"raw",{value:U(t||n.slice())}));import{d as E,n as Q,x as M,Q as Z,c as q,o as W,S as I,e as T,M as J,O as K,N as tt,C as N,ae as et,l as it}from"./index-H6QnEWHf.js";const g=(n,t,e)=>{const i=document.createElement(n),[s,a]=Array.isArray(t)?[void 0,t]:[t,e];return s&&Object.assign(i,s),a==null||a.forEach(r=>i.appendChild(r)),i},st=(n,t)=>{var i;var e;return t==="left"?n.offsetLeft:((i=(e=n.offsetParent instanceof HTMLElement?n.offsetParent:null)==null?void 0:e.offsetWidth)!=null?i:0)-n.offsetWidth-n.offsetLeft},nt=n=>n.offsetWidth>0&&n.offsetHeight>0,at=(n,t)=>{!customElements.get(n)&&customElements.define(n,t)};function rt(n,t,{reverse:e=!1}={}){const i=n.length;for(let s=e?i-1:0;e?s>=0:s<i;e?s--:s++)t(n[s],s)}function ot(n,t,e,i){const s=t.formatToParts(n);e&&s.unshift({type:"prefix",value:e}),i&&s.push({type:"suffix",value:i});const a=[],r=[],o=[],p=[],l={},d=c=>{var h;return"".concat(c,":").concat(l[c]=((h=l[c])!=null?h:-1)+1)};let u="",C=!1,y=!1;for(const c of s){u+=c.value;const h=c.type==="minusSign"||c.type==="plusSign"?"sign":c.type;h==="integer"?(C=!0,r.push(...c.value.split("").map(S=>({type:h,value:parseInt(S)})))):h==="group"?r.push({type:h,value:c.value}):h==="decimal"?(y=!0,o.push({type:h,value:c.value,key:d(h)})):h==="fraction"?o.push(...c.value.split("").map(S=>({type:h,value:parseInt(S),key:d(h),pos:-1-l[h]}))):(C||y?p:a).push({type:h,value:c.value,key:d(h)})}const _=[];for(let c=r.length-1;c>=0;c--){const h=r[c];_.unshift(h.type==="integer"?{...h,key:d(h.type),pos:l[h.type]}:{...h,key:d(h.type)})}return{pre:a,integer:_,fraction:o,post:p,valueAsString:u,value:typeof n=="string"?parseFloat(n):n}}const lt=String.raw,ht=(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(n){return!1}return!0})(),pt=typeof CSS<"u"&&CSS.supports&&CSS.supports("line-height","mod(1,1)"),B=typeof matchMedia<"u"?matchMedia("(prefers-reduced-motion: reduce)"):null,x="--_number-flow-d-opacity",P="--_number-flow-d-width",$="--_number-flow-dx",R="--_number-flow-d",dt=(()=>{try{return CSS.registerProperty({name:x,syntax:"<number>",inherits:!1,initialValue:"0"}),CSS.registerProperty({name:$,syntax:"<length>",inherits:!0,initialValue:"0px"}),CSS.registerProperty({name:P,syntax:"<number>",inherits:!1,initialValue:"0"}),CSS.registerProperty({name:R,syntax:"<number>",inherits:!0,initialValue:"0"}),!0}catch(n){return!1}})(),ct="var(--number-flow-char-height, 1em)",f="var(--number-flow-mask-height, 0.25em)",L="calc(".concat(f," / 2)"),A="var(--number-flow-mask-width, 0.5em)",v="calc(".concat(A," / var(--scale-x))"),w="#000 0, transparent 71%";var O;const F=lt(O||(O=j([":host{display:inline-block;direction:ltr;white-space:nowrap;isolation:isolate;line-height:"," !important}.number,.number__inner{display:inline-block;transform-origin:left top}:host([data-will-change]) :is(.number,.number__inner,.section,.digit,.digit__num,.symbol){will-change:transform}.number{--scale-x:calc(1 + var(",") / var(--width));transform:translateX(var(",")) scaleX(var(--scale-x));margin:0 calc(-1 * ",");position:relative;-webkit-mask-image:linear-gradient(to right,transparent 0,#000 ",",#000 calc(100% - ","),transparent ),linear-gradient(to bottom,transparent 0,#000 ",",#000 calc(100% - ","),transparent 100% ),radial-gradient(at bottom right,","),radial-gradient(at bottom left,","),radial-gradient(at top left,","),radial-gradient(at top right,",");-webkit-mask-size:100% calc(100% - "," * 2),calc(100% - "," * 2) 100%,"," ",","," ",","," ",","," ",";-webkit-mask-position:center,center,top left,top right,bottom right,bottom left;-webkit-mask-repeat:no-repeat}.number__inner{padding:"," ",";transform:scaleX(calc(1 / var(--scale-x))) translateX(calc(-1 * var(",")))}:host > :not(.number){z-index:5}.section,.symbol{display:inline-block;position:relative;isolation:isolate}.section::after{content:'b';display:inline-block}.section--justify-left{transform-origin:center left}.section--justify-right{transform-origin:center right}.section > [inert],.symbol > [inert]{margin:0 !important;position:absolute !important;z-index:-1}.digit{display:inline-block;position:relative;--c:var(--current) + var(",")}.digit__num,.number .section::after{padding:"," 0}.digit__num{display:inline-block;--offset-raw:mod(var(--length) + var(--n) - mod(var(--c),var(--length)),var(--length));--offset:calc( var(--offset-raw) - var(--length) * round(down,var(--offset-raw) / (var(--length) / 2),1) );--y:clamp(-100%,var(--offset) * 100%,100%);transform:translateY(var(--y))}.digit__num[inert]{position:absolute;top:0;left:50%;transform:translateX(-50%) translateY(var(--y))}.digit:not(.is-spinning) .digit__num[inert]{display:none}.symbol__value{display:inline-block;mix-blend-mode:plus-lighter;white-space:pre}.section--justify-left .symbol > [inert]{left:0}.section--justify-right .symbol > [inert]{right:0}.animate-presence{opacity:calc(1 + var(","))}"],[":host{display:inline-block;direction:ltr;white-space:nowrap;isolation:isolate;line-height:"," !important}.number,.number__inner{display:inline-block;transform-origin:left top}:host([data-will-change]) :is(.number,.number__inner,.section,.digit,.digit__num,.symbol){will-change:transform}.number{--scale-x:calc(1 + var(",") / var(--width));transform:translateX(var(",")) scaleX(var(--scale-x));margin:0 calc(-1 * ",");position:relative;-webkit-mask-image:linear-gradient(to right,transparent 0,#000 ",",#000 calc(100% - ","),transparent ),linear-gradient(to bottom,transparent 0,#000 ",",#000 calc(100% - ","),transparent 100% ),radial-gradient(at bottom right,","),radial-gradient(at bottom left,","),radial-gradient(at top left,","),radial-gradient(at top right,",");-webkit-mask-size:100% calc(100% - "," * 2),calc(100% - "," * 2) 100%,"," ",","," ",","," ",","," ",";-webkit-mask-position:center,center,top left,top right,bottom right,bottom left;-webkit-mask-repeat:no-repeat}.number__inner{padding:"," ",";transform:scaleX(calc(1 / var(--scale-x))) translateX(calc(-1 * var(",")))}:host > :not(.number){z-index:5}.section,.symbol{display:inline-block;position:relative;isolation:isolate}.section::after{content:'\\200b';display:inline-block}.section--justify-left{transform-origin:center left}.section--justify-right{transform-origin:center right}.section > [inert],.symbol > [inert]{margin:0 !important;position:absolute !important;z-index:-1}.digit{display:inline-block;position:relative;--c:var(--current) + var(",")}.digit__num,.number .section::after{padding:"," 0}.digit__num{display:inline-block;--offset-raw:mod(var(--length) + var(--n) - mod(var(--c),var(--length)),var(--length));--offset:calc( var(--offset-raw) - var(--length) * round(down,var(--offset-raw) / (var(--length) / 2),1) );--y:clamp(-100%,var(--offset) * 100%,100%);transform:translateY(var(--y))}.digit__num[inert]{position:absolute;top:0;left:50%;transform:translateX(-50%) translateY(var(--y))}.digit:not(.is-spinning) .digit__num[inert]{display:none}.symbol__value{display:inline-block;mix-blend-mode:plus-lighter;white-space:pre}.section--justify-left .symbol > [inert]{left:0}.section--justify-right .symbol > [inert]{right:0}.animate-presence{opacity:calc(1 + var(","))}"])),ct,P,$,A,v,v,f,f,w,w,w,w,f,v,v,f,v,f,v,f,v,f,L,A,$,R,L,x),ut=HTMLElement,mt=pt&&ht&&dt;let b;class m extends ut{constructor(){super(),this.created=!1,this.batched=!1;const{animated:t,...e}=this.constructor.defaultProps;this._animated=this.computedAnimated=t,Object.assign(this,e)}get animated(){return this._animated}set animated(t){var e;this.animated!==t&&(this._animated=t,(e=this.shadowRoot)==null||e.getAnimations().forEach(i=>i.finish()))}set data(t){var p;var e;if(t==null)return;const{pre:i,integer:s,fraction:a,post:r,value:o}=t;if(this.created){const l=this._data;this._data=t,this.computedTrend=typeof this.trend=="function"?this.trend(l.value,o):this.trend,this.computedAnimated=mt&&this._animated&&(!this.respectMotionPreference||!(B!=null&&B.matches))&&nt(this),(e=this.plugins)==null||e.forEach(d=>{var u;return(u=d.onUpdate)==null?void 0:u.call(d,t,l,this)}),this.batched||this.willUpdate(),this._pre.update(i),this._num.update({integer:s,fraction:a}),this._post.update(r),this.batched||this.didUpdate()}else{this._data=t,this.attachShadow({mode:"open"});try{(p=this._internals)!=null||(this._internals=this.attachInternals()),this._internals.role="img"}catch(l){}if(typeof CSSStyleSheet<"u"&&this.shadowRoot.adoptedStyleSheets)b||(b=new CSSStyleSheet,b.replaceSync(F)),this.shadowRoot.adoptedStyleSheets=[b];else{const l=document.createElement("style");l.textContent=F,this.shadowRoot.appendChild(l)}this._pre=new X(this,i,{justify:"right",part:"left"}),this.shadowRoot.appendChild(this._pre.el),this._num=new ft(this,s,a),this.shadowRoot.appendChild(this._num.el),this._post=new X(this,r,{justify:"left",part:"right"}),this.shadowRoot.appendChild(this._post.el),this.created=!0}try{this._internals.ariaLabel=t.valueAsString}catch(l){}}willUpdate(){this._pre.willUpdate(),this._num.willUpdate(),this._post.willUpdate()}didUpdate(){if(!this.computedAnimated)return;this._abortAnimationsFinish?this._abortAnimationsFinish.abort():this.dispatchEvent(new Event("animationsstart")),this._pre.didUpdate(),this._num.didUpdate(),this._post.didUpdate();const t=new AbortController;Promise.all(this.shadowRoot.getAnimations().map(e=>e.finished)).then(()=>{t.signal.aborted||(this.dispatchEvent(new Event("animationsfinish")),this._abortAnimationsFinish=void 0)}),this._abortAnimationsFinish=t}}m.defaultProps={transformTiming:{duration:900,easing:"linear(0,.005,.019,.039,.066,.096,.129,.165,.202,.24,.278,.316,.354,.39,.426,.461,.494,.526,.557,.586,.614,.64,.665,.689,.711,.731,.751,.769,.786,.802,.817,.831,.844,.856,.867,.877,.887,.896,.904,.912,.919,.925,.931,.937,.942,.947,.951,.955,.959,.962,.965,.968,.971,.973,.976,.978,.98,.981,.983,.984,.986,.987,.988,.989,.99,.991,.992,.992,.993,.994,.994,.995,.995,.996,.996,.9963,.9967,.9969,.9972,.9975,.9977,.9979,.9981,.9982,.9984,.9985,.9987,.9988,.9989,1)"},spinTiming:void 0,opacityTiming:{duration:450,easing:"ease-out"},animated:!0,trend:(n,t)=>Math.sign(t-n),respectMotionPreference:!0,plugins:void 0,digits:void 0};class ft{constructor(t,e,i,{className:s,...a}={}){this.flow=t,this._integer=new V(t,e,{justify:"right",part:"integer"}),this._fraction=new V(t,i,{justify:"left",part:"fraction"}),this._inner=g("span",{className:"number__inner"},[this._integer.el,this._fraction.el]),this.el=g("span",{...a,part:"number",className:"number ".concat(s!=null?s:"")},[this._inner])}willUpdate(){this._prevWidth=this.el.offsetWidth,this._prevLeft=this.el.getBoundingClientRect().left,this._integer.willUpdate(),this._fraction.willUpdate()}update({integer:t,fraction:e}){this._integer.update(t),this._fraction.update(e)}didUpdate(){const t=this.el.getBoundingClientRect();this._integer.didUpdate(),this._fraction.didUpdate();const e=this._prevLeft-t.left,i=this.el.offsetWidth,s=this._prevWidth-i;this.el.style.setProperty("--width",String(i)),this.el.animate({[$]:["".concat(e,"px"),"0px"],[P]:[s,0]},{...this.flow.transformTiming,composite:"accumulate"})}}class D{constructor(t,e,{justify:i,className:s,...a},r){this.flow=t,this.children=new Map,this.onCharRemove=p=>()=>{this.children.delete(p)},this.justify=i;const o=e.map(p=>this.addChar(p).el);this.el=g("span",{...a,className:"section section--justify-".concat(i," ").concat(s!=null?s:"")},r?r(o):o)}addChar(t,{startDigitsAtZero:e=!1,...i}={}){const s=t.type==="integer"||t.type==="fraction"?new z(this,t.type,e?0:t.value,t.pos,{...i,onRemove:this.onCharRemove(t.key)}):new gt(this,t.type,t.value,{...i,onRemove:this.onCharRemove(t.key)});return this.children.set(t.key,s),s}unpop(t){t.el.removeAttribute("inert"),t.el.style.top="",t.el.style[this.justify]=""}pop(t){t.forEach(e=>{e.el.style.top="".concat(e.el.offsetTop,"px"),e.el.style[this.justify]="".concat(st(e.el,this.justify),"px")}),t.forEach(e=>{e.el.setAttribute("inert",""),e.present=!1})}addNewAndUpdateExisting(t){const e=new Map,i=new Map,s=this.justify==="left",a=s?"prepend":"append";if(rt(t,r=>{let o;this.children.has(r.key)?(o=this.children.get(r.key),i.set(r,o),this.unpop(o),o.present=!0):(o=this.addChar(r,{startDigitsAtZero:!0,animateIn:!0}),e.set(r,o)),this.el[a](o.el)},{reverse:s}),this.flow.computedAnimated){const r=this.el.getBoundingClientRect();e.forEach(o=>{o.willUpdate(r)})}e.forEach((r,o)=>{r.update(o.value)}),i.forEach((r,o)=>{r.update(o.value)})}willUpdate(){const t=this.el.getBoundingClientRect();this._prevOffset=t[this.justify],this.children.forEach(e=>e.willUpdate(t))}didUpdate(){const t=this.el.getBoundingClientRect();this.children.forEach(s=>s.didUpdate(t));const e=t[this.justify],i=this._prevOffset-e;i&&this.children.size&&this.el.animate({transform:["translateX(".concat(i,"px)"),"none"]},{...this.flow.transformTiming,composite:"accumulate"})}}class V extends D{update(t){const e=new Map;this.children.forEach((i,s)=>{t.find(a=>a.key===s)||e.set(s,i),this.unpop(i)}),this.addNewAndUpdateExisting(t),e.forEach(i=>{i instanceof z&&i.update(0)}),this.pop(e)}}class X extends D{update(t){const e=new Map;this.children.forEach((i,s)=>{t.find(a=>a.key===s)||e.set(s,i)}),this.pop(e),this.addNewAndUpdateExisting(t)}}let k=class{constructor(t,e,{onRemove:i,animateIn:s=!1}={}){this.flow=t,this.el=e,this._present=!0,this._remove=()=>{var a;this.el.remove(),(a=this._onRemove)==null||a.call(this)},this.el.classList.add("animate-presence"),this.flow.computedAnimated&&s&&this.el.animate({[x]:[-.9999,0]},{...this.flow.opacityTiming,composite:"accumulate"}),this._onRemove=i}get present(){return this._present}set present(t){if(this._present!==t){if(this._present=t,t?this.el.removeAttribute("inert"):this.el.setAttribute("inert",""),!this.flow.computedAnimated){t||this._remove();return}this.el.style.setProperty("--_number-flow-d-opacity",t?"0":"-.999"),this.el.animate({[x]:t?[-.9999,0]:[.999,0]},{...this.flow.opacityTiming,composite:"accumulate"}),t?this.flow.removeEventListener("animationsfinish",this._remove):this.flow.addEventListener("animationsfinish",this._remove,{once:!0})}}};class H extends k{constructor(t,e,i,s){super(t.flow,i,s),this.section=t,this.value=e,this.el=i}}class z extends H{constructor(t,e,i,s,a){var u;var r,o;const p=((u=(o=(r=t.flow.digits)==null?void 0:r[s])==null?void 0:o.max)!=null?u:9)+1,l=Array.from({length:p}).map((C,y)=>{const _=g("span",{className:"digit__num"},[document.createTextNode(String(y))]);return y!==i&&_.setAttribute("inert",""),_.style.setProperty("--n",String(y)),_}),d=g("span",{part:"digit ".concat(e,"-digit"),className:"digit"},l);d.style.setProperty("--current",String(i)),d.style.setProperty("--length",String(p)),super(t,i,d,a),this.pos=s,this._onAnimationsFinish=()=>{this.el.classList.remove("is-spinning")},this._numbers=l,this.length=p}willUpdate(t){const e=this.el.getBoundingClientRect();this._prevValue=this.value;const i=e[this.section.justify]-t[this.section.justify],s=e.width/2;this._prevCenter=this.section.justify==="left"?i+s:i-s}update(t){this.el.style.setProperty("--current",String(t)),this._numbers.forEach((e,i)=>i===t?e.removeAttribute("inert"):e.setAttribute("inert","")),this.value=t}didUpdate(t){var p;const e=this.el.getBoundingClientRect(),i=e[this.section.justify]-t[this.section.justify],s=e.width/2,a=this.section.justify==="left"?i+s:i-s,r=this._prevCenter-a;r&&this.el.animate({transform:["translateX(".concat(r,"px)"),"none"]},{...this.flow.transformTiming,composite:"accumulate"});const o=this.getDelta();o&&(this.el.classList.add("is-spinning"),this.el.animate({[R]:[-o,0]},{...(p=this.flow.spinTiming)!=null?p:this.flow.transformTiming,composite:"accumulate"}),this.flow.addEventListener("animationsfinish",this._onAnimationsFinish,{once:!0}))}getDelta(){var t;if(this.flow.plugins)for(const s of this.flow.plugins){const a=(t=s.getDelta)==null?void 0:t.call(s,this.value,this._prevValue,this);if(a!=null)return a}const e=this.value-this._prevValue,i=this.flow.computedTrend||Math.sign(e);return i<0&&this.value>this._prevValue?this.value-this.length-this._prevValue:i>0&&this.value<this._prevValue?this.length-this._prevValue+this.value:e}}class gt extends H{constructor(t,e,i,s){const a=g("span",{className:"symbol__value",textContent:i});super(t,i,g("span",{part:"symbol ".concat(e),className:"symbol"},[a]),s),this.type=e,this._children=new Map,this._onChildRemove=r=>()=>{this._children.delete(r)},this._children.set(i,new k(this.flow,a,{onRemove:this._onChildRemove(i)}))}willUpdate(t){if(this.type==="decimal")return;const e=this.el.getBoundingClientRect();this._prevOffset=e[this.section.justify]-t[this.section.justify]}update(t){if(this.value!==t){const e=this._children.get(this.value);e&&(e.present=!1);const i=this._children.get(t);if(i)i.present=!0;else{const s=g("span",{className:"symbol__value",textContent:t});this.el.appendChild(s),this._children.set(t,new k(this.flow,s,{animateIn:!0,onRemove:this._onChildRemove(t)}))}}this.value=t}didUpdate(t){if(this.type==="decimal")return;const e=this.el.getBoundingClientRect()[this.section.justify]-t[this.section.justify],i=this._prevOffset-e;i&&this.el.animate({transform:["translateX(".concat(i,"px)"),"none"]},{...this.flow.transformTiming,composite:"accumulate"})}}const Y=Symbol(),xt=E({__name:"NumberFlowGroup",setup(n){const t=new Set;let e=!1;return K(Y,(i,s)=>{t.add(i),tt(s,async()=>{e||(e=!0,t.forEach(async a=>{var r;!a.value||!a.value.created||(a.value.willUpdate(),await N(),(r=a.value)==null||r.didUpdate())}),await N(),e=!1)}),et(()=>{t.delete(i)})}),(i,s)=>J(i.$slots,"default")}}),vt=["batched","trend","plugins","animated","transformTiming","spinTiming","opacityTiming","respectMotionPreference","data-will-change","digits","innerHTML","data"],yt=E({inheritAttrs:!1,__name:"index",props:{transformTiming:{default:()=>m.defaultProps.transformTiming},spinTiming:{default:()=>m.defaultProps.spinTiming},opacityTiming:{default:()=>m.defaultProps.opacityTiming},animated:{type:Boolean,default:()=>m.defaultProps.animated},respectMotionPreference:{type:Boolean,default:()=>m.defaultProps.respectMotionPreference},trend:{type:[Number,Function],default:()=>m.defaultProps.trend},plugins:{default:()=>m.defaultProps.plugins},digits:{default:()=>m.defaultProps.digits},locales:{},format:{},value:{},prefix:{},suffix:{},willChange:{type:Boolean,default:!1}},emits:["animationsstart","animationsfinish"],setup(n,{expose:t,emit:e}){const i=Q();t({el:i});const s=e,a=M(()=>new Intl.NumberFormat(n.locales,n.format)),r=M(()=>ot(n.value,a.value,n.prefix,n.suffix)),o=void 0,p=Z(Y,void 0);return p==null||p(i,r),(l,d)=>(W(),q("number-flow-vue",I({ref_key:"el",ref:i},l.$attrs,{batched:!!T(p),trend:l.trend,plugins:l.plugins,animated:l.animated,transformTiming:l.transformTiming,spinTiming:l.spinTiming,opacityTiming:l.opacityTiming,respectMotionPreference:l.respectMotionPreference,"data-will-change":l.willChange?"":void 0,digits:l.digits,innerHTML:T(o),"data-allow-mismatch":"",onAnimationsstart:d[0]||(d[0]=u=>s("animationsstart")),onAnimationsfinish:d[1]||(d[1]=u=>s("animationsfinish")),data:r.value}),null,16,vt))}});at("number-flow-vue",m);const $t=E({name:"FaAnimatedCountTo",__name:"index",props:{value:{},format:{},locales:{},prefix:{},suffix:{},trend:{},transformTiming:{},spinTiming:{},opacityTiming:{},willChange:{type:Boolean},class:{}},emits:["animationsstart","animationsfinish"],setup(n,{emit:t}){const e=n,i=t;return(s,a)=>(W(),it(T(yt),I(e,{onAnimationsstart:a[0]||(a[0]=r=>i("animationsstart")),onAnimationsfinish:a[1]||(a[1]=r=>i("animationsfinish"))}),null,16))}});export{$t as _,xt as j};
