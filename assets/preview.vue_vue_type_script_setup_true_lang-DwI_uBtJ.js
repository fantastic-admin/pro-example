
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{_ as T}from"./index-BoypW2lk.js";import{d as _,c0 as R,aC as W,ax as A,N as v,o as c,m as s,r as y,a as e,aJ as G,O as S,k as t,B as D,aH as J,aD as V,c1 as K,D as Q,E as ee,aL as C,c2 as ae,c3 as te,b as B,c4 as se,l as z,c5 as oe,av as I,c6 as ne,c7 as le,aM as ie,aN as re,g as h,M as ue,a1 as de,Z as ce,a3 as pe,aZ as fe,c as me,aF as _e,U as ve,n as ge,R as he,p as L,H as ye,P as be}from"./index-Bnionyve.js";var xe=_({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(i){const o=R();return W(!0),A(),(n,a)=>(c(),v(e(G),{as:n.as,"as-child":n.asChild,"data-state":e(o).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:s(()=>[y(n.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),ze=xe,De=_({__name:"DialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(i){const o=R(),{forwardRef:n}=A();return(a,l)=>{var u;return(u=e(o))!=null&&u.modal.value?(c(),v(e(J),{key:0,present:a.forceMount||e(o).open.value},{default:s(()=>[t(ze,D(a.$attrs,{ref:e(n),as:a.as,"as-child":a.asChild}),{default:s(()=>[y(a.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):S("v-if",!0)}}}),we=De;const Ce=_({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(i,{emit:o}){const l=V(i,o);return(u,x)=>(c(),v(e(K),Q(ee(e(l))),{default:s(()=>[y(u.$slots,"default")]),_:3},16))}}),Be=_({__name:"DialogContent",props:{forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus","animationEnd"],setup(i,{emit:o}){const n=i,a=o,l=C(n,"class"),u=V(l,a);return(x,r)=>(c(),v(e(ae),null,{default:s(()=>[t(e(we),{class:"fixed inset-0 z-2000 bg-black/80 data-[state=closed]:animate-out data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0"}),t(e(te),D(e(u),{class:e(B)("fixed z-2000 inset-0 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95",n.class),onAnimationend:r[0]||(r[0]=p=>a("animationEnd"))}),{default:s(()=>[y(x.$slots,"default"),t(e(se),{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ring"},{default:s(()=>[t(e(oe),{class:"h-8 w-8"}),r[1]||(r[1]=z("span",{class:"sr-only"},"Close",-1))]),_:1})]),_:3},16,["class"])]),_:3}))}}),$e=_({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(i){const o=i,n=C(o,"class"),a=I(n);return(l,u)=>(c(),v(e(ne),D(e(a),{class:e(B)("text-sm text-muted-foreground",o.class)}),{default:s(()=>[y(l.$slots,"default")]),_:3},16,["class"]))}}),ke=_({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(i){const o=i,n=C(o,"class"),a=I(n);return(l,u)=>(c(),v(e(le),D(e(a),{class:e(B)("text-lg font-semibold leading-none tracking-tight",o.class)}),{default:s(()=>[y(l.$slots,"default")]),_:3},16,["class"]))}}),Me=["src"],Oe={class:"absolute bottom-20 left-1/2 text-sm text-muted-foreground -translate-x-1/2"},Fe=_({__name:"preview",props:ie({src:{},index:{}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(i){var E;const o=i,n=re(i,"modelValue"),a=h((E=o.index)!=null?E:0),l=ue(()=>Array.isArray(o.src)?o.src:[o.src]);function u(){a.value=a.value-1,a.value<0&&(a.value=l.value.length-1)}function x(){a.value=a.value+1,a.value>=l.value.length&&(a.value=0)}de(a,P);const r=h(1),p=h(0),g=h({x:0,y:0}),b=h(!1),w=h({x:0,y:0});function $(){r.value=Math.min(r.value+.25,3)}function k(){r.value=Math.max(r.value-.25,.5)}function N(){r.value=1}function q(){p.value=p.value-90}function U(){p.value=p.value+90}function Z(d){d.preventDefault(),d.deltaY<0?$():k()}function H(d){b.value=!0,w.value={x:d.clientX-g.value.x,y:d.clientY-g.value.y}}function M(d){b.value&&(g.value={x:d.clientX-w.value.x,y:d.clientY-w.value.y})}function O(){b.value=!1}function P(){r.value=1,p.value=0,g.value={x:0,y:0}}ce(()=>{window.addEventListener("mousemove",M),window.addEventListener("mouseup",O)}),pe(()=>{window.removeEventListener("mousemove",M),window.removeEventListener("mouseup",O)});function X(){n.value||P()}return(d,F)=>{const f=be,m=ye,Y=T;return c(),v(e(Ce),{open:n.value,"onUpdate:open":F[0]||(F[0]=j=>n.value=j)},{default:s(()=>[t(e(Be),{class:"size-full",onAnimationEnd:X},{default:s(()=>[t(e(fe),null,{default:s(()=>[t(e(ke)),t(e($e))]),_:1}),z("div",{class:"relative size-full flex-center",onWheel:Z},[z("img",{src:e(l)[e(a)],class:ge(["mx-auto max-h-full max-w-full object-contain",{"transition-all duration-300":!e(b)}]),style:ve({transform:"translate(".concat(e(g).x,"px, ").concat(e(g).y,"px) scale(").concat(e(r),") rotate(").concat(e(p),"deg)"),cursor:e(b)?"grabbing":"grab"}),onMousedown:_e(H,["prevent"])},null,46,Me),e(l).length>1?(c(),me(he,{key:0},[z("div",Oe,L(e(a)+1)+" / "+L(e(l).length),1),t(m,{variant:"ghost",size:"icon",class:"absolute left-4 top-1/2 rounded-full bg-muted/50 -translate-y-1/2",onClick:u},{default:s(()=>[t(f,{name:"i-lucide:chevron-left",class:"size-6"})]),_:1}),t(m,{variant:"ghost",size:"icon",class:"absolute right-4 top-1/2 rounded-full bg-muted/50 -translate-y-1/2",onClick:x},{default:s(()=>[t(f,{name:"i-lucide:chevron-right",class:"size-6"})]),_:1})],64)):S("",!0),t(Y,{class:"absolute bottom-4 left-1/2 scale-125 -translate-x-1/2"},{default:s(()=>[t(m,{variant:"outline",size:"icon",class:"border-none bg-muted/50",onClick:$},{default:s(()=>[t(f,{name:"i-carbon:zoom-in",class:"size-5"})]),_:1}),t(m,{variant:"outline",size:"icon",class:"border-none bg-muted/50",onClick:k},{default:s(()=>[t(f,{name:"i-carbon:zoom-out",class:"size-5"})]),_:1}),t(m,{variant:"outline",size:"icon",class:"border-none bg-muted/50",onClick:N},{default:s(()=>[t(f,{name:"i-lucide:maximize",class:"size-5"})]),_:1}),t(m,{variant:"outline",size:"icon",class:"border-none bg-muted/50",onClick:q},{default:s(()=>[t(f,{name:"i-carbon:rotate",class:"size-5"})]),_:1}),t(m,{variant:"outline",size:"icon",class:"border-none bg-muted/50",onClick:U},{default:s(()=>[t(f,{name:"i-carbon:rotate-180",class:"size-5"})]),_:1})]),_:1})],32)]),_:1})]),_:1},8,["open"])}}});export{Fe as _};
