
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{_ as N}from"./index.vue_vue_type_script_setup_true_lang-Dq4MN271.js";import{d as R,s as V,n as h,a7 as D,r as m,c as E,o as _,g as i,f as d,am as K,w as s,l as I,e as v,i as L,_ as G,b as A,t as H,at as y,C as g,b5 as O,L as P,h as j,k as B}from"./index-H6QnEWHf.js";import{a as $}from"./menu-Tj77A3rN.js";import q from"./index-B0t_fvSL.js";import"./index-ZJJ9iwuL.js";import"./index.vue_vue_type_script_setup_true_lang-CW0fgqfj.js";import"./index.vue_vue_type_script_setup_true_lang-B92B4tJk.js";import"./index.vue_vue_type_script_setup_true_lang-ChpqWgwo.js";import"./useNonce-BgbsT9jy.js";import"./clamp-BstbYvQo.js";import"./sortable.esm-DqU0xpXh.js";const J={class:"absolute size-full flex flex-col"},Q={class:"relative flex flex-1 flex-col overflow-auto"},U={class:"custom-tree-node"},W=["title"],X={class:"text"},Y={class:"actions"},Z={key:1,class:"flex-center flex-1 text-3xl text-primary/50"},z=R({__name:"index",setup(ee){const u=V("treeRef"),f=h([]),a=h({visible:!1,id:"",parentId:""});function x(){$.list().then(l=>{f.value=l.data})}D(()=>{x()});function M(l,e){var o;(o=u.value)==null||o.setCurrentKey(l.data.id),a.value={visible:!1,id:"",parentId:""},g(()=>{a.value={visible:!0,id:"",parentId:e.id}})}function b(l,e){var o,t;(t=u.value)==null||t.setCurrentKey((o=l==null?void 0:l.data.id)!=null?o:null),a.value={visible:!1,id:"",parentId:""},g(()=>{var n,c;a.value={visible:!0,id:(n=e==null?void 0:e.id)!=null?n:"",parentId:(c=e==null?void 0:e.parentId)!=null?c:""}})}function S(l,e){var o;(o=u.value)==null||o.setCurrentKey(l.data.id),O.confirm("确认删除「".concat(e.meta.title,"」吗？"),"确认信息").then(()=>{$.delete(e.id).then(()=>{P.success("模拟删除成功");const t=l.parent,n=(t==null?void 0:t.data.children)||(t==null?void 0:t.data),c=n.findIndex(k=>k.id===e.id);n.splice(c,1),f.value=[...f.value]})})}function w(){a.value={visible:!1,id:"",parentId:""},x()}return(l,e)=>{const o=K,t=m("ElButton"),n=G,c=m("ElButtonGroup"),k=m("ElTree"),T=m("ElScrollbar"),F=N;return _(),E("div",J,[i(o,{title:"导航管理",description:"页面数据为 Mock 示例数据，非真实数据。",class:"mb-0"}),d("div",Q,[i(F,{"hide-left-side-toggle":"",class:"static","left-side-class":"h-full flex flex-col gap-4","default-class":"flex-col-center p-0 size-full"},{leftSide:s(()=>[i(c,{class:"inline-flex"},{default:s(()=>[i(t,{type:"primary",class:"w-full",onClick:e[0]||(e[0]=p=>b())},{default:s(()=>[...e[1]||(e[1]=[L(" 新增主导航 ",-1)])]),_:1}),i(t,{onClick:x},{icon:s(()=>[i(n,{name:"i-ep:refresh"})]),_:1})]),_:1}),i(T,{class:"tree"},{default:s(()=>[i(k,{ref_key:"treeRef",ref:u,data:v(f),"node-key":"id","default-expand-all":""},{default:s(({node:p,data:r})=>[d("div",U,[d("div",{class:"label",title:r.meta.title},[r.meta.icon?(_(),I(n,{key:0,name:r.meta.icon,class:"size-4",style:{"margin-inline-end":"5px"}},null,8,["name"])):A("",!0),d("div",X,H(r.meta.title),1)],8,W),d("div",Y,[i(c,null,{default:s(()=>[i(t,{type:"primary",plain:"",size:"small",onClick:y(C=>M(p,r),["stop"])},{icon:s(()=>[i(n,{name:"i-ep:plus"})]),_:1},8,["onClick"]),i(t,{type:"info",plain:"",size:"small",onClick:y(C=>b(p,r),["stop"])},{icon:s(()=>[i(n,{name:"i-ep:edit"})]),_:1},8,["onClick"]),i(t,{type:"danger",plain:"",size:"small",onClick:y(C=>S(p,r),["stop"])},{icon:s(()=>[i(n,{name:"i-ep:delete"})]),_:1},8,["onClick"])]),_:2},1024)])])]),_:1},8,["data"])]),_:1})]),default:s(()=>[v(a).visible?(_(),I(q,{key:0,id:v(a).id,"parent-id":v(a).parentId,onOnSubmit:w},null,8,["id","parent-id"])):(_(),E("div",Z," 请在左侧新增或编辑一个导航 "))]),_:1})])])}}});typeof B=="function"&&B(z);const fe=j(z,[["__scopeId","data-v-eafca184"]]);export{fe as default};
