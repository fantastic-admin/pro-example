
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{_ as o}from"./index.vue_vue_type_script_setup_true_lang-dmrcc3Eo.js";import{d as i,c as s,o as m,k as e,aa as c,m as t,a,W as l}from"./index-Bnionyve.js";import{_ as f}from"./_demo1.vue_vue_type_script_setup_true_lang-EtWrHzFp.js";import d from"./_demo2-DGmIaTMz.js";import"./index-Ci0lfOFO.js";import"./index.vue_vue_type_script_setup_true_lang-Bvw5W0ip.js";import"./index-BoypW2lk.js";const p='<script setup lang="ts">\nconst activeIndex = ref<number>(0)\n<\/script>\n\n<template>\n  <FaButtonGroup>\n    <FaButton v-for="index in 4" :key="index" :variant="activeIndex === index - 1 ? \'default\' : \'outline\'" @click="activeIndex = index - 1">\n      切换到 {{ index }}\n    </FaButton>\n  </FaButtonGroup>\n  <FaSmoothSwipe :active-index>\n    <div class="h-50 flex-center text-20">\n      1\n    </div>\n    <div class="h-150 flex-center text-20">\n      2\n    </div>\n    <div class="h-100 flex-center text-20">\n      3\n    </div>\n    <div class="h-50 flex-center text-20">\n      4\n    </div>\n  </FaSmoothSwipe>\n</template>\n',u='<script setup lang="ts">\nimport type { FormInstance, FormRules } from \'element-plus\'\nimport { ElMessage } from \'element-plus\'\n\nconst activeIndex = ref<number>(0)\n\n// 表单数据\nconst formData = reactive({\n  // 第一步：基本信息\n  name: \'\',\n  email: \'\',\n  phone: \'\',\n  // 第二步：详细信息\n  company: \'\',\n  position: \'\',\n  department: \'\',\n  // 第三步：确认信息\n  agree: false,\n  newsletter: false,\n})\n\n// 表单引用\nconst formRef1 = ref<FormInstance>()\nconst formRef2 = ref<FormInstance>()\nconst formRef3 = ref<FormInstance>()\n\n// 表单验证规则\nconst formRules = reactive<FormRules>({\n  name: [\n    { required: true, message: \'请输入姓名\', trigger: \'blur\' },\n    { min: 2, max: 20, message: \'姓名长度在 2 到 20 个字符\', trigger: \'blur\' },\n  ],\n  email: [\n    { required: true, message: \'请输入邮箱地址\', trigger: \'blur\' },\n    { type: \'email\', message: \'请输入正确的邮箱地址\', trigger: \'blur\' },\n  ],\n  company: [\n    { required: true, message: \'请输入公司名称\', trigger: \'blur\' },\n  ],\n  position: [\n    { required: true, message: \'请输入职位\', trigger: \'blur\' },\n  ],\n  department: [\n    { required: true, message: \'请输入部门\', trigger: \'blur\' },\n  ],\n  agree: [\n    {\n      validator: (_rule, value, callback) => {\n        if (!value) {\n          callback(new Error(\'请同意用户协议\'))\n        }\n        else {\n          callback()\n        }\n      },\n      trigger: \'change\',\n    },\n  ],\n})\n\n// 获取当前步骤需要验证的字段\nfunction getCurrentStepFields() {\n  const stepFields = [\n    [\'name\', \'email\', \'phone\'],\n    [\'company\', \'position\', \'department\'],\n    [\'agree\'],\n  ]\n  return stepFields[activeIndex.value] || []\n}\n\n// 获取当前步骤的表单引用\nfunction getCurrentFormRef() {\n  const formRefs = [formRef1, formRef2, formRef3]\n  return formRefs[activeIndex.value]?.value\n}\n\n// 下一步\nasync function nextStep() {\n  if (activeIndex.value < 2) {\n    // 验证当前步骤\n    const currentFields = getCurrentStepFields()\n    if (currentFields.length > 0) {\n      try {\n        const currentFormRef = getCurrentFormRef()\n        await currentFormRef?.validateField(currentFields)\n        activeIndex.value++\n      }\n      catch {\n        // 验证失败，不进入下一步\n      }\n    }\n    else {\n      activeIndex.value++\n    }\n  }\n}\n\n// 上一步\nfunction prevStep() {\n  if (activeIndex.value > 0) {\n    activeIndex.value--\n  }\n}\n\n// 提交表单\nasync function submitForm() {\n  try {\n    // 验证所有表单\n    await Promise.all([\n      formRef1.value?.validate(),\n      formRef2.value?.validate(),\n      formRef3.value?.validate(),\n    ])\n    ElMessage.success(\'表单提交成功！\')\n    // console.log(\'表单数据：\', formData)\n  }\n  catch {\n    ElMessage.error(\'请检查表单信息\')\n  }\n}\n\n// 重置表单\nfunction resetForm() {\n  formRef1.value?.resetFields()\n  formRef2.value?.resetFields()\n  formRef3.value?.resetFields()\n  activeIndex.value = 0\n}\n<\/script>\n\n<template>\n  <div class="mx-auto max-w-2xl">\n    <FaSmoothSwipe :active-index>\n      <div class="pb-1">\n        <h3 class="mb-4 text-center text-lg font-semibold">\n          基本信息\n        </h3>\n        <el-form\n          ref="formRef1"\n          :model="formData"\n          :rules="formRules"\n          label-width="100px"\n        >\n          <el-form-item label="姓名" prop="name">\n            <el-input\n              v-model="formData.name"\n              placeholder="请输入您的姓名"\n              clearable\n            />\n          </el-form-item>\n          <el-form-item label="邮箱" prop="email">\n            <el-input\n              v-model="formData.email"\n              placeholder="请输入您的邮箱地址"\n              clearable\n            />\n          </el-form-item>\n        </el-form>\n      </div>\n      <div class="pb-1">\n        <h3 class="mb-4 text-center text-lg font-semibold">\n          详细信息\n        </h3>\n        <el-form\n          ref="formRef2"\n          :model="formData"\n          :rules="formRules"\n          label-width="100px"\n        >\n          <el-form-item label="公司名称" prop="company">\n            <el-input\n              v-model="formData.company"\n              placeholder="请输入您的公司名称"\n              clearable\n            />\n          </el-form-item>\n          <el-form-item label="职位" prop="position">\n            <el-input\n              v-model="formData.position"\n              placeholder="请输入您的职位"\n              clearable\n            />\n          </el-form-item>\n          <el-form-item label="部门" prop="department">\n            <el-select\n              v-model="formData.department"\n              placeholder="请选择您的部门"\n              clearable\n              class="w-full"\n            >\n              <el-option label="技术部" value="技术部" />\n              <el-option label="产品部" value="产品部" />\n              <el-option label="设计部" value="设计部" />\n              <el-option label="运营部" value="运营部" />\n              <el-option label="市场部" value="市场部" />\n              <el-option label="人事部" value="人事部" />\n              <el-option label="财务部" value="财务部" />\n              <el-option label="其他" value="其他" />\n            </el-select>\n          </el-form-item>\n        </el-form>\n      </div>\n      <div class="pb-1">\n        <h3 class="mb-4 text-center text-lg font-semibold">\n          确认信息\n        </h3>\n        <div class="mb-4 rounded-lg bg-muted/50 p-4 space-y-2">\n          <div class="flex justify-between">\n            <span class="text-muted-foreground">姓名：</span>\n            <span class="font-medium">{{ formData.name || \'未填写\' }}</span>\n          </div>\n          <div class="flex justify-between">\n            <span class="text-muted-foreground">邮箱：</span>\n            <span class="font-medium">{{ formData.email || \'未填写\' }}</span>\n          </div>\n          <div class="flex justify-between">\n            <span class="text-muted-foreground">公司名称：</span>\n            <span class="font-medium">{{ formData.company || \'未填写\' }}</span>\n          </div>\n          <div class="flex justify-between">\n            <span class="text-muted-foreground">职位：</span>\n            <span class="font-medium">{{ formData.position || \'未填写\' }}</span>\n          </div>\n          <div class="flex justify-between">\n            <span class="text-muted-foreground">部门：</span>\n            <span class="font-medium">{{ formData.department || \'未填写\' }}</span>\n          </div>\n        </div>\n        <el-form\n          ref="formRef3"\n          :model="formData"\n          :rules="formRules"\n          label-width="10px"\n        >\n          <el-form-item prop="agree">\n            <el-checkbox v-model="formData.agree">\n              我已阅读并同意\n              <el-link type="primary" href="#" target="_blank">\n                《用户协议》\n              </el-link>\n              和\n              <el-link type="primary" href="#" target="_blank">\n                《隐私政策》\n              </el-link>\n            </el-checkbox>\n          </el-form-item>\n          <el-form-item>\n            <el-checkbox v-model="formData.newsletter">\n              订阅我们的新闻通讯，获取最新产品信息\n            </el-checkbox>\n          </el-form-item>\n        </el-form>\n      </div>\n    </FaSmoothSwipe>\n    <!-- 操作按钮 -->\n    <div class="mt-6 flex justify-between">\n      <div class="flex space-x-2">\n        <el-button\n          v-if="activeIndex > 0"\n          :disabled="activeIndex === 0"\n          @click="prevStep"\n        >\n          上一步\n        </el-button>\n        <el-button variant="outline" @click="resetForm">\n          重置\n        </el-button>\n      </div>\n\n      <div class="flex space-x-2">\n        <el-button\n          v-if="activeIndex < 2"\n          type="primary"\n          @click="nextStep"\n        >\n          下一步\n        </el-button>\n        <el-button\n          v-if="activeIndex === 2"\n          type="primary"\n          @click="submitForm"\n        >\n          提交\n        </el-button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.step-actions {\n  padding-top: 20px;\n  border-top: 1px solid hsl(var(--border));\n}\n</style>\n',v=i({__name:"index",setup(x){return(b,g)=>{const r=c,n=o;return m(),s("div",null,[e(r,{title:"平滑滑动",description:"FaSmoothSwipe"}),e(n,{code:a(p)},{default:t(()=>[e(f)]),_:1},8,["code"]),e(n,{title:"表单应用",code:a(u)},{default:t(()=>[e(d)]),_:1},8,["code"])])}}});typeof l=="function"&&l(v);export{v as default};
