
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{rasterize as u}from"./rasterize-JS5G2XHH-BZwhFOuX.js";import{l as g}from"./index-CVFwfjqr.js";import"./toCanvas-BpvaQ28d.js";import"./index-H6QnEWHf.js";import"./index.vue_vue_type_script_setup_true_lang-CfFfwFlx.js";import"./index.vue_vue_type_script_setup_true_lang-KWURIfPl.js";import"./index.vue_vue_type_script_setup_true_lang-CW0fgqfj.js";import"./index.vue_vue_type_script_setup_true_lang-BoQ-Tlfp.js";import"./index.vue_vue_type_script_setup_true_lang-BnHOlB0K.js";import"./useGraceArea-DMfrKGwH.js";import"./clamp-BstbYvQo.js";import"./useFormControl-Su_HZn2q.js";import"./VisuallyHiddenInput-CUkjjV_e.js";import"./index-ClELmDgR.js";async function C(i,p){let{scale:s=1,width:m,height:o,meta:e={}}=p,n=Number.isFinite(m),l=Number.isFinite(o),d=Number.isFinite(s)&&s!==1||n||l;if(g()&&d)return await u(i,{...p,format:"png",quality:1,meta:e});let t=new Image;if(t.decoding="sync",t.loading="eager",t.src=i,await t.decode(),n&&l)t.style.width="".concat(m,"px"),t.style.height="".concat(o,"px");else if(n){let r=Number.isFinite(e.w0)?e.w0:t.naturalWidth,a=Number.isFinite(e.h0)?e.h0:t.naturalHeight,h=m/Math.max(1,r);t.style.width="".concat(m,"px"),t.style.height="".concat(Math.round(a*h),"px")}else if(l){let r=Number.isFinite(e.w0)?e.w0:t.naturalWidth,a=Number.isFinite(e.h0)?e.h0:t.naturalHeight,h=o/Math.max(1,a);t.style.height="".concat(o,"px"),t.style.width="".concat(Math.round(r*h),"px")}else{let r=Math.round(t.naturalWidth*s),a=Math.round(t.naturalHeight*s);if(t.style.width="".concat(r,"px"),t.style.height="".concat(a,"px"),typeof i=="string"&&i.startsWith("data:image/svg+xml"))try{let h=decodeURIComponent(i.split(",")[1]).replace(/width="[^"]*"/,'width="'.concat(r,'"')).replace(/height="[^"]*"/,'height="'.concat(a,'"'));i="data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(h)),t.src=i}catch(h){}}return t}export{C as toImg,C as toSvg};
