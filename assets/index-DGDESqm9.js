
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{d as V,x as j,bn as $,c as d,o as n,M as S,e as r,J as q,a as H,aV as J,aw as K,g as o,l as v,b as y,am as R,w as s,i as t,j as U,f as a,F as W,q as z,m as G,t as B,W as C,L as x,k as A}from"./index-H6QnEWHf.js";import{_ as I}from"./index.vue_vue_type_script_setup_true_lang-ByxJxKu_.js";const O={class:"contents"},Q=V({name:"FaAuth",__name:"index",props:{value:{},all:{type:Boolean}},setup(F){const i=F,u=j(()=>i.all?$().authAll(typeof i.value=="string"?[i.value]:i.value):$().auth(i.value));return(g,P)=>(n(),d("div",O,[r(u)?S(g.$slots,"default",{key:0}):S(g.$slots,"no-auth",{key:1})]))}}),X={class:"space-y-2"},Y={class:"space-x-2"},Z={class:"flex-col-start space-y-2"},c={class:"text-sm space-y-2"},h={class:"space-y-2"},ee={class:"space-x-2"},se={class:"space-x-2"},te=V({name:"PermissionExample",__name:"index",setup(F){const i=q(),u=H(),g=J(),{auth:P,authAll:N}=$();async function D(f){await g.login({account:f,password:""}),location.reload()}function E(){i.push({name:"permissionExampleTest"})}function _(f){P(f)?x.success("校验通过",{position:"top-center"}):x.error("校验不通过",{position:"top-center"})}function T(f){N(f)?x.success("校验通过",{position:"top-center"}):x.error("校验不通过",{position:"top-center"})}return(f,e)=>{const L=R,m=U,b=G,l=I,w=Q,k=K("auth");return n(),d("div",null,[o(L,{title:"权限验证"}),r(u).settings.app.enablePermission?(n(),v(m,{key:1,title:"切换账号"},{default:s(()=>[a("div",X,[a("div",Y,[(n(),d(W,null,z([{label:"admin",value:"admin"},{label:"test",value:"test"},{label:"hooray(无权限)",value:"hooray"}],(p,M)=>o(b,{key:M,variant:r(g).account===p.value?"default":"outline",onClick:oe=>D(p.value)},{default:s(()=>[t(B(p.label),1)]),_:2},1032,["variant","onClick"])),64))]),a("div",null,"当前账号权限："+B(r(g).permissions),1)])]),_:1})):(n(),v(m,{key:0},{default:s(()=>[...e[4]||(e[4]=[t(" 请到 settings.ts 里设置并开启权限功能，再进入该页面查看演示 ",-1)])]),_:1})),r(u).settings.app.enablePermission?(n(),v(m,{key:2,title:"路由鉴权"},{default:s(()=>[o(b,{onClick:E},{default:s(()=>[...e[5]||(e[5]=[t(" 跳转页面 ",-1)])]),_:1})]),_:1})):y("",!0),r(u).settings.app.enablePermission?(n(),v(m,{key:3,title:"鉴权指令"},{default:s(()=>[a("div",Z,[C((n(),d("div",null,[...e[6]||(e[6]=[t(" 如果你有 pages.general:browse 权限则能看到这句话 ",-1)])])),[[k,"pages.general:browse"]]),C((n(),d("div",null,[...e[7]||(e[7]=[t(" 如果你有 pages.form:browse 权限则能看到这句话 ",-1)])])),[[k,"pages.form:browse"]]),C((n(),d("div",null,[...e[8]||(e[8]=[t(" 如果你有 pages.general:browse 或 pages.form:browse 权限则能看到这句话 ",-1)])])),[[k,["pages.general:browse","pages.form:browse"]]]),C((n(),d("div",null,[...e[9]||(e[9]=[t(" 如果你有 pages.general:browse 和 pages.form:browse 权限则能看到这句话 ",-1)])])),[[k,["pages.general:browse","pages.form:browse"],void 0,{all:!0}]])])]),_:1})):y("",!0),r(u).settings.app.enablePermission?(n(),v(m,{key:4,title:"鉴权组件"},{default:s(()=>[a("div",c,[a("div",null,[e[12]||(e[12]=t(" 你 ",-1)),o(w,{value:"pages.general:browse"},{"no-auth":s(()=>[o(l,null,{default:s(()=>[...e[11]||(e[11]=[t("没有",-1)])]),_:1})]),default:s(()=>[o(l,null,{default:s(()=>[...e[10]||(e[10]=[t("有",-1)])]),_:1})]),_:1}),e[13]||(e[13]=t(" pages.general:browse 权限 ",-1))]),a("div",null,[e[16]||(e[16]=t(" 你 ",-1)),o(w,{value:"pages.form:browse"},{"no-auth":s(()=>[o(l,null,{default:s(()=>[...e[15]||(e[15]=[t("没有",-1)])]),_:1})]),default:s(()=>[o(l,null,{default:s(()=>[...e[14]||(e[14]=[t("有",-1)])]),_:1})]),_:1}),e[17]||(e[17]=t(" pages.form:browse 权限 ",-1))]),a("div",null,[e[20]||(e[20]=t(" 你 ",-1)),o(w,{value:["pages.general:browse","pages.form:browse"]},{"no-auth":s(()=>[o(l,null,{default:s(()=>[...e[19]||(e[19]=[t("没有",-1)])]),_:1})]),default:s(()=>[o(l,null,{default:s(()=>[...e[18]||(e[18]=[t("有",-1)])]),_:1})]),_:1}),e[21]||(e[21]=t(" pages.general:browse 或 pages.form:browse 权限 ",-1))]),a("div",null,[e[24]||(e[24]=t(" 你 ",-1)),o(w,{value:["pages.general:browse","pages.form:browse"],all:""},{"no-auth":s(()=>[o(l,null,{default:s(()=>[...e[23]||(e[23]=[t("没有",-1)])]),_:1})]),default:s(()=>[o(l,null,{default:s(()=>[...e[22]||(e[22]=[t("有",-1)])]),_:1})]),_:1}),e[25]||(e[25]=t(" pages.general:browse 和 pages.form:browse 权限 ",-1))])])]),_:1})):y("",!0),r(u).settings.app.enablePermission?(n(),v(m,{key:5,title:"鉴权函数"},{default:s(()=>[a("div",h,[a("div",ee,[o(b,{variant:"outline",onClick:e[0]||(e[0]=p=>_("pages.general:browse"))},{default:s(()=>[...e[26]||(e[26]=[t(" 校验 pages.general:browse 权限 ",-1)])]),_:1}),o(b,{variant:"outline",onClick:e[1]||(e[1]=p=>_("pages.form:browse"))},{default:s(()=>[...e[27]||(e[27]=[t(" 校验 pages.form:browse 权限 ",-1)])]),_:1})]),a("div",se,[o(b,{variant:"outline",onClick:e[2]||(e[2]=p=>_(["pages.general:browse","pages.form:browse"]))},{default:s(()=>[...e[28]||(e[28]=[t(" 校验 pages.general:browse 或 pages.form:browse 权限 ",-1)])]),_:1}),o(b,{variant:"outline",onClick:e[3]||(e[3]=p=>T(["pages.general:browse","pages.form:browse"]))},{default:s(()=>[...e[29]||(e[29]=[t(" 校验 pages.general:browse 和 pages.form:browse 权限 ",-1)])]),_:1})])])]),_:1})):y("",!0)])}}});typeof A=="function"&&A(te);export{te as default};
