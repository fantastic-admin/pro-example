
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{_ as V}from"./index.vue_vue_type_script_setup_true_lang-D2eXW8UX.js";import{d as w,ac as R,g as h,Z as D,a4 as m,c as E,o as _,k as l,l as d,aa as G,m as s,N as I,a as v,G as K,P as L,O,p as P,aF as y,ao as g,cn as A,b9 as H,V as W,W as B}from"./index-Bnionyve.js";import{a as $}from"./menu-BAkdgYHt.js";import Z from"./index-C1Keq3iy.js";import"./index-MXWOQYmf.js";import"./index.vue_vue_type_script_setup_true_lang-qwRnxT-f.js";import"./index.vue_vue_type_script_setup_true_lang-DvmhqQa1.js";import"./sortable.esm-BMgLh4Kk.js";const j={class:"absolute size-full flex flex-col"},q={class:"relative flex flex-1 flex-col overflow-auto"},J={class:"custom-tree-node"},Q=["title"],U={class:"text"},X={class:"actions"},Y={key:1,class:"flex-center flex-1 text-3xl text-primary/50"},z=w({__name:"index",setup(ee){const u=R("treeRef"),f=h([]),a=h({visible:!1,id:"",parentId:""});function x(){$.list().then(n=>{f.value=n.data})}D(()=>{x()});function M(n,e){var o;(o=u.value)==null||o.setCurrentKey(n.data.id),a.value={visible:!1,id:"",parentId:""},g(()=>{a.value={visible:!0,id:"",parentId:e.id}})}function b(n,e){var o,t;(t=u.value)==null||t.setCurrentKey((o=n==null?void 0:n.data.id)!=null?o:null),a.value={visible:!1,id:"",parentId:""},g(()=>{var i,c;a.value={visible:!0,id:(i=e==null?void 0:e.id)!=null?i:"",parentId:(c=e==null?void 0:e.parentId)!=null?c:""}})}function S(n,e){var o;(o=u.value)==null||o.setCurrentKey(n.data.id),A.confirm("确认删除「".concat(e.meta.title,"」吗？"),"确认信息").then(()=>{$.delete(e.id).then(()=>{H.success("模拟删除成功");const t=n.parent,i=(t==null?void 0:t.data.children)||(t==null?void 0:t.data),c=i.findIndex(k=>k.id===e.id);i.splice(c,1),f.value=[...f.value]})})}function F(){a.value={visible:!1,id:"",parentId:""},x()}return(n,e)=>{const o=G,t=m("ElButton"),i=L,c=m("ElButtonGroup"),k=m("ElTree"),N=m("ElScrollbar"),T=V;return _(),E("div",j,[l(o,{title:"导航管理",description:"页面数据为 Mock 示例数据，非真实数据。",class:"mb-0"}),d("div",q,[l(T,{"hide-left-side-toggle":"",class:"static","left-side-class":"h-full flex flex-col gap-4","default-class":"flex-col-center p-0 size-full"},{leftSide:s(()=>[l(c,{class:"inline-flex"},{default:s(()=>[l(t,{type:"primary",class:"w-full",onClick:e[0]||(e[0]=p=>b())},{default:s(()=>[...e[1]||(e[1]=[K(" 新增主导航 ",-1)])]),_:1}),l(t,{onClick:x},{icon:s(()=>[l(i,{name:"i-ep:refresh"})]),_:1})]),_:1}),l(N,{class:"tree"},{default:s(()=>[l(k,{ref_key:"treeRef",ref:u,data:v(f),"node-key":"id","default-expand-all":""},{default:s(({node:p,data:r})=>[d("div",J,[d("div",{class:"label",title:r.meta.title},[r.meta.icon?(_(),I(i,{key:0,name:r.meta.icon,class:"size-4",style:{"margin-inline-end":"5px"}},null,8,["name"])):O("",!0),d("div",U,P(r.meta.title),1)],8,Q),d("div",X,[l(c,null,{default:s(()=>[l(t,{type:"primary",plain:"",size:"small",onClick:y(C=>M(p,r),["stop"])},{icon:s(()=>[l(i,{name:"i-ep:plus"})]),_:1},8,["onClick"]),l(t,{type:"info",plain:"",size:"small",onClick:y(C=>b(p,r),["stop"])},{icon:s(()=>[l(i,{name:"i-ep:edit"})]),_:1},8,["onClick"]),l(t,{type:"danger",plain:"",size:"small",onClick:y(C=>S(p,r),["stop"])},{icon:s(()=>[l(i,{name:"i-ep:delete"})]),_:1},8,["onClick"])]),_:2},1024)])])]),_:1},8,["data"])]),_:1})]),default:s(()=>[v(a).visible?(_(),I(Z,{key:0,id:v(a).id,"parent-id":v(a).parentId,onOnSubmit:F},null,8,["id","parent-id"])):(_(),E("div",Y," 请在左侧新增或编辑一个导航 "))]),_:1})])])}}});typeof B=="function"&&B(z);const re=W(z,[["__scopeId","data-v-eafca184"]]);export{re as default};
