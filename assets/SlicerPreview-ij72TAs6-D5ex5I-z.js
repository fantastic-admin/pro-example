
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{bv as et,M as s,g as d,a1 as Q,Z as lt,af as He,cx as vl,ao as ge,c as i,o as n,l as $,O as v,r as ml,U as L,k as tt,w as cl,a as ke,R as f,S as C,D as dl,B as hl,n as Y,bC as pl,aP as fl,p as De}from"./index-Bnionyve.js";import{s as at,Q as ut,F as it,u as nt,y as rt,K as Te,n as yl,z as xl,X as gl,_ as kl,t as Ml}from"./vue-data-ui-DO-nR8BN.js";import{E as _e,S as ot,M as st}from"./useResponsive-DfdjqQps-DzVAt69W.js";const vt={class:"vue-data-ui-slicer-labels",style:{position:"relative","z-index":"1","pointer-events":"none"}},mt={key:0,style:{width:"100%",position:"relative"}},ct={key:0,class:"minimap",style:{width:"100%"}},dt=["xmlns","viewBox"],ht=["id"],pt=["stop-color"],ft=["width","height","stroke"],yt=["d","stroke"],xt=["d","fill"],gt=["x","y","width","height","fill"],kt=["d","stroke"],Mt=["cx","cy","fill","stroke"],bt=["cx","cy","fill","stroke"],wt=["x","width","height","fill","rx"],Ct=["x","width","height","rx","fill"],St=["x","width","height","fill","rx"],Nt=["x2","y1","y2","stroke"],$t={key:"merged-tree"},Pt=["d","fill"],Lt=["d","stroke"],Ft=["cx","cy","stroke","fill"],Vt=["cx","cy","stroke","fill"],At={key:"split-tree"},Rt=["x","y","width","height","fill"],Bt=["d","stroke"],Et=["cx","cy","fill","stroke"],It=["x","height","fill","stroke"],zt=["x","height","fill","stroke"],Ht={key:"merged-tree"},Dt=["cx","cy","stroke","fill"],Tt=["cx","cy","fill"],_t=["cx","cy","stroke","fill"],jt=["cx","cy","fill"],Ot={key:1},Xt=["d","stroke"],Kt=["cx","cy","fill","stroke"],Ut=["cx","cy","stroke","fill"],Wt=["cx","cy","fill"],Zt=["cx","cy","stroke","fill"],qt=["cx","cy","fill"],Gt=["cx","cy","fill","stroke"],Jt=["x","height","width","onMouseenter"],Qt=["min","max"],Yt=["min","max"],je=48,ea={__name:"SlicerPreview",props:{immediate:{type:Boolean,default:!0},background:{type:String,default:"#FFFFFF"},borderColor:{type:String,default:"#FFFFFF"},fontSize:{type:Number,default:14},labelLeft:{type:[String,Number],default:""},labelRight:{type:[String,Number],default:""},textColor:{type:String,default:"#1A1A1A"},inputColor:{type:String,default:"#1A1A1A"},max:{type:Number,default:0},min:{type:Number,default:0},selectColor:{type:String,default:"#4A4A4A"},useResetSlot:{type:Boolean,default:!1},valueStart:{type:[Number,String],default:0},valueEnd:{type:[Number,String],default:0},minimap:{type:Array,default:[]},smoothMinimap:{type:Boolean,default:!1},minimapSelectedColor:{type:String,default:"#1f77b4"},minimapSelectionRadius:{type:Number,default:12},minimapLineColor:{type:String,default:"#2D353C"},minimapSelectedColorOpacity:{type:Number,default:.2},minimapSelectedIndex:{type:Number,default:null},minimapIndicatorColor:{type:String,default:"#2D353C"},refreshStartPoint:{type:Number,default:0},refreshEndPoint:{type:Number,default:null},enableRangeHandles:{type:Boolean,default:!1},enableSelectionDrag:{type:Boolean,default:!0},verticalHandles:{type:Boolean,default:!1},timeLabels:{type:Array},isPreview:{type:Boolean,default:!1},preciseLabels:{type:Array,default(){return[]}},usePreciseLabels:{type:Boolean,default:!1},selectedSeries:{type:Object},customFormat:{type:[Function,null]},minimapCompact:{type:Boolean,default:!1},allMinimaps:{type:Array,default(){return[]}},minimapMerged:{type:Boolean,default:!1},minimapFrameColor:{type:String,default:"#e1e5e8"},cutNullValues:{type:Boolean,default:!1},focusOnDrag:{type:Boolean,default:!1},focusRangeRatio:{type:Number,default:.1}},emits:["futureStart","futureEnd","update:start","update:end","reset","trapMouse"],setup(r,{expose:bl,emit:wl}){et(e=>({v7ba1dbb5:Sl.value,v13976429:p.value,v402e6eda:$l.value,v1866b54e:r.selectColor,v3f0cbb67:Nl.value}));const a=r,S=d(null),y=d(a.min),g=d(a.max),M=s(()=>!!a.minimap.length),Me=d(ut()),_=d(!1),X=s(()=>M.value&&a.minimapCompact),Oe=d(0),be=_e(e=>V("futureStart",e),0),we=_e(e=>V("futureEnd",e),0),ee=s({get:()=>y.value,set(e){const t=Math.min(e,g.value-1);t!==y.value&&(y.value=t,te.value&&(te.value.value=String(t)),a.immediate?V("update:start",Number(t)):_.value&&be(t))}}),le=s({get:()=>g.value,set(e){const t=Math.max(e,y.value+1);t!==g.value&&(g.value=t,ae.value&&(ae.value.value=String(t)),a.immediate?V("update:end",Number(t)):_.value&&we(t))}});let Xe=null;function F(){clearTimeout(Xe),a.immediate||(V("update:start",Number(y.value)),V("update:end",Number(g.value))),_.value=!1}const Cl=s(()=>a.refreshEndPoint===null?a.max:a.refreshEndPoint),V=wl,ce=s(()=>{if(X.value){const t=Math.max(1,U.value-1);return he.value/t*100}const e=Math.max(1,a.max-a.min);return(y.value-a.min)/e*100}),Ce=s(()=>{if(X.value){const t=Math.max(1,U.value-1);return pe.value/t*100}const e=Math.max(1,a.max-a.min);return(g.value-a.min)/e*100}),Se=s(()=>(ce.value+Ce.value)/2),Ne=s(()=>{if(!S.value)return!1;const e=Math.max(1,a.max-a.min);return S.value.getBoundingClientRect().width*((y.value-a.min)/e)-fe.value/2<0}),$e=s(()=>{if(!S.value)return!1;const e=Math.max(1,a.max-a.min),t=S.value.getBoundingClientRect().width;return t*((g.value-a.min)/e)+re.value/2>t}),P=s(()=>{const e=$e.value?"calc(".concat(Se.value,"% - ").concat(se.value.width,"px - 2px)"):Ne.value?"calc(".concat(Se.value,"% - 8px)"):"calc(".concat(Se.value,"% - ").concat(se.value.width/2,"px - 4px)");return{left:"".concat(ce.value,"%"),width:"".concat(Math.max(0,Ce.value-ce.value),"%"),background:a.selectColor,tooltipLeft:"calc(".concat(ce.value,"% - ").concat(Ne.value?9:fe.value/2+3.5,"px)"),tooltipRight:"calc(".concat(Ce.value,"% - ").concat($e.value?re.value-9:re.value/2-3.5,"px)"),tooltipCenter:e,arrowLeft:!Ne.value,arrowRight:!$e.value}}),Sl=s(()=>a.inputColor),Nl=s(()=>a.background),$l=s(()=>"".concat(a.selectColor,"33")),p=s(()=>a.borderColor),Ke=s(()=>{let e=[];for(let t=0;t<a.max;t+=1)e.push(t);return e});function Ue(){V("reset")}Q(()=>a.min,e=>{Number(y.value)<Number(e)&&(y.value=Number(e)),Number(g.value)<Number(e)&&(g.value=Number(e))}),Q(()=>a.max,e=>{Number(y.value)>Number(e)&&(y.value=Number(e)),Number(g.value)>Number(e)&&(g.value=Number(e))});const de=d(null),h=d({width:1,height:1}),K=d(null);lt(()=>{if(M.value){const e=_e(()=>{if(!de.value)return;const{width:t,height:l}=st({chart:de.value}),u=Math.max(0,Math.round(t)),o=Math.max(0,Math.round(l-47));(u!==h.value.width||o!==h.value.height)&&(h.value.width=u,h.value.height=o)},0);K.value=new ResizeObserver(e),K.value.observe(de.value)}}),He(()=>{K.value&&K.value.disconnect()});const U=s(()=>Math.max(1,a.max-a.min));function We(e){const t=Math.floor(e-a.min);return Math.min(Math.max(0,t),U.value)}function Pl(e){const t=Math.ceil(e-a.min);return Math.min(Math.max(0,t),U.value)}const j=s(()=>We(y.value)),W=s(()=>Pl(g.value)),Pe=s(()=>Math.max(...a.allMinimaps.map(e=>e.series.length))),k=s(()=>{if(!a.minimap.length)return 0;const e=Math.max(1,Pe.value-(a.minimapCompact?1:0));return h.value.width/e}),Ze=s(()=>a.allMinimaps.length?a.allMinimaps.filter(e=>e.type==="bar").length:0),Le=s(()=>k.value/(Ze.value||1)*.8);function qe(e,t,l){const u=Le.value,o=Math.max(1,Ze.value),c=Pe.value-1;return l===0?e+u/2*t:l===c?e-u/2*(o-t):e-o*u/2+t*u}function Ge(e,t){return[0,Pe.value-1].includes(t)?Le.value/2:Le.value}const Je=s(()=>{const e=[];if(Array.isArray(a.minimap)&&a.minimap.length&&a.minimapMerged&&e.push(...a.minimap.filter(Number.isFinite)),Array.isArray(a.allMinimaps)&&a.allMinimaps.length)for(const t of a.allMinimaps)t!=null&&t.isVisible&&Array.isArray(t==null?void 0:t.series)&&e.push(...t.series.filter(Number.isFinite));return e.length?{min:Math.min(...e),max:Math.max(...e)}:{min:0,max:1}}),Z=s(()=>Je.value.min),q=s(()=>Je.value.max),Ll=s(()=>Z.value<0&&q.value>0||q.value<=0?Z.value:0),Fl=s(()=>Math.max(1e-9,Math.max(Math.abs(Z.value),Math.abs(q.value)))),Vl=s(()=>Z.value<0&&q.value>0),Al=e=>{const t=Math.max(1,h.value.height);if(Vl.value){const l=Fl.value;return(1-(Math.max(-1,Math.min(1,e/l))+1)/2)*t}else{const l=Math.min(0,Z.value),u=Math.max(0,q.value);return t-(e-l)/Math.max(1e-9,u-l)*t}},Fe=s(()=>Al(0));function Rl(e,t,l){const u=(o,c,A)=>Math.max(c,Math.min(A,o));if(t<=0){const o=Math.max(1e-9,0-e);return c=>l-(c-e)/o*l}else if(e>=0){const o=Math.max(1e-9,t-0);return c=>l-(c-0)/o*l}else{const o=Math.max(1e-9,Math.max(Math.abs(e),Math.abs(t)));return c=>(1-(u(c/o,-1,1)+1)/2)*l}}function Qe(e,t=!1){if(!e||!e.length)return{fullSet:"",points:[],selectionSet:"",sliced:[],firstPlot:null,lastPlot:null,hasFull:!1,hasSelection:!1,fullMarkers:[],selectionMarkers:[]};const l=Math.max(1,h.value.height),u=Rl(Z.value,q.value,l),o=e.length,c=Math.min(Math.max(0,j.value),Math.max(0,o-1)),A=Math.min(o,Math.max(c+1,W.value)),w=e.map((x,ve)=>{const me=x,sl=Number.isFinite(me),Ql=k.value*ve+(a.minimapCompact?0:k.value/2),Yl=u(0);return{x:Ql,y:sl?u(me):NaN,v:me,value:me==null?null:sl?me:null,y0:Yl,i:ve}}),ye=x=>{var ve;return x>=0&&x<w.length&&Number.isFinite((ve=w[x])==null?void 0:ve.value)},T=w.filter(x=>Number.isFinite(x.value)&&!ye(x.i-1)&&!ye(x.i+1)),xe=T.filter(x=>x.i>=c&&x.i<A),O=w.slice(c,A),Gl=w.length>=2?a.smoothMinimap||t?a.cutNullValues?yl(w):xl(w.filter(x=>x.value!=null)):a.cutNullValues?gl(w):kl(w.filter(x=>x.value!=null)):"",Jl=O.length>=2?a.smoothMinimap||t?a.cutNullValues?yl(O):xl(O.filter(x=>x.value!=null)):a.cutNullValues?gl(O):kl(O.filter(x=>x.value!=null)):"";return{fullSet:Gl,points:w,selectionSet:Jl,sliced:O,firstPlot:w[c]||null,lastPlot:w[Math.max(0,A-1)]||null,hasFull:w.length>=2,hasSelection:O.length>=2,fullMarkers:T,selectionMarkers:xe}}const m=s(()=>a.minimap.length?Qe(a.minimap):[]),R=s(()=>a.allMinimaps.length?a.allMinimaps.map((e,t)=>{var o,c;const l=Qe((e==null?void 0:e.series)||[],!!e.smooth),u=(c=(o=e==null?void 0:e.id)!=null?o:e==null?void 0:e.name)!=null?c:t;return{key:typeof u=="object"?JSON.stringify(u):String(u),color:e==null?void 0:e.color,...l,isVisible:e.isVisible,type:e.type||"line"}}):[]),N=s(()=>{const e=j.value,t=Math.max(e+1,W.value);return{x:k.value*e+(a.minimapCompact?0:k.value/2),width:k.value*(t-e)-k.value}}),B=d(a.minimapSelectedIndex),Ye=e=>Math.round(a.min+e),he=s({get(){return X.value?j.value:Number(ee.value)},set(e){if(X.value){const t=Math.round(+e||0);Ae(Ye(t))}else{let t=Math.round(+e||0);const l=Number(g.value)-1,u=Math.min(Math.max(a.min,t),l);te.value&&(te.value.valueAsNumber=u),Ae(u)}}}),pe=s({get(){return X.value?Math.max(j.value,W.value-1):Number(le.value)},set(e){if(X.value){const t=Math.round(+e||0);Be(Ye(t+1))}else{let t=Math.round(+e||0);const l=Number(y.value)+1,u=Math.max(l,Math.min(t,a.max));ae.value&&(ae.value.valueAsNumber=u),Be(u)}}});function Bl(e){B.value=We(a.valueStart)+e}const El=ot(Bl,60);Q(()=>a.minimapSelectedIndex,(e,t)=>{if([null,void 0].includes(e)){B.value=null;return}e!==t&&El(e)},{immediate:!0});function Il(e){B.value=e;const t=j.value,l=W.value;e>=t&&e<l&&!D.value&&V("trapMouse",e-t)}const te=d(null),ae=d(null);function el(e){if(typeof e=="object"&&e&&"target"in e){const l=e.target,u="valueAsNumber"in l?l.valueAsNumber:+l.value;return Number.isFinite(u)?u:NaN}const t=+e;return Number.isFinite(t)?t:NaN}let Ve=0;function Ae(e){_.value=!0;const t=el(e);Number.isFinite(t)&&(cancelAnimationFrame(Ve),Ve=requestAnimationFrame(()=>{ee.value=t}))}let Re=0;function Be(e){_.value=!0;const t=el(e);Number.isFinite(t)&&(cancelAnimationFrame(Re),Re=requestAnimationFrame(()=>{le.value=t}))}He(()=>{cancelAnimationFrame(Ve),cancelAnimationFrame(Re)});const ue=s(()=>a.valueEnd-a.valueStart),zl=s(()=>ue.value<a.max-a.min),G=d(!1);let Hl=d(null);const Dl=s(()=>(Oe.value-48)/(a.max-a.min)*ue.value),Tl=s(()=>Math.max(1,Oe.value-je-Dl.value)),_l=s(()=>Math.max(1,a.max-a.min-ue.value)),jl=s(()=>_l.value/Tl.value),ll=d(0),tl=d(0),Ol=d(0),Xl=d(0);let E=null,I=null,z=null,H=null;const al=d(a.min);function Ee(e){if(!S.value)return a.min;const t=S.value.getBoundingClientRect(),l=t.left+je/2,u=t.right-je/2,o=Math.max(1,u-l),c=(Math.max(l,Math.min(e,u))-l)/o,A=Math.max(1,a.max-a.min);return Math.round(a.min+c*A)}const ul=async e=>{if(_.value=!0,J.value=!0,!a.enableSelectionDrag)return;const t=e.type==="touchstart";t||e.stopPropagation();const l=t&&e.targetTouches&&e.targetTouches[0]?e.targetTouches[0]:null,u=t?l?l.target:null:e.target;if(!u||!(u instanceof Element)||u.classList&&u.classList.contains("range-handle"))return;G.value=!0;const o=t?l?l.clientX:0:e.clientX;if(Hl.value=o,ll.value=o,a.focusOnDrag&&!zl.value&&S.value){al.value=Ee(o);const c=Math.min(.95,Math.max(.05,a.focusRangeRatio)),A=a.max-a.min,w=Math.max(1,Math.round(A*c)),ye=Math.floor(w/2);let T=al.value-ye;T=Math.max(a.min,Math.min(T,a.max-w));const xe=Math.min(a.max,T+w);ee.value=T,le.value=xe,be(T),we(xe),Ml(S.value,"mouseup"),await ge(),Ml(S.value,"mousedown",{clientX:o})}tl.value=y.value,Ol.value=g.value,Xl.value=jl.value,E=t?"touchmove":"mousemove",I=t?"touchend":"mouseup",z=t?Ul:Kl,H=t?Zl:Wl,window.addEventListener(E,z,{passive:!1}),window.addEventListener(I,H)};function Kl(e){G.value&&il(e.clientX)}function Ul(e){if(!G.value||!S.value)return;const t=e.target;if(!(t instanceof Element)||!S.value.contains(t)||t.classList&&t.classList.contains("range-handle"))return;e.preventDefault();const l=e.targetTouches&&e.targetTouches[0]?e.targetTouches[0]:null;l&&il(l.clientX)}function il(e){if(!G.value)return;const t=Ee(ll.value),l=Ee(e)-t;let u=Math.round(tl.value+l);u=Math.max(a.min,Math.min(u,a.max-ue.value));const o=u+ue.value;ee.value=u,le.value=o,be(u),we(o)}function Wl(){nl()}function Zl(){nl()}function nl(){G.value=!1,E&&z&&window.removeEventListener(E,z),I&&H&&window.removeEventListener(I,H),E=I=null,z=H=null,F()}const D=d(!1),ie=d(null),ne=d(null),fe=d(1),re=d(1),J=d(!1);function Ie(){if(ie.value){const e=Math.round(ie.value.getBoundingClientRect().width);e!==fe.value&&(fe.value=e)}}function ze(){if(ne.value){const e=Math.round(ne.value.getBoundingClientRect().width);e!==re.value&&(re.value=e)}}vl(()=>{Ie(),ze()});const rl=d(0);function ol(e){rl.value=e==="start"?1:0}const oe=d(!1),se=d({width:0,left:0});Q([y,g],async()=>{if(await ge(),!ie.value||!ne.value){oe.value=!1,se.value={width:0,left:0};return}const e=ie.value.getBoundingClientRect(),t=ne.value.getBoundingClientRect();oe.value=e.x+e.width>t.x;const l=e.x+e.width/2,u=t.x+t.width/2,o=e.width+t.width,c=(l+u)/2;se.value={width:o,left:c-o/2}}),vl(()=>{Ie(),ze()}),Q(()=>a.labelLeft,()=>{ge(Ie)},{deep:!0}),Q(()=>a.labelRight,()=>{ge(ze)},{deep:!0});const b=s(()=>{let e="",t="",l=!1;if(it(a.customFormat))try{const u=a.customFormat({absoluteIndex:y.value,seriesIndex:y.value,datapoint:a.selectedSeries,timeLabel:a.preciseLabels[y.value]}),o=a.customFormat({absoluteIndex:g.value-1,seriesIndex:-1,datapoint:a.selectedSeries,timeLabel:a.preciseLabels[g.value-1]});typeof u=="string"&&typeof o=="string"&&(e=u,t=o,l=!0)}catch(u){l=!1}if(!l){const u=a.usePreciseLabels?a.preciseLabels.find(c=>c.absoluteIndex===y.value):a.timeLabels.find(c=>c.absoluteIndex===y.value),o=a.usePreciseLabels?a.preciseLabels.find(c=>c.absoluteIndex===g.value-1):a.timeLabels.find(c=>c.absoluteIndex===g.value-1);e=u?u.text:"",t=o?o.text:""}return{left:e,right:t}});He(()=>{K.value&&K.value.disconnect(),E&&z&&window.removeEventListener(E,z),I&&H&&window.removeEventListener(I,H),E=I=null,z=H=null,clearTimeout(Xe)});const ql=s(()=>{if(!Ke.value.length)return null;if(B.value>=j.value&&B.value<W.value){const e=B.value;return{x1:k.value*e+(a.minimapCompact?0:k.value/2),x2:k.value*e+(a.minimapCompact?0:k.value/2),y1:0,y2:Math.max(h.value.height,0),stroke:a.minimapIndicatorColor,"stroke-linecap":"round","stroke-dasharray":2,"stroke-width":1}}else return null});return bl({setStartValue:Ae,setEndValue:Be}),(e,t)=>(n(),i("div",{"data-dom-to-png-ignore":"",style:{padding:"0 24px"},class:"vue-data-ui-zoom",ref_key:"zoomWrapper",ref:S,onMousedown:ul,onTouchstart:ul},[$("div",vt,[r.valueStart!==r.refreshStartPoint||r.valueEnd!==Cl.value?(n(),i("div",mt,[r.useResetSlot?ml(e.$slots,"reset-action",{key:1,reset:Ue},void 0,!0):(n(),i("button",{key:0,tabindex:"0",role:"button",class:"vue-data-ui-refresh-button",style:L({top:M.value?"36px":"-16px",pointerEvents:"all !important"}),onClick:Ue},[tt(nt,{name:"refresh",stroke:r.textColor},null,8,["stroke"])],4))])):v("",!0)]),$("div",{class:"double-range-slider",ref_key:"minimapWrapper",ref:de,style:{"z-index":"0"},onMouseenter:t[11]||(t[11]=l=>J.value=!0),onMouseleave:t[12]||(t[12]=l=>J.value=!1)},[M.value?(n(),i("div",ct,[(n(),i("svg",{key:"mm-".concat(r.minimapMerged?"merged":"split","-").concat(r.minimapCompact?"compact":"normal"),xmlns:ke(rt),viewBox:"0 0 ".concat(Math.max(0,h.value.width)," ").concat(Math.max(0,h.value.height))},[$("defs",null,[$("linearGradient",{id:Me.value,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[$("stop",{offset:"0%","stop-color":"".concat(r.minimapLineColor,"50")},null,8,pt),t[13]||(t[13]=$("stop",{offset:"100%","stop-color":"transparent"},null,-1))],8,ht)]),r.minimapCompact?(n(),i("rect",{key:0,class:"vue-ui-zoom-minimap-frame",x:0,y:0,width:h.value.width,height:h.value.height,fill:"none",stroke:r.minimapFrameColor,rx:3},null,8,ft)):v("",!0),e.$slots.slotMap?v("",!0):(n(),i(f,{key:1},[r.minimapMerged?(n(),i("path",{key:0,d:"M".concat(m.value.fullSet),stroke:"".concat(r.minimapLineColor),fill:"none","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round",style:{opacity:"0.6"}},null,8,yt)):v("",!0),r.minimapMerged&&!r.minimapCompact?(n(),i("path",{key:1,d:"M".concat(k.value/2,",").concat(Math.max(h.value.height,0)," ").concat(m.value.fullSet," L").concat(h.value.width-k.value/2,",").concat(Math.max(h.value.height,0),"Z"),fill:"url(#".concat(Me.value,")"),stroke:"none",style:{opacity:"0.6"}},null,8,xt)):r.minimapMerged?v("",!0):(n(),i(f,{key:2},[(n(!0),i(f,null,C(R.value.filter(l=>l.type==="bar"),(l,u)=>(n(),i("g",null,[(n(!0),i(f,null,C(l.points,(o,c)=>(n(),i(f,null,[l.isVisible&&!isNaN(o.y)?(n(),i("rect",{key:0,x:qe(o.x,u,c),y:o.v>=0?o.y:o.y0,width:Ge(u,c),height:o.v>=0?o.y0-o.y:o.y-o.y0,fill:l.color,style:{opacity:.6}},null,8,gt)):v("",!0)],64))),256))]))),256)),(n(!0),i(f,null,C(R.value.filter(l=>l.type==="line"),l=>(n(),i("g",null,[l.isVisible?(n(),i("path",{key:0,d:"M ".concat(l.fullSet),fill:"none",stroke:l.color,style:{opacity:"0.6"}},null,8,kt)):v("",!0),l.isVisible&&r.cutNullValues?(n(!0),i(f,{key:1},C(l.fullMarkers,u=>(n(),i("circle",{key:"sel-dot-under-".concat(l.key,"-").concat(u.i),cx:u.x,cy:u.y,r:"2",fill:l.color,stroke:p.value,"stroke-width":"0.5",style:{opacity:"0.6"}},null,8,Mt))),128)):v("",!0)]))),256)),(n(!0),i(f,null,C(R.value.filter(l=>l.type==="plot"),l=>(n(),i("g",null,[(n(!0),i(f,null,C(l.points,u=>(n(),i("g",null,[l.isVisible&&u.value!==null?(n(),i("circle",{key:"sel-plot-under-".concat(l.key,"-").concat(u.i),cx:u.x,cy:u.y,r:"2",fill:l.color,stroke:p.value,"stroke-width":"0.5",style:{opacity:"0.6"}},null,8,bt)):v("",!0)]))),256))]))),256))],64))],64)),$("rect",{x:N.value.x,y:0,width:Math.max(0,N.value.width),height:Math.max(h.value.height,0),fill:p.value,rx:r.minimapSelectionRadius,stroke:"none"},null,8,wt),$("rect",{x:N.value.x,y:0,width:N.value.width<0?0:N.value.width,height:Math.max(h.value.height,0),rx:r.minimapSelectionRadius,fill:p.value,style:L({opacity:G.value||_.value?0:1})},null,12,Ct),$("rect",{x:N.value.x,y:0,width:N.value.width<0?0:N.value.width,height:Math.max(h.value.height,0),fill:r.minimapSelectedColor,rx:r.minimapSelectionRadius,style:L({opacity:r.minimapSelectedColorOpacity})},null,12,St),!r.minimapMerged&&Ll.value<0?(n(),i("line",{key:2,class:"slicer-minimap-zero-line",x1:0,x2:h.value.width,y1:Fe.value,y2:Fe.value,stroke:r.minimapFrameColor,"stroke-width":"0.5"},null,8,Nt)):v("",!0),e.$slots.slotMap?v("",!0):(n(),i(f,{key:3},[r.minimapMerged?(n(),i("g",$t,[m.value&&m.value.sliced&&m.value.sliced.length?(n(),i(f,{key:0},[m.value.selectionSet?(n(),i("path",{key:0,d:"M".concat(m.value.sliced[0].x,",").concat(Math.max(h.value.height,0)," ").concat(m.value.selectionSet," L").concat(m.value.sliced[m.value.sliced.length-1].x,",").concat(Math.max(h.value.height,0),"Z"),fill:"url(#".concat(Me.value,")"),stroke:"none",style:{opacity:"1"}},null,8,Pt)):v("",!0),m.value.selectionSet?(n(),i("path",{key:1,d:"M ".concat(m.value.selectionSet),stroke:"".concat(r.minimapLineColor),fill:"transparent","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,8,Lt)):v("",!0)],64)):v("",!0),m.value&&m.value.firstPlot?(n(),i("circle",{key:1,cx:m.value.firstPlot.x,cy:m.value.firstPlot.y,"stroke-width":"0.5",stroke:p.value,r:"3",fill:r.minimapLineColor},null,8,Ft)):v("",!0),m.value&&m.value.lastPlot?(n(),i("circle",{key:2,cx:m.value.lastPlot.x,cy:m.value.lastPlot.y,"stroke-width":"0.5",stroke:p.value,r:"3",fill:r.minimapLineColor},null,8,Vt)):v("",!0)])):(n(),i("g",At,[(n(!0),i(f,null,C(R.value.filter(l=>l.type==="bar"),(l,u)=>(n(),i("g",null,[(n(!0),i(f,null,C(l.points,(o,c)=>(n(),i(f,null,[l&&l.isVisible&&!isNaN(o.y)?(n(),i("rect",{key:0,x:qe(o.x,u,c),y:o.v>=0?o.y:o.y0,width:Ge(u,c),height:o.v>=0?o.y0-o.y:o.y-o.y0,fill:l.color,style:L({opacity:c>=ee.value&&c<le.value?1:0})},null,12,Rt)):v("",!0)],64))),256))]))),256)),(n(!0),i(f,null,C(R.value.filter(l=>l.type==="line"),l=>(n(),i("g",{key:String(l.key)},[l&&l.hasSelection&&l.selectionSet&&l.isVisible?(n(),i("path",{key:0,d:"M ".concat(l.selectionSet),stroke:l.color,fill:"transparent","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,8,Bt)):v("",!0)]))),128)),(n(!0),i(f,null,C(R.value.filter(l=>l.type==="plot"),l=>(n(),i("g",{key:String(l.key)},[(n(!0),i(f,null,C(l.points,u=>(n(),i("g",null,[l.isVisible&&u.value!==null?(n(),i("circle",{key:0,cx:u.x,cy:u.y,r:"2",fill:l.color,stroke:p.value,"stroke-width":"0.5",style:{opacity:"0.6"}},null,8,Et)):v("",!0)]))),256))]))),128))]))],64)),e.$slots.slotMap?ml(e.$slots,"slotMap",dl(hl({key:4},{width:Math.max(0,h.value.width),height:Math.max(0,h.value.height),zeroY:Fe.value,unitW:Math.max(0,k.value)})),void 0,!0):v("",!0),M.value&&r.minimapCompact?(n(),i("rect",{key:5,class:"vue-ui-zoom-compact-minimap-handle",x:N.value.x-8,y:0,width:8,height:h.value.height,fill:p.value,stroke:r.textColor,rx:3},null,8,It)):v("",!0),M.value&&r.minimapCompact?(n(),i("rect",{key:6,class:"vue-ui-zoom-compact-minimap-handle",x:N.value.x+N.value.width,y:0,width:8,height:h.value.height,fill:p.value,stroke:r.textColor,rx:3},null,8,zt)):v("",!0),B.value!==null&&!D.value?(n(),i("line",dl(hl({key:7},ql.value)),null,16)):v("",!0),e.$slots.slotMap?v("",!0):(n(),i(f,{key:8},[r.minimapMerged?(n(),i("g",Ht,[m.value&&m.value.firstPlot&&m.value.firstPlot.value!==null?(n(),i("circle",{key:0,cx:m.value.firstPlot.x,cy:m.value.firstPlot.y,"stroke-width":"0.5",stroke:p.value,r:"4",fill:r.minimapLineColor},null,8,Dt)):v("",!0),m.value&&m.value.firstPlot&&m.value.firstPlot.value!==null?(n(),i("circle",{key:1,cx:m.value.firstPlot.x,cy:m.value.firstPlot.y,r:2,fill:p.value},null,8,Tt)):v("",!0),m.value&&m.value.lastPlot&&m.value.lastPlot.value!==null?(n(),i("circle",{key:2,cx:m.value.lastPlot.x,cy:m.value.lastPlot.y,"stroke-width":"0.5",stroke:p.value,r:"4",fill:r.minimapLineColor},null,8,_t)):v("",!0),m.value&&m.value.lastPlot&&m.value.lastPlot.value!==null?(n(),i("circle",{key:3,cx:m.value.lastPlot.x,cy:m.value.lastPlot.y,r:"2",fill:p.value},null,8,jt)):v("",!0)])):(n(),i("g",Ot,[(n(!0),i(f,null,C(R.value.filter(l=>l.type==="line"),l=>(n(),i("g",{key:String(l.key)},[l&&l.hasSelection&&l.selectionSet&&l.isVisible?(n(),i("path",{key:0,d:"M ".concat(l.selectionSet),stroke:l.color,fill:"transparent","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,8,Xt)):v("",!0),l.isVisible&&r.cutNullValues?(n(!0),i(f,{key:1},C(l.selectionMarkers,u=>(n(),i("circle",{key:"sel-dot-".concat(l.key,"-").concat(u.i),cx:u.x,cy:u.y,r:"2.5",fill:l.color,stroke:p.value,"stroke-width":"0.5"},null,8,Kt))),128)):v("",!0),l&&l.firstPlot&&l.isVisible&&l.firstPlot.value!==null?(n(),i("circle",{key:2,cx:l.firstPlot.x,cy:l.firstPlot.y,"stroke-width":"0.5",stroke:p.value,r:"4",fill:l.color},null,8,Ut)):v("",!0),l&&l.firstPlot&&l.isVisible&&l.firstPlot.value!==null?(n(),i("circle",{key:3,cx:l.firstPlot.x,cy:l.firstPlot.y,r:"2",fill:p.value},null,8,Wt)):v("",!0),l&&l.lastPlot&&l.isVisible&&l.lastPlot.value!==null?(n(),i("circle",{key:4,cx:l.lastPlot.x,cy:l.lastPlot.y,"stroke-width":"0.5",stroke:p.value,r:"4",fill:l.color},null,8,Zt)):v("",!0),l&&l.lastPlot&&l.isVisible&&l.lastPlot.value!==null?(n(),i("circle",{key:5,cx:l.lastPlot.x,cy:l.lastPlot.y,r:"2",fill:p.value},null,8,qt)):v("",!0)]))),128)),(n(!0),i(f,null,C(R.value.filter(l=>l.type==="plot"),l=>(n(),i("g",{key:String(l.key)},[(n(!0),i(f,null,C(l.points,u=>(n(),i("g",null,[l.isVisible&&r.cutNullValues&&u.value!==null?(n(),i("circle",{key:"sel-plot-".concat(l.key,"-").concat(u.i),cx:u.x,cy:u.y,r:"2.5",fill:l.color,stroke:p.value,"stroke-width":"0.5"},null,8,Gt)):v("",!0)]))),256))]))),128))]))],64)),(n(!0),i(f,null,C(Ke.value,(l,u)=>(n(),i("rect",{x:k.value*u-(r.minimapCompact?k.value/2:0),y:0,height:Math.max(h.value.height,0),width:k.value<0?0:k.value,fill:"transparent",style:L([{"pointer-events":"all !important"},{cursor:l>=j.value&&l<W.value&&r.enableSelectionDrag?D.value?"grabbing":"grab":"default"}]),onMousedown:t[0]||(t[0]=o=>D.value=!0),onMouseup:t[1]||(t[1]=o=>D.value=!1),onMouseenter:o=>Il(l),onMouseleave:t[2]||(t[2]=o=>{B.value=null,V("trapMouse",null)})},null,44,Jt))),256))],8,dt))])):v("",!0),$("div",{class:"slider-track",style:L({visibility:M.value&&r.minimapCompact?"hidden":"visible"})},null,4),$("div",{class:Y({"range-highlight":!0,move:r.enableSelectionDrag}),onMousedown:t[3]||(t[3]=l=>D.value=!0),onMouseup:t[4]||(t[4]=l=>D.value=!1),style:L({...P.value,cursor:D.value?"grabbing":"grab",visibility:M.value&&r.minimapCompact?"hidden":"visible"})},null,38),r.enableRangeHandles?cl((n(),i("input",{key:1,ref_key:"rangeStart",ref:te,type:"range",class:Y({"range-left":!0,"range-handle":!0,"range-minimap":M.value&&r.verticalHandles,"range-invisible":M.value&&r.minimapCompact}),min:r.min,max:r.minimapCompact&&M.value?Math.max(0,U.value-1):r.max,"onUpdate:modelValue":t[5]||(t[5]=l=>he.value=l),onInput:t[6]||(t[6]=l=>he.value=l.target.valueAsNumber),onChange:F,onKeyup:fl(F,["enter"]),onBlur:F,onMouseenter:t[7]||(t[7]=l=>ol("start")),onPointerup:F},null,42,Qt)),[[pl,he.value,void 0,{number:!0}]]):v("",!0),r.enableRangeHandles?cl((n(),i("input",{key:2,ref_key:"rangeEnd",ref:ae,type:"range",class:Y({"range-right":!0,"range-handle":!0,"range-minimap":M.value&&r.verticalHandles,"range-invisible":M.value&&r.minimapCompact}),min:r.min,max:r.minimapCompact&&M.value?Math.max(0,U.value-1):r.max,"onUpdate:modelValue":t[8]||(t[8]=l=>pe.value=l),onInput:t[9]||(t[9]=l=>pe.value=l.target.valueAsNumber),onChange:F,onKeyup:fl(F,["enter"]),onBlur:F,onMouseenter:t[10]||(t[10]=l=>ol("end")),onPointerup:F},null,42,Yt)),[[pl,pe.value,void 0,{number:!0}]]):v("",!0),b.value.left?(n(),i("div",{key:3,ref_key:"tooltipLeft",ref:ie,class:Y({"range-tooltip":!0,"range-tooltip-visible":J.value,"range-tooltip-arrow":P.value.arrowLeft&&!r.verticalHandles,"range-tooltip-arrow-left":!P.value.arrowLeft&&!r.verticalHandles}),style:L({left:P.value.tooltipLeft,color:ke(Te)(r.selectColor),backgroundColor:r.selectColor,border:"1px solid ".concat(p.value),zIndex:"".concat(rl.value+4),visibility:oe.value||b.value.left===b.value.right?"hidden":"visible",top:M.value&&r.minimapCompact?"calc(-100% - 12px)":"-100%"})},De(b.value.left),7)):v("",!0),(oe.value||b.value.left===b.value.right)&&(b.value.left||b.value.right)?(n(),i("div",{key:4,ref:"tooltipMerge",class:Y({"range-tooltip":!0,"range-tooltip-visible":J.value,"range-tooltip-arrow":!0,"range-tooltip-arrow-left":!P.value.arrowLeft&&!r.verticalHandles,"range-tooltip-arrow-right":!P.value.arrowRight&&!r.verticalHandles}),style:L({left:P.value.tooltipCenter,width:se.value.width+"px",color:ke(Te)(r.selectColor),backgroundColor:r.selectColor,border:"1px solid ".concat(p.value),zIndex:"4",top:M.value&&r.minimapCompact?"calc(-100% - 12px)":"-100%"})},De(b.value.left===b.value.right?b.value.left:"".concat(b.value.left," - ").concat(b.value.right)),7)):v("",!0),b.value.right?(n(),i("div",{key:5,ref_key:"tooltipRight",ref:ne,class:Y({"range-tooltip":!0,"range-tooltip-visible":J.value,"range-tooltip-arrow":P.value.arrowRight&&!r.verticalHandles,"range-tooltip-arrow-right":!P.value.arrowRight&&!r.verticalHandles}),style:L({left:P.value.tooltipRight,color:ke(Te)(r.selectColor),backgroundColor:r.selectColor,border:"1px solid ".concat(p.value),zIndex:"4",visibility:oe.value||b.value.left===b.value.right?"hidden":"visible",top:M.value&&r.minimapCompact?"calc(-100% - 12px)":"-100%"})},De(b.value.right),7)):v("",!0)],544)],544))}},ua=at(ea,[["__scopeId","data-v-a272ba4a"]]);export{ua as u};
