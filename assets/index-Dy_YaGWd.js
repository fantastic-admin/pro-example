
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{d as N,M as L,cp as x,c as d,o as n,r as F,a as r,K as M,L as R,f as G,ck as O,k as o,N as v,O as y,aa as U,m as s,G as t,a9 as W,l as a,R as j,S as q,H as z,p as B,w as C,b9 as _,W as A}from"./index-Bnionyve.js";import{_ as I}from"./index.vue_vue_type_script_setup_true_lang-BlKfdQqy.js";const J={class:"contents"},Q=N({name:"FaAuth",__name:"index",props:{value:{},all:{type:Boolean}},setup(P){const i=P,u=L(()=>i.all?x().authAll(typeof i.value=="string"?[i.value]:i.value):x().auth(i.value));return(g,S)=>(n(),d("div",J,[r(u)?F(g.$slots,"default",{key:0}):F(g.$slots,"no-auth",{key:1})]))}}),X={class:"space-y-2"},Y={class:"space-x-2"},Z={class:"flex-col-start space-y-2"},c={class:"text-sm space-y-2"},h={class:"space-y-2"},ee={class:"space-x-2"},se={class:"space-x-2"},te=N({name:"PermissionExample",__name:"index",setup(P){const i=M(),u=R(),g=G(),{auth:S,authAll:V}=x();async function D(f){await g.login({account:f,password:""}),location.reload()}function E(){i.push({name:"permissionExampleTest"})}function $(f){S(f)?_.success("校验通过",{position:"top-center"}):_.error("校验不通过",{position:"top-center"})}function T(f){V(f)?_.success("校验通过",{position:"top-center"}):_.error("校验不通过",{position:"top-center"})}return(f,e)=>{const H=U,m=W,b=z,l=I,w=Q,k=O("auth");return n(),d("div",null,[o(H,{title:"权限验证"}),r(u).settings.app.enablePermission?(n(),v(m,{key:1,title:"切换账号"},{default:s(()=>[a("div",X,[a("div",Y,[(n(),d(j,null,q([{label:"admin",value:"admin"},{label:"test",value:"test"},{label:"hooray(无权限)",value:"hooray"}],(p,K)=>o(b,{key:K,variant:r(g).account===p.value?"default":"outline",onClick:oe=>D(p.value)},{default:s(()=>[t(B(p.label),1)]),_:2},1032,["variant","onClick"])),64))]),a("div",null,"当前账号权限："+B(r(g).permissions),1)])]),_:1})):(n(),v(m,{key:0},{default:s(()=>[...e[4]||(e[4]=[t(" 请到 settings.ts 里设置并开启权限功能，再进入该页面查看演示 ",-1)])]),_:1})),r(u).settings.app.enablePermission?(n(),v(m,{key:2,title:"路由鉴权"},{default:s(()=>[o(b,{onClick:E},{default:s(()=>[...e[5]||(e[5]=[t(" 跳转页面 ",-1)])]),_:1})]),_:1})):y("",!0),r(u).settings.app.enablePermission?(n(),v(m,{key:3,title:"鉴权指令"},{default:s(()=>[a("div",Z,[C((n(),d("div",null,[...e[6]||(e[6]=[t(" 如果你有 pages.general:browse 权限则能看到这句话 ",-1)])])),[[k,"pages.general:browse"]]),C((n(),d("div",null,[...e[7]||(e[7]=[t(" 如果你有 pages.form:browse 权限则能看到这句话 ",-1)])])),[[k,"pages.form:browse"]]),C((n(),d("div",null,[...e[8]||(e[8]=[t(" 如果你有 pages.general:browse 或 pages.form:browse 权限则能看到这句话 ",-1)])])),[[k,["pages.general:browse","pages.form:browse"]]]),C((n(),d("div",null,[...e[9]||(e[9]=[t(" 如果你有 pages.general:browse 和 pages.form:browse 权限则能看到这句话 ",-1)])])),[[k,["pages.general:browse","pages.form:browse"],void 0,{all:!0}]])])]),_:1})):y("",!0),r(u).settings.app.enablePermission?(n(),v(m,{key:4,title:"鉴权组件"},{default:s(()=>[a("div",c,[a("div",null,[e[12]||(e[12]=t(" 你 ",-1)),o(w,{value:"pages.general:browse"},{"no-auth":s(()=>[o(l,null,{default:s(()=>[...e[11]||(e[11]=[t("没有",-1)])]),_:1})]),default:s(()=>[o(l,null,{default:s(()=>[...e[10]||(e[10]=[t("有",-1)])]),_:1})]),_:1}),e[13]||(e[13]=t(" pages.general:browse 权限 ",-1))]),a("div",null,[e[16]||(e[16]=t(" 你 ",-1)),o(w,{value:"pages.form:browse"},{"no-auth":s(()=>[o(l,null,{default:s(()=>[...e[15]||(e[15]=[t("没有",-1)])]),_:1})]),default:s(()=>[o(l,null,{default:s(()=>[...e[14]||(e[14]=[t("有",-1)])]),_:1})]),_:1}),e[17]||(e[17]=t(" pages.form:browse 权限 ",-1))]),a("div",null,[e[20]||(e[20]=t(" 你 ",-1)),o(w,{value:["pages.general:browse","pages.form:browse"]},{"no-auth":s(()=>[o(l,null,{default:s(()=>[...e[19]||(e[19]=[t("没有",-1)])]),_:1})]),default:s(()=>[o(l,null,{default:s(()=>[...e[18]||(e[18]=[t("有",-1)])]),_:1})]),_:1}),e[21]||(e[21]=t(" pages.general:browse 或 pages.form:browse 权限 ",-1))]),a("div",null,[e[24]||(e[24]=t(" 你 ",-1)),o(w,{value:["pages.general:browse","pages.form:browse"],all:""},{"no-auth":s(()=>[o(l,null,{default:s(()=>[...e[23]||(e[23]=[t("没有",-1)])]),_:1})]),default:s(()=>[o(l,null,{default:s(()=>[...e[22]||(e[22]=[t("有",-1)])]),_:1})]),_:1}),e[25]||(e[25]=t(" pages.general:browse 和 pages.form:browse 权限 ",-1))])])]),_:1})):y("",!0),r(u).settings.app.enablePermission?(n(),v(m,{key:5,title:"鉴权函数"},{default:s(()=>[a("div",h,[a("div",ee,[o(b,{variant:"outline",onClick:e[0]||(e[0]=p=>$("pages.general:browse"))},{default:s(()=>[...e[26]||(e[26]=[t(" 校验 pages.general:browse 权限 ",-1)])]),_:1}),o(b,{variant:"outline",onClick:e[1]||(e[1]=p=>$("pages.form:browse"))},{default:s(()=>[...e[27]||(e[27]=[t(" 校验 pages.form:browse 权限 ",-1)])]),_:1})]),a("div",se,[o(b,{variant:"outline",onClick:e[2]||(e[2]=p=>$(["pages.general:browse","pages.form:browse"]))},{default:s(()=>[...e[28]||(e[28]=[t(" 校验 pages.general:browse 或 pages.form:browse 权限 ",-1)])]),_:1}),o(b,{variant:"outline",onClick:e[3]||(e[3]=p=>T(["pages.general:browse","pages.form:browse"]))},{default:s(()=>[...e[29]||(e[29]=[t(" 校验 pages.general:browse 和 pages.form:browse 权限 ",-1)])]),_:1})])])]),_:1})):y("",!0)])}}});typeof A=="function"&&A(te);export{te as default};
