
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{d as f,bw as P,aB as V,by as D,bx as g,l as d,o as p,w as r,M as c,e,bz as B,bX as I,n as _,x as w,N as A,C as E,a7 as H,bY as S,g as O,S as R,b as x,bL as z,bB as L,aD as M,aE as N,h as j,aq as U,av as X}from"./index-H6QnEWHf.js";const[T,Y]=D("CollapsibleRoot");var G=f({__name:"CollapsibleRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},disabled:{type:Boolean,required:!1},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:open"],setup(i,{expose:l,emit:t}){const o=i,n=P(o,"open",t,{defaultValue:o.defaultOpen,passive:o.open===void 0}),{disabled:u,unmountOnHide:v}=V(o);return Y({contentId:"",disabled:u,open:n,unmountOnHide:v,onOpenToggle:()=>{u.value||(n.value=!n.value)}}),l({open:n}),g(),(m,C)=>(p(),d(e(B),{as:m.as,"as-child":o.asChild,"data-state":e(n)?"open":"closed","data-disabled":e(u)?"":void 0},{default:r(()=>[c(m.$slots,"default",{open:e(n)})]),_:3},8,["as","as-child","data-state","data-disabled"]))}}),J=G,K=f({inheritAttrs:!1,__name:"CollapsibleContent",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["contentFound"],setup(i,{emit:l}){const t=i,o=l,a=T();a.contentId||(a.contentId=I(void 0,"reka-collapsible-content"));const n=_(),{forwardRef:u,currentElement:v}=g(),m=_(0),C=_(0),q=w(()=>a.open.value),y=_(q.value),b=_();A(()=>{var s;return[q.value,(s=n.value)==null?void 0:s.present]},async()=>{await E();const s=v.value;if(!s)return;b.value=b.value||{transitionDuration:s.style.transitionDuration,animationName:s.style.animationName},s.style.transitionDuration="0s",s.style.animationName="none";const h=s.getBoundingClientRect();C.value=h.height,m.value=h.width,y.value||(s.style.transitionDuration=b.value.transitionDuration,s.style.animationName=b.value.animationName)},{immediate:!0});const F=w(()=>y.value&&a.open.value);return H(()=>{requestAnimationFrame(()=>{y.value=!1})}),S(v,"beforematch",s=>{requestAnimationFrame(()=>{a.onOpenToggle(),o("contentFound")})}),(s,h)=>(p(),d(e(z),{ref_key:"presentRef",ref:n,present:s.forceMount||e(a).open.value,"force-mount":!0},{default:r(({present:$})=>{var k;return[O(e(B),R(s.$attrs,{id:e(a).contentId,ref:e(u),"as-child":t.asChild,as:s.as,hidden:$?void 0:e(a).unmountOnHide.value?"":"until-found","data-state":F.value?void 0:e(a).open.value?"open":"closed","data-disabled":(k=e(a).disabled)!=null&&k.value?"":void 0,style:{"--reka-collapsible-content-height":"".concat(C.value,"px"),"--reka-collapsible-content-width":"".concat(m.value,"px")}}),{default:r(()=>[!e(a).unmountOnHide.value||$?c(s.$slots,"default",{key:0}):x("v-if",!0)]),_:2},1040,["id","as-child","as","hidden","data-state","data-disabled","style"])]}),_:3},8,["present"]))}}),Q=K,W=f({__name:"CollapsibleTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(i){const l=i;g();const t=T();return(o,a)=>{var n,u;return p(),d(e(B),{type:o.as==="button"?"button":void 0,as:o.as,"as-child":l.asChild,"aria-controls":e(t).contentId,"aria-expanded":e(t).open.value,"data-state":e(t).open.value?"open":"closed","data-disabled":(n=e(t).disabled)!=null&&n.value?"":void 0,disabled:(u=e(t).disabled)==null?void 0:u.value,onClick:e(t).onOpenToggle},{default:r(()=>[c(o.$slots,"default")]),_:3},8,["type","as","as-child","aria-controls","aria-expanded","data-state","data-disabled","disabled","onClick"])}}}),Z=W;const ee=f({__name:"Collapsible",props:{defaultOpen:{type:Boolean},open:{type:Boolean},disabled:{type:Boolean},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["update:open"],setup(i,{emit:l}){const a=L(i,l);return(n,u)=>(p(),d(e(J),M(N(e(a))),{default:r(({open:v})=>[c(n.$slots,"default",{open:v})]),_:3},16))}}),ae=f({__name:"CollapsibleContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(i){const l=i;return(t,o)=>(p(),d(e(Q),R(l,{class:"CollapsibleContent"}),{default:r(()=>[c(t.$slots,"default",{},void 0,!0)]),_:3},16))}}),te=j(ae,[["__scopeId","data-v-f3de1457"]]),oe=f({__name:"CollapsibleTrigger",props:{asChild:{type:Boolean},as:{}},setup(i){const l=i;return(t,o)=>(p(),d(e(Z),M(N(l)),{default:r(()=>[c(t.$slots,"default")]),_:3},16))}}),ne=f({name:"FaCollapsible",__name:"index",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:["update:modelValue"],setup(i){const l=U(i,"modelValue"),t=X();return(o,a)=>(p(),d(e(ee),{open:l.value,"onUpdate:open":a[0]||(a[0]=n=>l.value=n)},{default:r(()=>[e(t).trigger?(p(),d(e(oe),{key:0},{default:r(()=>[c(o.$slots,"trigger",{open:l.value})]),_:3})):x("",!0),O(e(te),null,{default:r(()=>[c(o.$slots,"default")]),_:3})]),_:3},8,["open"]))}});export{ne as _};
