
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{d as ye,K as Ee,g,Z as ce,a7 as H,af as _e,bW as W,b6 as j,a4 as u,ck as Ve,c as ke,o as V,k as t,m as l,l as C,G as s,v as A,a as n,aa as we,w as z,aP as D,x as S,P as xe,p as ze,N as $,O,n as Z,a9 as De,b9 as $e,V as Be,W as q}from"./index-Bnionyve.js";import{_ as Pe}from"./index.vue_vue_type_script_setup_true_lang-DwNki4sp.js";import{a as J,_ as Q}from"./index.vue_vue_type_script_setup_true_lang-CFTM6y6V.js";import{u as Fe}from"./index-CAH_iDR3.js";import{u as Me}from"./usePagination-BqwTFOKk.js";const Se={class:"space-y-2"},Oe={style:{display:"flex","align-items":"center"}},Re={style:{display:"flex","align-items":"center"}},X=ye({name:"PagesExampleFormModeList",__name:"list",setup(Le){const R=Ee(),{pagination:y,getParams:Y,onSizeChange:h,onCurrentChange:ee,onSortChange:te}=Me(),E=g(!1),p=g("router"),k=g({id:""}),L={title:"",title2:"",title3:"",title4:""},r=g({...L});function le(){Object.assign(r.value,L)}const v=g({enable:!0,selectionDataList:[]}),B=g(!1),U=g([]);ce(()=>{f(),p.value==="router"&&H.on("get-data-list",()=>{f()})}),_e(()=>{p.value==="router"&&H.off("get-data-list")});function f(){B.value=!0;const a={...Y(),...r.value.title&&{title:r.value.title}};J.list(a).then(e=>{B.value=!1,U.value=e.data.list,y.value.total=e.data.total})}function ne(a){h(a).then(()=>f())}function d(a=1){ee(a).then(()=>f())}function ae({prop:a,order:e}){te(a,e).then(()=>f())}const w=g(),{open:T,update:I}=W().create({destroyOnClose:!0,closeOnClickOverlay:!1,closeOnPressEscape:!1,beforeClose:(a,e)=>{var b;a==="confirm"?(b=w.value)==null||b.submit().then(()=>{f(),e()}):e()},content:()=>j(Q,{ref:w,id:k.value.id})}),{open:K,update:G}=Fe().create({destroyOnClose:!0,closeOnClickOverlay:!1,closeOnPressEscape:!1,beforeClose:(a,e)=>{var b;a==="confirm"?(b=w.value)==null||b.submit().then(()=>{f(),e()}):e()},content:()=>j(Q,{ref:w,id:k.value.id})});function oe(){p.value==="router"?R.push({name:"standardModuleExampleDetail"}):(k.value.id="",p.value==="modal"?(I({title:"新增"}),T()):(G({title:"新增"}),K()))}function se(a){p.value==="router"?R.push({name:"standardModuleExampleDetail",params:{id:a.id}}):(k.value.id=a.id,p.value==="modal"?(I({title:"编辑"}),T()):(G({title:"编辑"}),K()))}function ie(a){W().confirm({title:"确认信息",content:"确认删除「".concat(a.title,"」吗？"),onConfirm:()=>{J.delete(a.id).then(()=>{f(),$e.success("模拟删除成功")})}})}return(a,e)=>{const b=u("ElTag"),c=u("ElRadioButton"),N=u("ElRadioGroup"),ue=we,x=u("ElInput"),_=u("ElFormItem"),m=u("ElButton"),P=xe,re=u("ElForm"),de=Pe,pe=u("ElDivider"),me=u("ElButtonGroup"),fe=u("ElSpace"),F=u("ElTableColumn"),ge=u("ElTable"),ve=u("ElPagination"),be=De,Ce=Ve("loading");return V(),ke("div",{class:Z({"absolute-container":n(E)})},[t(ue,{title:"标准模块",class:"mb-0"},{description:l(()=>[C("div",Se,[C("p",null,[e[18]||(e[18]=s("标准模块即包含 CRUD (增查改删) 操作的基础模块，开发者可通过 ",-1)),t(b,null,{default:l(()=>[...e[17]||(e[17]=[s("pnpm run new",-1)])]),_:1}),e[19]||(e[19]=s(" 命令快速生成一个标准模块，并在此基础上完善业务模块所需要的功能。",-1))]),e[27]||(e[27]=C("p",null,"同时，标准模块还提供了两个优秀的特性：",-1)),C("p",Oe,[e[22]||(e[22]=C("span",{style:{"margin-inline-end":"20px"}},"特性1：列表展示模式",-1)),t(N,{modelValue:n(E),"onUpdate:modelValue":e[0]||(e[0]=i=>A(E)?E.value=i:null),size:"default"},{default:l(()=>[t(c,{value:!1},{default:l(()=>[...e[20]||(e[20]=[s(" 默认 ",-1)])]),_:1}),t(c,{value:!0},{default:l(()=>[...e[21]||(e[21]=[s(" 列表高度自适应 ",-1)])]),_:1})]),_:1},8,["modelValue"])]),C("p",Re,[e[26]||(e[26]=C("span",{style:{"margin-inline-end":"20px"}},"特性2：表单展示模式",-1)),t(N,{modelValue:n(p),"onUpdate:modelValue":e[1]||(e[1]=i=>A(p)?p.value=i:null),size:"default"},{default:l(()=>[t(c,{value:"router"},{default:l(()=>[...e[23]||(e[23]=[s(" 路由跳转 ",-1)])]),_:1}),t(c,{value:"modal"},{default:l(()=>[...e[24]||(e[24]=[s(" 对话框 ",-1)])]),_:1}),t(c,{value:"drawer"},{default:l(()=>[...e[25]||(e[25]=[s(" 抽屉 ",-1)])]),_:1})]),_:1},8,["modelValue"])])])]),_:1}),t(be,{class:Z({"flex-1 overflow-auto":n(E)}),"main-class":{"flex-1 flex flex-col overflow-auto":n(E)}},{default:l(()=>[t(de,{"show-toggle":!1},{default:l(({fold:i,toggle:M})=>[t(re,{model:n(r),size:"default","label-width":"100px","inline-message":"",inline:"",class:"search-form"},{default:l(()=>[t(_,{label:"标题"},{default:l(()=>[t(x,{modelValue:n(r).title,"onUpdate:modelValue":e[2]||(e[2]=o=>n(r).title=o),placeholder:"请输入标题，支持模糊查询",clearable:"",onKeydown:e[3]||(e[3]=D(o=>d(),["enter"])),onClear:e[4]||(e[4]=o=>d())},null,8,["modelValue"])]),_:1}),z(t(_,{label:"标题2"},{default:l(()=>[t(x,{modelValue:n(r).title2,"onUpdate:modelValue":e[5]||(e[5]=o=>n(r).title2=o),placeholder:"请输入标题，支持模糊查询",clearable:"",onKeydown:e[6]||(e[6]=D(o=>d(),["enter"])),onClear:e[7]||(e[7]=o=>d())},null,8,["modelValue"])]),_:1},512),[[S,!i]]),z(t(_,{label:"标题3"},{default:l(()=>[t(x,{modelValue:n(r).title3,"onUpdate:modelValue":e[8]||(e[8]=o=>n(r).title3=o),placeholder:"请输入标题，支持模糊查询",clearable:"",onKeydown:e[9]||(e[9]=D(o=>d(),["enter"])),onClear:e[10]||(e[10]=o=>d())},null,8,["modelValue"])]),_:1},512),[[S,!i]]),z(t(_,{label:"标题4"},{default:l(()=>[t(x,{modelValue:n(r).title4,"onUpdate:modelValue":e[11]||(e[11]=o=>n(r).title4=o),placeholder:"请输入标题，支持模糊查询",clearable:"",onKeydown:e[12]||(e[12]=D(o=>d(),["enter"])),onClear:e[13]||(e[13]=o=>d())},null,8,["modelValue"])]),_:1},512),[[S,!i]]),t(_,null,{default:l(()=>[t(m,{onClick:e[14]||(e[14]=o=>{le(),d()})},{default:l(()=>[...e[28]||(e[28]=[s(" 重置 ",-1)])]),_:1}),t(m,{type:"primary",onClick:e[15]||(e[15]=o=>d())},{icon:l(()=>[t(P,{name:"i-ep:search"})]),default:l(()=>[e[29]||(e[29]=s(" 筛选 ",-1))]),_:1}),t(m,{link:"",onClick:M},{icon:l(()=>[t(P,{name:i?"i-ep:caret-bottom":"i-ep:caret-top"},null,8,["name"])]),default:l(()=>[s(" "+ze(i?"展开":"收起"),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["model"])]),_:1}),t(pe,{"border-style":"dashed"}),t(fe,{wrap:""},{default:l(()=>[t(m,{type:"primary",size:"default",onClick:oe},{icon:l(()=>[t(P,{name:"i-ep:plus"})]),default:l(()=>[e[30]||(e[30]=s(" 新增 ",-1))]),_:1}),n(v).enable?(V(),$(m,{key:0,size:"default",disabled:!n(v).selectionDataList.length},{default:l(()=>[...e[31]||(e[31]=[s(" 单个批量操作按钮 ",-1)])]),_:1},8,["disabled"])):O("",!0),n(v).enable?(V(),$(me,{key:1},{default:l(()=>[t(m,{size:"default",disabled:!n(v).selectionDataList.length},{default:l(()=>[...e[32]||(e[32]=[s(" 批量操作按钮组1 ",-1)])]),_:1},8,["disabled"]),t(m,{size:"default",disabled:!n(v).selectionDataList.length},{default:l(()=>[...e[33]||(e[33]=[s(" 批量操作按钮组2 ",-1)])]),_:1},8,["disabled"])]),_:1})):O("",!0)]),_:1}),z((V(),$(ge,{class:"my-4",data:n(U),stripe:"","highlight-current-row":"",border:"",height:"100%",onSortChange:ae,onSelectionChange:e[16]||(e[16]=i=>n(v).selectionDataList=i)},{default:l(()=>[n(v).enable?(V(),$(F,{key:0,type:"selection",align:"center",fixed:""})):O("",!0),t(F,{prop:"title",label:"标题"}),t(F,{label:"操作",width:"250",align:"center",fixed:"right"},{default:l(i=>[t(m,{type:"primary",size:"small",plain:"",onClick:M=>se(i.row)},{default:l(()=>[...e[34]||(e[34]=[s(" 编辑 ",-1)])]),_:1},8,["onClick"]),t(m,{type:"danger",size:"small",plain:"",onClick:M=>ie(i.row)},{default:l(()=>[...e[35]||(e[35]=[s(" 删除 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[Ce,n(B)]]),t(ve,{"current-page":n(y).page,total:n(y).total,"page-size":n(y).size,"page-sizes":n(y).sizes,layout:n(y).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:ne,onCurrentChange:d},null,8,["current-page","total","page-size","page-sizes","layout"])]),_:1},8,["class","main-class"])],2)}}});typeof q=="function"&&q(X);const Ne=Be(X,[["__scopeId","data-v-8212a96a"]]);export{Ne as default};
