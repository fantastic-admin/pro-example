
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{d as f,as as D,ar as F,at as P,ax as g,N as d,o as p,m as r,r as c,a as e,aJ as B,aG as H,g as _,M as O,a1 as I,ao as A,Z as E,aY as S,k as R,B as w,O as M,aH as j,aD as z,D as N,E as x,V as G,aN as J,an as L}from"./index-Bnionyve.js";const[T,U]=P("CollapsibleRoot");var Y=f({__name:"CollapsibleRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},disabled:{type:Boolean,required:!1},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:open"],setup(i,{expose:l,emit:t}){const o=i,n=D(o,"open",t,{defaultValue:o.defaultOpen,passive:o.open===void 0}),{disabled:u,unmountOnHide:m}=F(o);return U({contentId:"",disabled:u,open:n,unmountOnHide:m,onOpenToggle:()=>{u.value||(n.value=!n.value)}}),l({open:n}),g(),(v,b)=>(p(),d(e(B),{as:v.as,"as-child":o.asChild,"data-state":e(n)?"open":"closed","data-disabled":e(u)?"":void 0},{default:r(()=>[c(v.$slots,"default",{open:e(n)})]),_:3},8,["as","as-child","data-state","data-disabled"]))}}),Z=Y,K=f({inheritAttrs:!1,__name:"CollapsibleContent",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["contentFound"],setup(i,{emit:l}){const t=i,o=l,a=T();a.contentId||(a.contentId=H(void 0,"reka-collapsible-content"));const n=_(),{forwardRef:u,currentElement:m}=g(),v=_(0),b=_(0),$=O(()=>a.open.value),y=_($.value),C=_();I(()=>{var s;return[$.value,(s=n.value)==null?void 0:s.present]},async()=>{await A();const s=m.value;if(!s)return;C.value=C.value||{transitionDuration:s.style.transitionDuration,animationName:s.style.animationName},s.style.transitionDuration="0s",s.style.animationName="none";const h=s.getBoundingClientRect();b.value=h.height,v.value=h.width,y.value||(s.style.transitionDuration=C.value.transitionDuration,s.style.animationName=C.value.animationName)},{immediate:!0});const V=O(()=>y.value&&a.open.value);return E(()=>{requestAnimationFrame(()=>{y.value=!1})}),S(m,"beforematch",s=>{requestAnimationFrame(()=>{a.onOpenToggle(),o("contentFound")})}),(s,h)=>(p(),d(e(j),{ref_key:"presentRef",ref:n,present:s.forceMount||e(a).open.value,"force-mount":!0},{default:r(({present:k})=>{var q;return[R(e(B),w(s.$attrs,{id:e(a).contentId,ref:e(u),"as-child":t.asChild,as:s.as,hidden:k?void 0:e(a).unmountOnHide.value?"":"until-found","data-state":V.value?void 0:e(a).open.value?"open":"closed","data-disabled":(q=e(a).disabled)!=null&&q.value?"":void 0,style:{"--reka-collapsible-content-height":"".concat(b.value,"px"),"--reka-collapsible-content-width":"".concat(v.value,"px")}}),{default:r(()=>[!e(a).unmountOnHide.value||k?c(s.$slots,"default",{key:0}):M("v-if",!0)]),_:2},1040,["id","as-child","as","hidden","data-state","data-disabled","style"])]}),_:3},8,["present"]))}}),Q=K,W=f({__name:"CollapsibleTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(i){const l=i;g();const t=T();return(o,a)=>{var n,u;return p(),d(e(B),{type:o.as==="button"?"button":void 0,as:o.as,"as-child":l.asChild,"aria-controls":e(t).contentId,"aria-expanded":e(t).open.value,"data-state":e(t).open.value?"open":"closed","data-disabled":(n=e(t).disabled)!=null&&n.value?"":void 0,disabled:(u=e(t).disabled)==null?void 0:u.value,onClick:e(t).onOpenToggle},{default:r(()=>[c(o.$slots,"default")]),_:3},8,["type","as","as-child","aria-controls","aria-expanded","data-state","data-disabled","disabled","onClick"])}}}),X=W;const ee=f({__name:"Collapsible",props:{defaultOpen:{type:Boolean},open:{type:Boolean},disabled:{type:Boolean},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["update:open"],setup(i,{emit:l}){const a=z(i,l);return(n,u)=>(p(),d(e(Z),N(x(e(a))),{default:r(({open:m})=>[c(n.$slots,"default",{open:m})]),_:3},16))}}),ae=f({__name:"CollapsibleContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(i){const l=i;return(t,o)=>(p(),d(e(Q),w(l,{class:"CollapsibleContent"}),{default:r(()=>[c(t.$slots,"default",{},void 0,!0)]),_:3},16))}}),te=G(ae,[["__scopeId","data-v-f3de1457"]]),oe=f({__name:"CollapsibleTrigger",props:{asChild:{type:Boolean},as:{}},setup(i){const l=i;return(t,o)=>(p(),d(e(X),N(x(l)),{default:r(()=>[c(t.$slots,"default")]),_:3},16))}}),ne=f({name:"FaCollapsible",__name:"index",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:["update:modelValue"],setup(i){const l=J(i,"modelValue"),t=L();return(o,a)=>(p(),d(e(ee),{open:l.value,"onUpdate:open":a[0]||(a[0]=n=>l.value=n)},{default:r(()=>[e(t).trigger?(p(),d(e(oe),{key:0},{default:r(()=>[c(o.$slots,"trigger",{open:l.value})]),_:3})):M("",!0),R(e(te),null,{default:r(()=>[c(o.$slots,"default")]),_:3})]),_:3},8,["open"]))}});export{ne as _};
