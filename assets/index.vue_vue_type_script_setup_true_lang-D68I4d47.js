
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{d as p,ax as y,as as V,a1 as h,ao as M,M as C,at as w,N as c,o as f,m as v,r as b,a,aJ as P,B as g,aL as $,b as q,k as R,U as B,aM as E,aN as T}from"./index-Bnionyve.js";import{i as N}from"./nullish-CHIgUVhi.js";const d=100,[I,L]=w("ProgressRoot"),m=e=>typeof e=="number";function k(e,r){return N(e)||m(e)&&!Number.isNaN(e)&&e<=r&&e>=0?e:(console.error("Invalid prop `value` of value `".concat(e,"` supplied to `ProgressRoot`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(d," if no `max` prop is set)\n  - `null`  or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")),null)}function F(e){return m(e)&&!Number.isNaN(e)&&e>0?e:(console.error("Invalid prop `max` of value `".concat(e,"` supplied to `ProgressRoot`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(d,"`.")),d)}var S=p({__name:"ProgressRoot",props:{modelValue:{type:[Number,null],required:!1},max:{type:Number,required:!1,default:d},getValueLabel:{type:Function,required:!1,default:(e,r)=>m(e)?"".concat(Math.round(e/r*d),"%"):void 0},getValueText:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue","update:max"],setup(e,{emit:r}){const t=e,u=r;y();const s=V(t,"modelValue",u,{passive:t.modelValue===void 0}),l=V(t,"max",u,{passive:t.max===void 0});h(()=>s.value,async o=>{const i=k(o,t.max);i!==o&&(await M(),s.value=i)},{immediate:!0}),h(()=>t.max,o=>{const i=F(t.max);i!==o&&(l.value=i)},{immediate:!0});const n=C(()=>N(s.value)?"indeterminate":s.value===l.value?"complete":"loading");return L({modelValue:s,max:l,progressState:n}),(o,i)=>{var _,x;return f(),c(a(P),{"as-child":o.asChild,as:o.as,"aria-valuemax":a(l),"aria-valuemin":0,"aria-valuenow":m(a(s))?a(s):void 0,"aria-valuetext":(_=o.getValueText)==null?void 0:_.call(o,a(s),a(l)),"aria-label":o.getValueLabel(a(s),a(l)),role:"progressbar","data-state":n.value,"data-value":(x=a(s))!=null?x:void 0,"data-max":a(l)},{default:v(()=>[b(o.$slots,"default",{modelValue:a(s)})]),_:3},8,["as-child","as","aria-valuemax","aria-valuenow","aria-valuetext","aria-label","data-state","data-value","data-max"])}}}),D=S,A=p({__name:"ProgressIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const r=e,t=I();return y(),(u,s)=>{var l,n;return f(),c(a(P),g(r,{"data-state":a(t).progressState.value,"data-value":(n=(l=a(t).modelValue)==null?void 0:l.value)!=null?n:void 0,"data-max":a(t).max.value}),{default:v(()=>[b(u.$slots,"default")]),_:3},16,["data-state","data-value","data-max"])}}}),O=A;const U=p({__name:"Progress",props:{modelValue:{default:0},max:{},getValueLabel:{},getValueText:{},asChild:{type:Boolean},as:{},class:{}},setup(e){const r=e,t=$(r,"class");return(u,s)=>(f(),c(a(D),g(a(t),{class:a(q)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",r.class)}),{default:v(()=>{var l;return[R(a(O),{class:"h-full w-full flex-1 bg-primary transition-all",style:B("transform: translateX(-".concat(100-((l=r.modelValue)!=null?l:0),"%);"))},null,8,["style"])]}),_:1},16,["class"]))}}),z=p({__name:"index",props:E({class:{}},{modelValue:{default:0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const r=e,t=T(e,"modelValue");return(u,s)=>(f(),c(a(U),g(r,{"model-value":t.value}),null,16,["model-value"]))}});export{z as _};
