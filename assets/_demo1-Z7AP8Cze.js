
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{d as E,g as d,M as u,bu as N,c as w,o as g,n as m,a as o,b as S,l as c,O as R,r as U,U as y,V as _,k as r,G as s,m as l}from"./index-Bnionyve.js";const W=["href"],I={class:"block border-2 border-transparent rounded-xl bg-white p-1 shadow-lg dark:bg-gray-900"},T=["src","width","height"],G=E({name:"FaLinkPreview",__name:"index",props:{isStatic:{type:Boolean},imageSrc:{},url:{},class:{},linkClass:{},width:{default:200},height:{default:125}},setup(i){const e=i,t=d(!1),C=d(!0),h=d(null),p=d(!1),$=u(()=>{if(e.isStatic)return e.imageSrc;const n=new URLSearchParams({url:e.url,screenshot:"true",meta:"false",embed:"screenshot.url",colorScheme:"light","viewport.isMobile":"true","viewport.deviceScaleFactor":"1","viewport.width":String(e.width*3),"viewport.height":String(e.height*3)});return"https://api.microlink.io/?".concat(n.toString())}),f=N({x:0,y:0}),M=u(()=>{var k;if(!h.value)return{};const n=20,a=e.width,x=e.height,D=window.innerWidth;let v=f.x-a/2;v=Math.min(Math.max(0,v),D-a);const b=(k=h.value.parentElement)==null?void 0:k.getBoundingClientRect(),F=b?b.top-x-n:0;return{position:"fixed",left:"".concat(v,"px"),top:"".concat(F,"px"),width:"".concat(a,"px"),height:"".concat(x,"px")}}),V=u(()=>({width:"".concat(e.width,"px"),height:"".concat(e.height,"px")})),P=u(()=>p.value?"animate-pop":"");function B(n){f.x=n.clientX,f.y=n.clientY}function L(){t.value=!0,setTimeout(()=>{p.value=!0},50)}function j(){t.value=!1,p.value=!1}function z(){C.value=!1}return(n,a)=>(g(),w("div",{class:m(o(S)("relative inline-block",e.class))},[c("a",{href:i.url,target:"_blank",class:m(o(S)("text-primary",e.linkClass)),onMousemove:B,onMouseenter:L,onMouseleave:j},[U(n.$slots,"default",{},void 0,!0)],42,W),o(t)?(g(),w("div",{key:0,ref_key:"preview",ref:h,class:"pointer-events-none absolute z-2050",style:y(o(M))},[c("div",{class:m(["overflow-hidden rounded-xl shadow-xl",[o(P),{"transform-gpu":!e.isStatic}]])},[c("div",I,[c("img",{src:o($),width:i.width,height:i.height,class:"size-full rounded-lg object-cover",style:y(o(V)),alt:"preview",onLoad:z},null,44,T)])],2)],4)):R("",!0)],2))}}),H=_(G,[["__scopeId","data-v-ee7c5cb7"]]),O={},X={class:"text-xl"};function Y(i,e){const t=H;return g(),w("p",X,[r(t,{url:"https://fantastic-admin.hurui.me/",width:300,height:200,"link-class":"font-bold"},{default:l(()=>[...e[0]||(e[0]=[s(" Fantastic-admin ",-1)])]),_:1}),e[5]||(e[5]=s(" 的技术栈： ",-1)),r(t,{url:"https://cn.vitejs.dev/","link-class":"text-[#9C5DFE] font-bold"},{default:l(()=>[...e[1]||(e[1]=[s(" Vite ",-1)])]),_:1}),e[6]||(e[6]=s(" / ",-1)),r(t,{url:"https://cn.vuejs.org/","link-class":"text-[#42B883] font-bold"},{default:l(()=>[...e[2]||(e[2]=[s(" Vue.js ",-1)])]),_:1}),e[7]||(e[7]=s(" / ",-1)),r(t,{url:"https://router.vuejs.org/zh/","link-class":"text-[#18794E] font-bold"},{default:l(()=>[...e[3]||(e[3]=[s(" Vue Router ",-1)])]),_:1}),e[8]||(e[8]=s(" / ",-1)),r(t,{url:"https://unocss.dev/","link-class":"text-[#4D4D4D] font-bold"},{default:l(()=>[...e[4]||(e[4]=[s(" UnoCSS ",-1)])]),_:1})])}const A=_(O,[["render",Y]]);export{A as default};
