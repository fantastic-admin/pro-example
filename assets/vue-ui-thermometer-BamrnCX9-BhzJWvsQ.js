
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./PackageVersion-TgflyMpU-BuemEpsd.js","./index-Bnionyve.js","./index-DpF4sDjY.css","./PenAndPaper-DSvu9dwa-CWkxTD_Q.js","./vue-data-ui-DO-nR8BN.js","./alert-Vqv_sKXu.js","./command.vue_vue_type_script_setup_true_lang-BupUAzs5.js","./index.vue_vue_type_script_setup_true_lang-BlKfdQqy.js","./vue-data-ui-D1HaM8UR.css","./ColorPicker-J5wOPCeB-D7M-gujm.js","./vClickOutside-C6WiFswA-B2BXHGcD.js","./UserOptions-1OZ3jcm6-ChPN5pX4.js","./img-BecE5qXd-BcsKpilD.js","./dom-to-png--BNgrTZV-Dq14aDuv.js"])))=>i.map(i=>d[i]);
import{bv as Le,M as h,g as c,Z as qe,ar as Ne,a1 as Ve,c as u,o as r,N as R,O as n,a as i,cA as j,co as Ge,m as C,r as m,D as U,E as W,U as ge,n as z,k as He,l as d,R as Y,S as me,p as Be,cC as Q}from"./index-Bnionyve.js";import{s as De,Q as je,A as Qe,g as Je,p as ye,b as Xe,v as Ze,m as O,C as Ke,c as y,a as L,y as et,O as tt,I as at,f as lt}from"./vue-data-ui-DO-nR8BN.js";import{E as ot,M as rt}from"./useResponsive-DfdjqQps-DzVAt69W.js";import{t as st,o as pe}from"./useNestedProp-dJX_8vvZ-Dub3p3M4.js";import{S as ut,T as it}from"./BaseScanner-BgWxam9d-Cak_1oua.js";import{m as nt}from"./usePrinter-DTzqpYKF-B2bIVIDD.js";import{O as vt}from"./useSvgExport-DrjCWun4-cEuqHQFy.js";import{a as ht}from"./useUserOptionState-BIvW1Kz7-KDDO9AXL.js";import{o as ct}from"./useChartAccessibility-9icAAmYg-DZae9bBn.js";import{v as dt}from"./useAutoSizeLabelsInsideViewbox-BhzfwQ_k-0WoQMul6.js";import{J as gt}from"./themes-AUNCOb2G-RAhReTPj.js";import mt from"./Title-BWp-37K_-Dj90ij3U.js";import yt from"./img-BecE5qXd-BcsKpilD.js";import"./alert-Vqv_sKXu.js";import"./command.vue_vue_type_script_setup_true_lang-BupUAzs5.js";import"./index.vue_vue_type_script_setup_true_lang-BlKfdQqy.js";import"./dom-to-png--BNgrTZV-Dq14aDuv.js";const pt=["id"],ft={key:1,ref:"noTitle",class:"vue-data-ui-no-title-space",style:"height:36px; width: 100%;background:transparent"},kt=["xmlns","viewBox"],bt=["width","height"],xt=["id"],wt=["x","y","width","height","rx","ry"],$t=["id"],_t=["stop-color"],At=["stop-color"],Ct=["stop-color"],Ot=["clip-path"],It=["x","y","height","width"],Ft=["x","y","height","width","fill"],Pt=["x1","x2","y1","y2","stroke-width","stroke"],St=["x1","x2","y1","y2","stroke-width","stroke"],Mt=["x1","x2","y1","y2","stroke-width","stroke"],Tt=["x1","x2","y1","y2","stroke-width","stroke"],Et=["x1","x2","y1","y2","stroke-width","stroke"],Rt=["x1","x2","y1","y2","stroke-width","stroke"],Ut=["x1","x2","y1","y2","stroke-width","stroke"],Wt=["x1","x2","y1","y2","stroke-width","stroke"],zt=["x","y","height","width"],Yt={key:1},Lt=["x","y","height"],qt=["y","x","fill","font-size","font-weight"],Nt={key:4,class:"vue-data-ui-watermark"},Vt={__name:"vue-ui-thermometer",props:{dataset:{type:Object,default(){return{}}},config:{type:Object,default(){return{}}}},setup(I,{expose:fe}){Le(a=>({v37fa8dda:Fe.value,ee141c4a:Ie.value,e9077cf0:Oe.value}));const ke=j(()=>Q(()=>import("./PackageVersion-TgflyMpU-BuemEpsd.js"),__vite__mapDeps([0,1,2]),import.meta.url)),be=j(()=>Q(()=>import("./PenAndPaper-DSvu9dwa-CWkxTD_Q.js"),__vite__mapDeps([3,1,2,4,5,6,7,8,9,10]),import.meta.url)),xe=j(()=>Q(()=>import("./UserOptions-1OZ3jcm6-ChPN5pX4.js"),__vite__mapDeps([11,1,2,10,4,5,6,7,8,12,13]),import.meta.url)),{vue_ui_thermometer:we}=st(),p=I,f=c(je()),k=c(null),J=c(0),X=c(0),Z=c(null),K=c(null),x=c(null),F=c(null),$e=h(()=>!!p.dataset&&Object.keys(p.dataset).length);qe(()=>{ae()});const e=c(G()),_e=c(e.value.style.chart.thermometer.width),q=c(e.value.style.chart.height),N=c(e.value.style.chart.width),{loading:ee,FINAL_DATASET:v}=ut({...Ne(p),FINAL_CONFIG:e,prepareConfig:G,skeletonDataset:{value:0,from:-100,to:100,steps:20,colors:{from:"#A1A1A1",to:"#CACACA"}},skeletonConfig:Qe({defaultConfig:e.value,userConfig:{userOptions:{show:!1},style:{chart:{animation:{use:!1},backgroundColor:"#99999930",graduations:{stroke:"#6A6A6A"}}}}})}),te=h(()=>!!e.value.debug);function ae(){if(Je(p.dataset)?ye({componentName:"VueUiThermometer",type:"dataset",debug:te.value}):Xe({datasetObject:p.dataset,requiredAttributes:["value","from","to"]}).forEach(a=>{ye({componentName:"VueUiThermometer",type:"datasetAttribute",property:a,debug:te.value})}),e.value.responsive){const a=ot(()=>{const{width:o,height:t}=rt({chart:k.value,title:e.value.style.title.text?Z.value:null,source:K.value});requestAnimationFrame(()=>{q.value=Math.max(.1,t-12),N.value=o,ce()})});x.value&&(F.value&&x.value.unobserve(F.value),x.value.disconnect()),x.value=new ResizeObserver(a),F.value=k.value,x.value.observe(F.value)}ce()}const{userOptionsVisible:V,setUserOptionsVisibility:le,keepUserOptionState:oe}=ht({config:e.value}),{svgRef:P}=ct({config:e.value.style.title});function G(){const a=pe({userConfig:p.config,defaultConfig:we});return a.theme?{...pe({userConfig:gt.vue_ui_thermometer[a.theme]||p.config,defaultConfig:a}),customPalette:Ze[a.theme]||O}:a}Ve(()=>p.config,a=>{e.value=G(),V.value=!e.value.userOptions.showOnChartHover,_e.value=e.value.style.chart.thermometer.width,q.value=e.value.style.chart.height,N.value=e.value.style.chart.width,ae(),X.value+=1},{deep:!0});const{isPrinting:re,isImaging:se,generatePdf:ue,generateImage:ie}=nt({elementId:"thermometer__".concat(f.value),fileName:e.value.style.title.text||"vue-ui-thermometer",options:e.value.userOptions.print}),Ae=h(()=>e.value.userOptions.show&&!e.value.style.title.text),S=h(()=>Ke(e.value.customPalette)),g=h(()=>v.value.steps||10);function M(a,o,t){const s=[],b=ne(a),_=ne(o);for(let A=0;A<t;A++){const Ue=H(b.red,_.red,A,t),We=H(b.green,_.green,A,t),ze=H(b.blue,_.blue,A,t),Ye="#".concat(B(Ue)).concat(B(We)).concat(B(ze));s.push(Ye)}return s}function ne(a){const o=a.slice(1);return{red:parseInt(o.slice(0,2),16),green:parseInt(o.slice(2,4),16),blue:parseInt(o.slice(4,6),16)}}function H(a,o,t,s){return Math.round(a+(o-a)*t/s)}function B(a){return a.toString(16).padStart(2,"0")}const l=h(()=>{const a=Math.max(.1,N.value),o=Math.max(.1,q.value),t=e.value.style.chart.padding;return{width:a,left:a/2-e.value.style.chart.thermometer.width/2,right:a/2+e.value.style.chart.thermometer.width/2,top:t.top,bottom:o-t.bottom-t.top,height:o,thermoHeight:o-t.top-t.bottom,thermoWidth:e.value.style.chart.thermometer.width}}),Ce=h(()=>l.value),T=h(()=>{const a=y(v.value.from)<0?Math.abs(y(v.value.from)):y(v.value.from),o=y(v.value.to)<0?Math.abs(y(v.value.to)):y(v.value.to);let t=0;return y(v.value.to)>0?t=a+o:a>o?t=a-o:t=o-a,(1-(Math.abs(y(v.value.from))+y(v.value.value))/t)*l.value.thermoHeight}),Oe=h(()=>"".concat(T.value,"px")),Ie=h(()=>"".concat(l.value.thermoHeight,"px")),Fe=h(()=>"".concat(e.value.style.chart.animation.speedMs,"ms")),Pe=h(()=>{if(v.value.colors){if(!v.value.colors.from)return M(S.value[0]||O[0],L(v.value.colors.to),g.value||10);if(!v.value.colors.to)return M(L(v.value.colors.from),S.value[1]||O[1],g.value||10)}else return M(S.value[1]||O[1],S.value[0]||O[0],g.value||10);return M(L(v.value.colors.from),L(v.value.colors.to),g.value||10)}),ve=h(()=>{const a=[];let o=0;const t=l.value.thermoHeight;for(let s=0;s<t-1;s+=t/g.value)a.push({x:l.value.left,y:l.value.top+s,qYLess:l.value.top+s+t/g.value/4,halfY:l.value.top+s+t/g.value/2,qYMore:l.value.top+s+t/g.value/4*3,color:Pe.value[o],height:Math.max(.1,t/g.value)}),o+=1;return a}),w=c(!1);function he(a){w.value=a,J.value+=1}const E=c(!1);function D(){E.value=!E.value}async function Se({scale:a=2}={}){if(!k.value)return;const{width:o,height:t}=k.value.getBoundingClientRect(),s=o/t,{imageUri:b,base64:_}=await yt({domElement:k.value,base64:!0,img:!0,scale:a});return{imageUri:b,base64:_,title:e.value.style.title.text,width:o,height:t,aspectRatio:s}}const $=h({get:()=>e.value.style.chart.label.fontSize,set:a=>a}),{autoSizeLabels:ce}=dt({svgRef:P,fontSize:e.value.style.chart.label.fontSize,minFontSize:e.value.style.chart.label.minFontSize,sizeRef:$,labelClass:".vue-ui-thermometer-label"}),Me=h(()=>e.value.style.chart.backgroundColor),Te=h(()=>e.value.style.title),{exportSvg:Ee,getSvg:Re}=vt({svg:P,title:Te,backgroundColor:Me});async function de({isCb:a}){if(a){const{blob:o,url:t,text:s,dataUrl:b}=await Re();e.value.userOptions.callbacks.svg({blob:o,url:t,text:s,dataUrl:b})}else Ee()}return fe({getImage:Se,generatePdf:ue,generateImage:ie,generateSvg:de,toggleAnnotator:D,toggleFullscreen:he}),(a,o)=>(r(),u("div",{ref_key:"thermoChart",ref:k,class:z("vue-data-ui-component vue-ui-thermometer ".concat(w.value?"vue-data-ui-wrapper-fullscreen":"")),style:ge("width:100%;background:".concat(e.value.style.chart.backgroundColor,";color:").concat(e.value.style.chart.color,";font-family:").concat(e.value.style.fontFamily)),id:"thermometer__".concat(f.value),onMouseenter:o[0]||(o[0]=()=>i(le)(!0)),onMouseleave:o[1]||(o[1]=()=>i(le)(!1))},[e.value.userOptions.buttons.annotator?(r(),R(i(be),{key:0,svgRef:i(P),backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,active:E.value,onClose:D},null,8,["svgRef","backgroundColor","color","active"])):n("",!0),Ae.value?(r(),u("div",ft,null,512)):n("",!0),e.value.style.title.text?(r(),u("div",{key:2,ref_key:"chartTitle",ref:Z,style:"width:100%"},[(r(),R(mt,{key:"title_".concat(X.value),config:{title:{cy:"thermometer-div-title",...e.value.style.title},subtitle:{cy:"thermometer-div-subtitle",...e.value.style.title.subtitle}}},null,8,["config"]))],512)):n("",!0),e.value.userOptions.show&&$e.value&&(i(oe)||i(V))?(r(),R(i(xe),{ref:"details",key:"user_options_".concat(J.value),backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,isImaging:i(se),isPrinting:i(re),uid:f.value,hasPdf:e.value.userOptions.buttons.pdf,hasImg:e.value.userOptions.buttons.img,hasSvg:e.value.userOptions.buttons.svg,hasFullscreen:e.value.userOptions.buttons.fullscreen,hasXls:!1,isFullscreen:w.value,titles:{...e.value.userOptions.buttonTitles},chartElement:k.value,position:e.value.userOptions.position,hasAnnotator:e.value.userOptions.buttons.annotator,isAnnotation:E.value,callbacks:e.value.userOptions.callbacks,printScale:e.value.userOptions.print.scale,onToggleFullscreen:he,onGeneratePdf:i(ue),onGenerateImage:i(ie),onGenerateSvg:de,onToggleAnnotator:D,style:ge({visibility:i(oe)?i(V)?"visible":"hidden":"visible"})},Ge({_:2},[a.$slots.menuIcon?{name:"menuIcon",fn:C(({isOpen:t,color:s})=>[m(a.$slots,"menuIcon",U(W({isOpen:t,color:s})),void 0,!0)]),key:"0"}:void 0,a.$slots.optionPdf?{name:"optionPdf",fn:C(()=>[m(a.$slots,"optionPdf",{},void 0,!0)]),key:"1"}:void 0,a.$slots.optionImg?{name:"optionImg",fn:C(()=>[m(a.$slots,"optionImg",{},void 0,!0)]),key:"2"}:void 0,a.$slots.optionFullscreen?{name:"optionFullscreen",fn:C(({toggleFullscreen:t,isFullscreen:s})=>[m(a.$slots,"optionFullscreen",U(W({toggleFullscreen:t,isFullscreen:s})),void 0,!0)]),key:"3"}:void 0,a.$slots.optionAnnotator?{name:"optionAnnotator",fn:C(({toggleAnnotator:t,isAnnotator:s})=>[m(a.$slots,"optionAnnotator",U(W({toggleAnnotator:t,isAnnotator:s})),void 0,!0)]),key:"4"}:void 0]),1032,["backgroundColor","color","isImaging","isPrinting","uid","hasPdf","hasImg","hasSvg","hasFullscreen","isFullscreen","titles","chartElement","position","hasAnnotator","isAnnotation","callbacks","printScale","onGeneratePdf","onGenerateImage","style"])):n("",!0),(r(),u("svg",{ref_key:"svgRef",ref:P,xmlns:i(et),class:z({"vue-data-ui-fullscreen--on":w.value,"vue-data-ui-fulscreen--off":!w.value}),width:"100%",viewBox:"0 0 ".concat(l.value.width," ").concat(l.value.height),style:"background:transparent"},[He(i(ke)),a.$slots["chart-background"]?(r(),u("foreignObject",{key:0,x:0,y:0,width:l.value.width,height:l.value.height,style:{pointerEvents:"none"}},[m(a.$slots,"chart-background",{},void 0,!0)],8,bt)):n("",!0),d("defs",null,[d("clipPath",{id:"vueUiPill-".concat(f.value),clipPathUnits:"userSpaceOnUse"},[d("rect",{x:l.value.left,y:l.value.top,width:l.value.thermoWidth,height:l.value.thermoHeight,rx:l.value.thermoWidth/2,ry:l.value.thermoWidth/2},null,8,wt)],8,xt),(r(!0),u(Y,null,me(ve.value,(t,s)=>(r(),u("linearGradient",{id:"vueUiThermometerGradient_".concat(s,"_").concat(f.value),x1:"0%",y1:"0%",x2:"100%",y2:"0%"},[d("stop",{offset:"0%","stop-color":t.color},null,8,_t),d("stop",{offset:"50%","stop-color":i(tt)(t.color,100-e.value.style.chart.graduations.gradient.intensity)},null,8,At),d("stop",{offset:"100%","stop-color":t.color},null,8,Ct)],8,$t))),256))]),d("g",{"clip-path":"url(#vueUiPill-".concat(f.value,")")},[d("rect",{x:l.value.left,y:l.value.top,height:l.value.thermoHeight,width:l.value.thermoWidth,fill:"#FFFFFF"},null,8,It),(r(!0),u(Y,null,me(ve.value,(t,s)=>(r(),u("g",{key:"graduation_".concat(s)},[d("rect",{x:t.x,y:t.y,height:t.height,width:l.value.thermoWidth,fill:e.value.style.chart.graduations.gradient.show?"url(#vueUiThermometerGradient_".concat(s,"_").concat(f.value,")"):t.color,"shape-rendering":"crispEdges"},null,8,Ft),e.value.style.chart.graduations.show&&["both","left"].includes(e.value.style.chart.graduations.sides)?(r(),u("line",{key:0,x1:t.x,x2:t.x+10,y1:t.y,y2:t.y,"stroke-width":e.value.style.chart.graduations.strokeWidth,stroke:e.value.style.chart.graduations.stroke,"stroke-linecap":"round"},null,8,Pt)):n("",!0),e.value.style.chart.graduations.showIntermediate?(r(),u(Y,{key:1},[e.value.style.chart.graduations.show&&["both","left"].includes(e.value.style.chart.graduations.sides)?(r(),u("line",{key:0,x1:t.x,x2:t.x+5,y1:t.halfY,y2:t.halfY,"stroke-width":e.value.style.chart.graduations.strokeWidth/2,stroke:e.value.style.chart.graduations.stroke,"stroke-linecap":"round"},null,8,St)):n("",!0),e.value.style.chart.graduations.show&&["both","left"].includes(e.value.style.chart.graduations.sides)?(r(),u("line",{key:1,x1:t.x,x2:t.x+2.5,y1:t.qYLess,y2:t.qYLess,"stroke-width":e.value.style.chart.graduations.strokeWidth/2,stroke:e.value.style.chart.graduations.stroke,"stroke-linecap":"round"},null,8,Mt)):n("",!0),e.value.style.chart.graduations.show&&["both","left"].includes(e.value.style.chart.graduations.sides)?(r(),u("line",{key:2,x1:t.x,x2:t.x+2.5,y1:t.qYMore,y2:t.qYMore,"stroke-width":e.value.style.chart.graduations.strokeWidth/2,stroke:e.value.style.chart.graduations.stroke,"stroke-linecap":"round"},null,8,Tt)):n("",!0)],64)):n("",!0),e.value.style.chart.graduations.show&&["both","right"].includes(e.value.style.chart.graduations.sides)?(r(),u("line",{key:2,x1:l.value.right,x2:l.value.right-10,y1:t.y,y2:t.y,"stroke-width":e.value.style.chart.graduations.strokeWidth,stroke:e.value.style.chart.graduations.stroke,"stroke-linecap":"round"},null,8,Et)):n("",!0),e.value.style.chart.graduations.showIntermediate?(r(),u(Y,{key:3},[e.value.style.chart.graduations.show&&["both","right"].includes(e.value.style.chart.graduations.sides)?(r(),u("line",{key:0,x1:l.value.right,x2:l.value.right-5,y1:t.halfY,y2:t.halfY,"stroke-width":e.value.style.chart.graduations.strokeWidth/2,stroke:e.value.style.chart.graduations.stroke,"stroke-linecap":"round"},null,8,Rt)):n("",!0),e.value.style.chart.graduations.show&&["both","right"].includes(e.value.style.chart.graduations.sides)?(r(),u("line",{key:1,x1:l.value.right,x2:l.value.right-2.5,y1:t.qYLess,y2:t.qYLess,"stroke-width":e.value.style.chart.graduations.strokeWidth/2,stroke:e.value.style.chart.graduations.stroke,"stroke-linecap":"round"},null,8,Ut)):n("",!0),e.value.style.chart.graduations.show&&["both","right"].includes(e.value.style.chart.graduations.sides)?(r(),u("line",{key:2,x1:l.value.right,x2:l.value.right-2.5,y1:t.qYMore,y2:t.qYMore,"stroke-width":e.value.style.chart.graduations.strokeWidth/2,stroke:e.value.style.chart.graduations.stroke,"stroke-linecap":"round"},null,8,Wt)):n("",!0)],64)):n("",!0)]))),128)),d("rect",{class:z({"vue-ui-thermometer-temperature":e.value.style.chart.animation.use}),x:l.value.left,y:l.value.top,height:T.value,width:l.value.thermoWidth,fill:"#FFFFFF66"},null,10,zt)],8,Ot),e.value.style.chart.label.show?(r(),u("g",Yt,[i(ee)?(r(),u("rect",{key:0,x:l.value.left-60,y:T.value+l.value.top-$.value/2,width:50,height:$.value,fill:"#6A6A6A40",rx:"3"},null,8,Lt)):(r(),u("text",{key:1,class:z({"vue-ui-thermometer-temperature-value":e.value.style.chart.animation.use,"vue-ui-thermometer-label":!0}),y:T.value+l.value.top+$.value/3,x:l.value.left-10,"text-anchor":"end",fill:e.value.style.chart.label.color,"font-size":$.value,"font-weight":e.value.style.chart.label.bold?"bold":"normal"},Be(i(at)(e.value.style.chart.label.formatter,I.dataset.value,i(lt)({p:e.value.style.chart.label.prefix,v:I.dataset.value,s:e.value.style.chart.label.suffix,r:e.value.style.chart.label.rounding}),{datapoint:I.dataset})),11,qt))])):n("",!0),m(a.$slots,"svg",{svg:Ce.value},void 0,!0)],10,kt)),a.$slots.watermark?(r(),u("div",Nt,[m(a.$slots,"watermark",U(W({isPrinting:i(re)||i(se)})),void 0,!0)])):n("",!0),a.$slots.source?(r(),u("div",{key:5,ref_key:"source",ref:K,dir:"auto"},[m(a.$slots,"source",{},void 0,!0)],512)):n("",!0),i(ee)?(r(),R(it,{key:6})):n("",!0)],46,pt))}},ua=De(Vt,[["__scopeId","data-v-181d4751"]]);export{ua as default};
