
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{w as B}from"./vue-data-ui-3mUtIY8T.js";import{n as p,N as g,C,ae as k,x as h,l as N,o as S,c as T,b as Y,M as y,f as $,a4 as M,A as O,T as z,a7 as R}from"./index-H6QnEWHf.js";import"./alert-yicQvtMn.js";import"./command.vue_vue_type_script_setup_true_lang-Diw_3237.js";import"./index.vue_vue_type_script_setup_true_lang-ByxJxKu_.js";function W({tooltip:l,chart:u,clientPosition:e,positionPreference:c="center",defaultOffsetY:v=24,blockShiftY:m=!1}){const t=p(0),a=p(v);if(l&&u){const{width:n,height:i}=l.getBoundingClientRect(),{right:s,left:d,bottom:f}=u.getBoundingClientRect();c==="center"&&(e.x+n/2>s?t.value=-n+(s-e.x):e.x-n/2<d?t.value=-n+(n-(e.x-d)):t.value=-n/2),c==="right"&&(e.x+n>s?t.value=-n+(s-e.x):t.value=0),c==="left"&&(e.x<d+n?t.value=-n+(n-(e.x-d)):t.value=-n),e.y+i>f&&!m&&(a.value=-i-v)}return{top:e.y+a.value,left:e.x+t.value}}function L(l,u,e){R(()=>l.addEventListener(u,e)),k(()=>l.removeEventListener(u,e))}function A(){const l=p(0),u=p(0);return L(window,"mousemove",e=>{l.value=e.clientX,u.value=e.clientY}),{x:l,y:u}}const E=["aria-hidden"],P=["innerHTML"],V={__name:"Tooltip",props:{backgroundColor:{type:String,default:"#FFFFFF"},color:{type:String,default:"#000000"},content:String,maxWidth:{type:String,default:"300px"},parent:{type:Object},show:{type:Boolean,default:!1},isCustom:{type:Boolean,default:!1},fontSize:{type:[Number,String],default:14},borderRadius:{type:Number,default:4},borderColor:{type:String,default:"#e1e5e8"},borderWidth:{type:Number,default:1},backgroundOpacity:{type:Number,default:100},position:{type:String,default:"center"},offsetY:{type:Number,default:24},blockShiftY:{type:Boolean,default:!1},isFullscreen:{type:Boolean,default:!1},smooth:{type:Boolean,default:!0},backdropFilter:{type:Boolean,default:!0},smoothForce:{type:Number,default:.18},smoothSnapThreshold:{type:Number,default:.25}},setup(l,{expose:u}){const e=l,c=p(null),{x:v,y:m}=A(e.parent),t=p({x:0,y:0}),a=p({x:0,y:0});function n({x:o,y:r}){v.value=o,m.value=r}let i=null;function s(){if(!e.show){f();return}if(!e.smooth){a.value.x=t.value.x,a.value.y=t.value.y,f();return}const o=t.value.x-a.value.x,r=t.value.y-a.value.y;if(Math.abs(o)<=e.smoothSnapThreshold&&Math.abs(r)<=e.smoothSnapThreshold){a.value.x=t.value.x,a.value.y=t.value.y,f();return}a.value.x+=o*e.smoothForce,a.value.y+=r*e.smoothForce,i=requestAnimationFrame(s)}function d(){i==null&&e.show&&e.smooth&&(i=requestAnimationFrame(s))}function f(){i!=null&&(cancelAnimationFrame(i),i=null)}g([v,m],([o,r])=>{t.value.x=o,t.value.y=r,e.smooth?d():(a.value.x=o,a.value.y=r)}),g(()=>e.show,async o=>{if(o){const r=v.value,b=m.value;t.value.x=r,t.value.y=b,a.value.x=r,a.value.y=b,await C(),d()}else f()}),k(()=>{f()});const x=h(()=>{const o=W({tooltip:c.value,chart:e.parent,clientPosition:a.value,positionPreference:e.position,defaultOffsetY:e.offsetY,blockShiftY:e.blockShiftY});return{top:Math.round(o.top),left:Math.round(o.left)}}),F=h(()=>B(e.backgroundColor,e.backgroundOpacity)),w=h(()=>{const o={pointerEvents:"none",position:"fixed",top:"0px",left:"0px",transform:"translate3d(".concat(x.value.left,"px, ").concat(x.value.top,"px, 0)"),borderRadius:"".concat(e.borderRadius,"px"),border:"".concat(e.borderWidth,"px solid ").concat(e.borderColor),zIndex:2147483647};return e.isCustom||Object.assign(o,{background:F.value,color:e.color,maxWidth:e.maxWidth,fontSize:"".concat(e.fontSize,"px")}),o});return u({placeTooltip:n}),(o,r)=>(S(),N(z,{to:l.isFullscreen?l.parent:"body"},[l.show?(S(),T("div",{key:0,ref_key:"tooltip",ref:c,role:"tooltip","aria-hidden":!l.show,"aria-live":"polite",class:O({"vue-data-ui-custom-tooltip":l.isCustom,"vue-data-ui-tooltip":!l.isCustom,"vue-data-ui-tooltip-backdrop":l.backdropFilter}),style:M(w.value)},[y(o.$slots,"tooltip-before"),y(o.$slots,"default"),$("div",{innerHTML:l.content},null,8,P),y(o.$slots,"tooltip-after")],14,E)):Y("",!0)],8,["to"]))}};export{V as default};
